(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d1d7d48"],{"0af2":function(t,e,n){},1374:function(t,e,n){},"16d0":function(t,e,n){"use strict";var i=n("1374"),a=n.n(i);a.a},"174f":function(t,e,n){},"1ca5":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"comments-section",attrs:{"no-gutters":""}},[n("v-col",{attrs:{md:"12"}},[n("v-subheader",{staticClass:"body-2"},[t._v("Comments:")]),n("v-list",{staticClass:"comments-wrapper",attrs:{dense:"","three-line":"",flat:"","max-height":t.maxHeight}},[t.comments.length>0?t._l(t.comments,(function(e,i){return n("v-list-item",{key:e.id,staticClass:"px-0",on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[n("v-list-item-avatar",[n("v-img",{attrs:{src:e.causer.image_url}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(e.causer.fullname)}}),n("v-list-item-subtitle",{staticClass:"caption"},[t._v(" "+t._s(t._f("from_now")(e.created_at))+" ")]),n("v-list-item-subtitle",[n("Editor",{attrs:{"has-tools":!1,"has-floating-tools":!1,content:e.body,editable:!1}})],1)],1),n("v-list-item-action",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.hover&&t.can_delete_comment(e),expression:"hover && can_delete_comment(item)"}],attrs:{icon:""},on:{click:function(n){return t.confirm_delete_comment(e)}}},[n("v-icon",{attrs:{small:"",color:"grey lighten-1"}},[t._v("delete")])],1)],1)],1)})):[n("Empty",{attrs:{headline:"No comment yet"}})]],2),t.next_page_url?n("v-btn",{attrs:{dense:"",text:"",block:""},on:{click:t.fetchMoreComments}},[t._v("Load More")]):t._e()],1),n("v-col",{staticClass:"comment-field-wrapper",attrs:{md:"12"}},[n("v-row",[n("v-avatar",{attrs:{size:"40"}},[n("v-img",{attrs:{src:t.user.image_url,alt:t.user.fullname}})],1),n("v-col",{staticClass:"pr-3 pl-4",attrs:{grow:""}},[n("div",{staticClass:"comment-field"},[n("Editor",{attrs:{componentKey:t.counterReset,hasFloatingTools:!1,content:t.comment,placeholder:"Enter a comment"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),n("v-btn",{staticClass:"send",attrs:{loading:t.btnloading,tile:"",disabled:t.isEmptyComment},on:{click:t.addComment}},[n("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-send")]),t._v(" Send ")],1)],1)])],1)],1),n("DeleteDialog",{ref:"delete_comment_dialog",attrs:{title:"Delete Comment","text-content":"Are you sure you want to delete this comment?"},on:{delete:t.confirmed_delete_comment}})],1)},a=[],o=n("2909"),s=(n("20d6"),n("c5f6"),n("1be9")),r=n("579d"),l=n("5d98"),c=n("5b70"),u={name:"Comment",mixins:[r["a"]],components:{Editor:l["a"],DeleteDialog:c["a"]},props:{id:Number,componentKey:Number,items:{type:Array,default:function(){return[]}},fetchApi:{type:String,default:""},deleteApi:{type:String,default:"api/comments"},addApi:{type:String,default:"api/comments"},uploadApi:{type:String,default:"api/file/image-upload"},maxHeight:{type:Number,default:400}},data:function(){return{comments:[],comment:"",btnloading:!1,hover:!1,activeComment:null,next_page_url:null,counterReset:0}},mounted:function(){this.comments=this.items,""!==this.fetchApi&&this.fetchComments()},watch:{componentKey:{handler:function(t){t&&""!==this.fetchApi&&this.fetchComments()},deep:!0}},computed:{user:function(){return this.$store.getters.user},isEmptyComment:function(){return!this.comment||""===this.comment}},methods:{can_delete_comment:function(t){return!!this.user.is_admin||t.causer.id===this.user.id},confirm_delete_comment:function(t){this.activeComment=t,this.$refs.delete_comment_dialog.showDialog()},addComment:function(){var t=this;if(this.comment&&""!==this.comment){this.btnloading=!0;var e={comment:this.comment,body:this.comment};s["a"].post(this.addApi,e).then((function(e){var n=e.data;t.comments.push(n),t.comment="",t.counterReset+=1})).finally((function(){return t.btnloading=!1}))}},confirmed_delete_comment:function(){var t=this;s["a"].delete("".concat(this.deleteApi,"/").concat(this.activeComment.id)).then((function(e){e.data;var n=t.comments.findIndex((function(e){return e.id===t.activeComment.id}));~n&&(t.comments.splice(n,1),t.activeComment=null),t.$refs.delete_comment_dialog.closeDialog()})).finally((function(){return t.btnloading=!1}))},fetchComments:function(){var t=this;this.loading=!0,s["a"].get("".concat(this.fetchApi,"?page=1")).then((function(e){var n=e.data;t.comments=n.data,t.next_page_url=n.next_page_url})).finally((function(){return t.loading=!1}))},fetchMoreComments:function(){var t=this;s["a"].get("".concat(this.next_page_url)).then((function(e){var n,i=e.data;(n=t.comments).push.apply(n,Object(o["a"])(i.data)),t.next_page_url=i.next_page_url}))}}},m=u,d=(n("1d4a"),n("2877")),f=Object(d["a"])(m,i,a,!1,null,"9b3be864",null);e["a"]=f.exports},"1d4a":function(t,e,n){"use strict";var i=n("eb39"),a=n.n(i);a.a},"1e0f":function(t,e,n){"use strict";var i=n("8807"),a=n.n(i);a.a},"29d6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-header"},[t._t("prepends"),t.hasSearch?n("v-text-field",{attrs:{dense:"",outlined:"",clearable:"","clear-icon":"mdi-close-circle-outline",solo:"",flat:"","append-icon":"search","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e(),t.noButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"add__btn ml-2",on:{click:function(e){return t.$emit("click")}}},"v-icon",a,!1),i),[t._v(" mdi-plus-circle-outline ")])]}}],null,!1,832533837)},[n("span",[t._v("Create new")])]),t._t("center"),t.noSortButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",on:{click:function(e){return t.$emit("click-sort-by")}}},"v-icon",a,!1),i),[t._v(" sort ")])]}}],null,!1,247375115)},[n("span",[t._v("Sort")])]),t.noListButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",attrs:{color:"list"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-list-view")}}},"v-icon",a,!1),i),[t._v(" mdi-view-list ")])]}}],null,!1,3129698352)},[n("span",[t._v("List view")])]),t.noGridButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"add__btn ml-2",attrs:{color:"grid"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-grid-view")}}},"v-icon",a,!1),i),[t._v(" mdi-view-grid ")])]}}],null,!1,61101394)},[n("span",[t._v("Grid view")])]),t._t("form-btn")],2)},a=[],o={name:"TableHeader",props:{hasSearch:{type:Boolean,default:!1},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0,keyword:"",debounce:null}},watch:{keyword:function(t){var e=this;clearTimeout(this.debounce),this.debounce=setTimeout((function(){e.$emit("search",t)}),600)}},computed:{activeView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"}}},s=o,r=(n("d893"),n("2877")),l=Object(r["a"])(s,i,a,!1,null,"32f7f82b",null);e["a"]=l.exports},"3b2b":function(t,e,n){var i=n("7726"),a=n("5dbc"),o=n("86cc").f,s=n("9093").f,r=n("aae3"),l=n("0bfb"),c=i.RegExp,u=c,m=c.prototype,d=/a/g,f=/a/g,v=new c(d)!==d;if(n("9e1e")&&(!v||n("79e5")((function(){return f[n("2b4c")("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")})))){c=function(t,e){var n=this instanceof c,i=r(t),o=void 0===e;return!n&&i&&t.constructor===c&&o?t:a(v?new u(i&&!o?t.source:t,e):u((i=t instanceof c)?t.source:t,i&&o?l.call(t):e),n?this:m,c)};for(var _=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},p=s(u),h=0;p.length>h;)_(p[h++]);m.constructor=c,c.prototype=m,n("2aba")(i,"RegExp",c)}n("7a56")("RegExp")},"579d":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("28a5"),n("3b2b"),n("a481"),n("6b54"),n("4917");var i=n("7eac"),a={methods:{scrollToBottom:function(t){this.$nextTick((function(){"undefined"!==typeof t&&(t.scrollTop=t.scrollHeight-t.getBoundingClientRect().height)}))},addHost:function(t){return t&&"undefined"!==typeof t?0!==t.indexOf("http://")&&0!==t.indexOf("https://")?i["a"].apiHostBaseURL+t:t:i["a"].apiHostBaseURL},altImage:function(t){t&&t.hasOwnProperty("collection_name")&&"project.files.videos"===t.collection_name?(t.thumb_url=n("7335"),t.public_url=n("7335")):(t.thumb_url=n("e55f"),t.public_url=n("e55f"))},generate_random:function(t,e,n){for(var i=[],a=0;a<t;a++)i.push(parseInt((Math.random()*(n-e)+e).toFixed(0)));return i},youtubeParser:function(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=t.match(e);return!(!n||11!==n[7].length)&&n[7]},slugify:function(t,e){t=t.toString().toLowerCase().trim();var n=[{to:"a",from:"[ÀÁÂÃÅÆĀĂĄẠẢẤẦẨẪẬẮẰẲẴẶ]"},{to:"ae",from:"[Ä]"},{to:"c",from:"[ÇĆĈČ]"},{to:"d",from:"[ÐĎĐÞ]"},{to:"e",from:"[ÈÉÊËĒĔĖĘĚẸẺẼẾỀỂỄỆ]"},{to:"g",from:"[ĜĞĢǴ]"},{to:"h",from:"[ĤḦ]"},{to:"i",from:"[ÌÍÎÏĨĪĮİỈỊ]"},{to:"j",from:"[Ĵ]"},{to:"ij",from:"[Ĳ]"},{to:"k",from:"[Ķ]"},{to:"l",from:"[ĹĻĽŁ]"},{to:"m",from:"[Ḿ]"},{to:"n",from:"[ÑŃŅŇ]"},{to:"o",from:"[ÒÓÔÕØŌŎŐỌỎỐỒỔỖỘỚỜỞỠỢǪǬƠ]"},{to:"oe",from:"[ŒÖ]"},{to:"p",from:"[ṕ]"},{to:"r",from:"[ŔŖŘ]"},{to:"s",from:"[ŚŜŞŠ]"},{to:"ss",from:"[ß]"},{to:"t",from:"[ŢŤ]"},{to:"u",from:"[ÙÚÛŨŪŬŮŰŲỤỦỨỪỬỮỰƯ]"},{to:"ue",from:"[Ü]"},{to:"w",from:"[ẂŴẀẄ]"},{to:"x",from:"[ẍ]"},{to:"y",from:"[ÝŶŸỲỴỶỸ]"},{to:"z",from:"[ŹŻŽ]"},{to:"-",from:"[·/_,:;']"}];return n.forEach((function(e){t=t.replace(new RegExp(e.from,"gi"),e.to)})),t=t.toString().toLowerCase().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),"undefined"!==typeof e&&"-"!==e&&(t=t.replace(/-/g,e)),t},validateEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())},validateUrl:function(t){var e=/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/;return e.test(t)},getOrdinalNum:function(t){return t+(t>0?["th","st","nd","rd"][t>3&&t<21||t%10>3?0:t%10]:"")},weekdays:function(){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},snakeCaseToNormal:function(t){return t.split("_").join(" ")}}}},"5b70":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("custom-dialog",{attrs:{title:t.title,content:t.textContent,"button1-text":t.cancelButtonText,"button2-text":t.deleteButtonText,open:t.open},on:{"update:open":function(e){t.open=e},button1:t.cancel_clicked,button2:t.delete_clicked},scopedSlots:t._u([{key:"content",fn:function(){return[t._t("content",[n("v-banner",{attrs:{"two-line":"",outlined:"",tile:"",flat:""}},[n("v-icon",{attrs:{slot:"icon","x-large":"",color:"red accent-4"},slot:"icon"},[t._v(" mdi-alert-octagram ")]),n("p",{staticClass:"subtitle-1",domProps:{innerHTML:t._s(t.textContent)}})],1)])]},proxy:!0}],null,!0)})],1)},a=[],o=n("57e5"),s={components:{CustomDialog:o["a"]},props:{title:{type:String,default:"Default Modal Title"},textContent:{type:String,default:"Default Modal Text Content"},cancelButtonText:{type:String,default:"Cancel"},deleteButtonText:{type:String,default:"Yes, Delete"},openDialog:Boolean},data:function(){return{open:!1}},watch:{openDialog:function(t){this.open=t},open:function(t){this.$emit("update:openDialog",t)}},methods:{cancel_clicked:function(){this.open=!1},delete_clicked:function(){this.$emit("delete")},showDialog:function(){this.open=!0},closeDialog:function(){this.open=!1}}},r=s,l=n("2877"),c=Object(l["a"])(r,i,a,!1,null,null,null);e["a"]=c.exports},"72c1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar-wrapper"},[n("ul",{staticClass:"avatars"},[t.cutList.length>0?t._l(t.cutList,(function(e,i){return n("li",{key:i,staticClass:"avatars__item"},[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on;return[t.deep&&e.user?n("img",t._g({staticClass:"avatars__img",attrs:{src:e.user.image_url}},a)):e?n("img",t._g({staticClass:"avatars__img",attrs:{src:e.image_url}},a)):t._e()]}}],null,!0)},[t.deep&&e.user?n("span",[t._v(t._s(e.user.fullname))]):e?n("span",[t._v(t._s(e.fullname))]):t._e()])],1)})):t._e(),t.less>0?n("li",{staticClass:"avatars__item"},[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("span",t._g({staticClass:"avatars__others"},i),[t._v("+"+t._s(t.less))])]}}],null,!1,1062212335)},[n("span",{domProps:{innerHTML:t._s(t.lessList)}})])],1):t._e(),t.hasAddMember?n("li",{staticClass:"avatars__item"},[n("span",{staticClass:"avatars__add"},[n("v-icon",{attrs:{dark:""},on:{click:function(e){return t.$emit("add-member")}}},[t._v("add")])],1)]):t._e()],2)])},a=[],o=(n("c5f6"),n("0644")),s=n.n(o),r={inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},count:{type:Number,default:3},deep:{type:Boolean,default:!1},hasAddMember:{type:Boolean,default:!1}},computed:{less:function(){return this.items.length-this.count},cutList:function(){return this.items.length<this.count?this.items:s()(this.items).slice(0,this.count)},lessList:function(){var t=this,e=s()(this.items).slice(this.count,this.items.length);return e.length>0?e.map((function(e){return t.deep?e.user?e.user.fullname:"Deleted User":e?e.fullname:"Deleted User"})).join("<br>"):"Deleted User"}}},l=r,c=(n("1e0f"),n("2877")),u=Object(c["a"])(l,i,a,!1,null,"ee48b49c",null);e["a"]=u.exports},7335:function(t,e,n){t.exports=n.p+"img/no-video-preview.6c0717ce.png"},"7e7e":function(t,e,n){"use strict";var i=n("174f"),a=n.n(i);a.a},"80fa":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timer"},[n("div",{staticClass:"timer-actions text-right mb-4"},[n("v-btn",{staticClass:"mr-1",attrs:{fab:"",small:"",dark:"",color:"#3b589e"}},[n("v-icon",[t._v("mdi-dots-horizontal")])],1),n("v-btn",{staticClass:"mr-1",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:t.minimize}},[n("v-icon",[t._v("close")])],1)],1),n("TaskViewDialog",{ref:"view_task_dialog",attrs:{task:t.task},on:{"close-task-preview":t.closeViewDialog}}),n("VueTable",{key:t.componentKey,attrs:{items:t.items,headers:t.headers,showRowActions:!0,loading:t.loading,icon:"widgets",title:"Task Timers",noMoreData:t.noMoreData,showSelect:!1},on:{"load-more":t.load_more},scopedSlots:t._u([{key:"header-toolbar",fn:function(){return[n("v-col",[n("v-select",{attrs:{flat:"",dense:"",items:t.task_status,label:"Task Status","hide-details":"auto",filled:"",value:t.filter_task},on:{change:t.filterTask}})],1),n("v-btn-toggle",{staticClass:"tab-buttons",attrs:{mandatory:"",value:t.timer_tab},on:{change:t.handleChangeTab},model:{value:t.timer_tab,callback:function(e){t.timer_tab=e},expression:"timer_tab"}},[n("v-btn",{staticClass:"px-5",attrs:{text:"",value:"task-timers"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-folder-clock-outline")]),t._v(" Task Timers ")],1),n("v-btn",{staticClass:"px-5",attrs:{text:"",value:"global-timers"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-account-clock")]),t._v(" Global Timers ")],1),n("v-btn",{staticClass:"px-5",attrs:{text:"",value:"alarm"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-alarm-multiple")]),t._v(" Alarms ")],1)],1)]},proxy:!0},{key:"row-slot",fn:function(e){var i=e.item;return[n("td",[i.assigned.length>0?n("Avatars",{staticStyle:{display:"inline-block"},attrs:{items:i.assigned,count:1}}):n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,a=e.attrs;return[n("v-avatar",t._g(t._b({},"v-avatar",a,!1),i),[n("v-icon",{attrs:{large:""}},[t._v("mdi-account-off-outline")])],1)]}}],null,!0)},[n("span",[t._v("Unassigned")])])],1),n("td",{staticClass:"clickable-td",on:{click:function(e){return t.set_and_view_task(i)}}},[n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("span",t._g({},a),[t._v(t._s(t._f("truncate")(t._f("ucwords")(i.title),15)))])]}}],null,!0)},[n("span",[t._v(t._s(t._f("ucwords")(i.title)))])])],1),n("td",[n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("span",t._g({},a),[t._v(t._s(t._f("truncate")(i.project.title,15)))])]}}],null,!0)},[n("span",[t._v(t._s(t._f("ucwords")(i.project.title)))])])],1),n("td",[t._v(t._s(t._f("format")(i.timer.timer_created,"MMM D YYYY HH:mm:ss")))]),n("td",[t._v(t._s(t.timerEnd(i)))]),n("td",[i.assigned.length?n("PlayPause",{attrs:{item:i},on:{"row-item-updated":function(t){i=t}}}):n("v-chip",{attrs:{label:"",small:"",outlined:""}},[t._v("Unassigned")])],1)]}}])})],1)},a=[],o=(n("7514"),n("e06e")),s=n("0ebe"),r=n("ee09"),l=n("29d6"),c=n("72c1"),u=n("a71c"),m=n("84a4"),d={name:"TaskTimer",mixins:[o["a"]],components:{VueTable:s["a"],Actions:r["a"],Avatars:c["a"],TableHeader:l["a"],PlayPause:u["a"],TaskViewDialog:m["a"]},data:function(){return{paths:[{text:"Dashboard",disabled:!1,route:{name:"default-content"}},{text:"Timers",disabled:!0,route:null},{text:"Task",disabled:!0,route:null}],sortList:[{title:"Sort by Client"},{title:"Sort by Task"},{title:"Sort by Services"},{title:"Sort by Time"},{title:"Sort by Date"}],headers:[{text:"Assigned To",sortable:!1,align:"left",width:150},{text:"Task",sortable:!1,align:"left"},{text:"Project | Campaign",sortable:!1,align:"left"},{text:"Time Start",sortable:!1,align:"left"},{text:"Time End",value:"time_end",sortable:!1,align:"left"},{text:"Total Time",sortable:!1,align:"center",width:240}],timer_tab:"task-timers",currentTab:"task-timers",task_status:[{text:"All",value:"all"},{text:"Open",value:"open"},{text:"Behind",value:"behind"},{text:"Completed",value:"completed"},{text:"Urgent",value:"urgent"}],filter_task:"all",task:null}},mounted:function(){this.$event.$emit("path-change",this.paths),this.fill_table_via_url("api/timer/tasks?all=true&filter=".concat(this.filter_task))},computed:{loggeduser:function(){return this.$store.getters.user}},methods:{load_more:function(){this.load_more_via_url("api/timer/tasks?all=true&filter=".concat(this.filter_task))},can_run_timer:function(t){var e=this,n=t.assigned.find((function(t){return t.id===e.loggeduser.id}));return!!n},handleChangeTab:function(t){"global-timers"===this.timer_tab&&this.$router.push({name:"globalTimer"}),"alarm"===this.timer_tab&&this.$router.push({name:"alarm"})},timerEnd:function(t){return"ongoing"===t.timer.timer_status?"Ongoing":"pause"===t.timer.timer_status?"Paused":"-"},filterTask:function(t){this.filter_task=t,this.resetPagination(),this.fill_table_via_url("api/timer/tasks?&all=true&filter=".concat(t))},closeViewDialog:function(){this.$refs.view_task_dialog.$refs.dialog.clear_and_close()},set_and_view_task:function(t){this.task=t,this.$refs.view_task_dialog.open_dialog()},minimize:function(){this.$router.push({name:"default-content"})}}},f=d,v=(n("87a8"),n("2877")),_=Object(v["a"])(f,i,a,!1,null,"f8b8b8a4",null);e["default"]=_.exports},"87a8":function(t,e,n){"use strict";var i=n("ddfd"),a=n.n(i);a.a},8807:function(t,e,n){},a71c:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"timer my-0 py-0"},[n("v-col",{staticClass:"time",class:t.timer_started?"success--text":""},[t._v(" "+t._s(t.display)+" ")]),n("v-spacer"),n("v-col",{staticClass:"time-control"},[t.task_is_done?n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-icon",t._g({attrs:{color:"error"}},i),[t._v("mdi-clock-alert-outline")])]}}],null,!1,1460511430)},[n("span",[t._v("Task is completed!")])]):!t.timer_started&&t.can_start_timer?n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-btn",t._g({attrs:{loading:t.btnloading,outlined:"",small:"",icon:""},on:{click:t.timerClick}},i),[n("v-icon",[t._v("play_arrow")])],1)]}}])},[n("span",[t._v("Start Timer")])]):t.timer_started&&t.can_stop_timer?n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-btn",t._g({attrs:{loading:t.btnloading,outlined:"",small:"",icon:""},on:{click:t.timerClick}},i),[n("v-icon",[t._v("pause")])],1)]}}])},[n("span",[t._v("Pause Timer")])]):t._e()],1)],1)},a=[],o=(n("6b54"),n("28a5"),n("20d6"),n("1be9")),s=n("c1df"),r=n.n(s),l={name:"PlayPause",inheritAttrs:!1,props:{item:Object},data:function(){return{timer_started:!1,init_time:"00:00:00",interval:null,btnloading:!1}},computed:{display:{get:function(){return this.item.timer.timer_stats.format||""},set:function(t){this.init_time=t}},participants:function(){return this.item.assigned||[]},is_viewer_a_participant:function(){var t=this,e=this.participants.findIndex((function(e){return e.id===t.viewer.id}));return!!~e},viewer:function(){return this.$store.getters.user},can_start_timer:function(){return this.is_viewer_a_participant},can_stop_timer:function(){return!!this.viewer.is_admin||this.is_viewer_a_participant},selectedDate:function(){return r()(this.forDate).format("YYYY-MM-DD")},now:function(){return r()().format("YYYY-MM-DD")},is_lapsed:function(){return r()(this.item.timer.timer_stopped,"YYYY-MM-DD")<r()()},task_is_done:function(){return"completed"===this.item.status.toLowerCase()},last_date_action:function(){return r()(this.item.timer.latest_timer.created_at).format("MMMM D YYYY")}},created:function(){var t=this;this.is_open()&&(this.start_timer(),this.timer_started=!0),this.$event.$on("task-timer-started",(function(e){t.item.id===e&&t.start_timer()})),this.$event.$on("task-timer-paused",(function(e){t.item.id===e&&t.paused_timer()}))},methods:{is_open:function(){return"ongoing"===this.item.timer.timer_status},get_hours:function(t){return t.split(":")[0]},get_mins:function(t){return t.split(":")[1]},get_secs:function(t){return t.split(":")[2]},pause_timer:function(){var t=this;this.btnloading=!0,this.item.timer.timer_disabled=!0,o["a"].post("api/timer/pause",{type:"task",id:this.item.id}).then((function(){t.paused_timer()})).finally((function(){t.btnloading=!1}))},timerClick:function(){var t=this;if(!this.item.timer.timer_disabled)if(this.timer_started)this.pause_timer();else{this.btnloading=!0,this.start_timer();var e="api/timer/start";"pause"===this.item.timer.timer_status&&(e="api/timer/back"),this.item.timer.timer_disabled=!0,o["a"].post(e,{type:"task",id:this.item.id}).then((function(){t.item.timer.timer_disabled=!1,t.item.timer.timer_status="ongoing"})).finally((function(){t.btnloading=!1}))}},paused_timer:function(){clearInterval(this.item.timer.timer_interval),this.item.timer.timer_disabled=!1,this.item.timer.timer_status="pause",this.timer_started=!1},start_timer:function(){var t=this;this.timer_started=!0,this.item.timer.timer_interval=setInterval((function(){var e=t.get_hours(t.item.timer.timer_stats.format),n=t.get_mins(t.item.timer.timer_stats.format),i=t.get_secs(t.item.timer.timer_stats.format);i>=59&&n>=59?(e++,n=i="00"):i>=59?(n++,i="00"):i++,t.item.timer.timer_stats.format=t.set_time_running(e,n,i)}),1e3)},set_time_running:function(t,e,n){return 1===t.toString().length&&(t="0"+t),1===e.toString().length&&(e="0"+e),1===n.toString().length&&(n="0"+n),"".concat(t,":").concat(e,":").concat(n)}}},c=l,u=(n("16d0"),n("2877")),m=Object(u["a"])(c,i,a,!1,null,"22a51c19",null);e["a"]=m.exports},d893:function(t,e,n){"use strict";var i=n("0af2"),a=n.n(i);a.a},ddfd:function(t,e,n){},e55f:function(t,e){t.exports="data:image/jpeg;base64,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"},eb39:function(t,e,n){},ee09:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"table-actions",attrs:{align:"center"}},[t.hasEdit?n("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_edit,expression:"can_edit"}],attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-btn",t._g({attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("edit")}}},i),[n("v-icon",[t._v(t._s(t.editIcon))])],1)]}}],null,!1,4170341451)},[n("span",[t._v("Edit")])]):t._e(),t.hasView?n("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_view,expression:"can_view"}],attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-btn",t._g({attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("view")}}},i),[n("v-icon",[t._v(t._s(t.viewIcon))])],1)]}}],null,!1,701816587)},[n("span",[t._v("View")])]):t._e(),t.hasDelete?n("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_delete,expression:"can_delete"}],attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-btn",t._g({attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("delete")}}},i),[n("v-icon",[t._v(t._s(t.deleteIcon))])],1)]}}],null,!1,4164065227)},[n("span",[t._v("Delete")])]):t._e(),t._t("extra")],2)},a=[],o={props:{item:{type:Object,default:null},permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},editIcon:{type:String,default:"mdi-circle-edit-outline"},viewIcon:{type:String,default:"mdi-eye-circle-outline"},deleteIcon:{type:String,default:"mdi-delete-circle-outline"},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0}},computed:{logged_user:function(){return this.$store.getters.user}},methods:{handle_action:function(t){this.item&&this.$emit(t,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.view}}},s=o,r=(n("7e7e"),n("2877")),l=Object(r["a"])(s,i,a,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-7d1d7d48.2c2b57d7.js.map