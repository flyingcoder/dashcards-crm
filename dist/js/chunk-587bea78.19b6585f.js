(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-587bea78"],{"0edc5":function(t,e,a){},"174f":function(t,e,a){},"259d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"breadcrumb-wrapper"},[a("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;return[a("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:i.disabled}},[a("span",{on:{click:function(e){return t.navigate_from_breadcrumb(i)}}},[t._v(" "+t._s(i.text)+" ")])])]}}])},[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1),t._t("extra")],2)},n=[],s={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},o=s,l=(a("5e17"),a("79a2"),a("2877")),d=Object(l["a"])(o,i,n,!1,null,"3cda09ee",null);e["a"]=d.exports},"29d6":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-header"},[t.noButton?t._e():a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click")}}},"v-btn",n,!1),i),[a("v-icon",[t._v("mdi-plus")])],1)]}}],null,!1,1553216287)},[a("span",[t._v("Create new")])]),t.noSortButton?t._e():a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-sort-by")}}},"v-btn",n,!1),i),[a("v-icon",[t._v("sort")])],1)]}}],null,!1,2775766067)},[a("span",[t._v("Sort")])]),t.noListButton?t._e():a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-list-view")}}},"v-btn",n,!1),i),[a("v-icon",[t._v("mdi-view-sequential")])],1)]}}],null,!1,999989283)},[a("span",[t._v("List view")])]),t.noGridButton?t._e():a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-grid-view")}}},"v-btn",n,!1),i),[a("v-icon",[t._v("mdi-view-module")])],1)]}}],null,!1,2880532042)},[a("span",[t._v("Grid view")])]),t._t("form-btn")],2)},n=[],s=a("259d"),o={name:"TableHeader",props:{noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:s["a"]}},l=o,d=(a("7b61"),a("2877")),r=Object(d["a"])(l,i,n,!1,null,"7915ddae",null);e["a"]=r.exports},"3e12":function(t,e,a){},"492a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"milestone-task"},[a("task-dialog",{ref:"add_dialog",attrs:{dialog:t.add_dialog,"dialog-title":"Add Task"},on:{"update:dialog":function(e){t.add_dialog=e},save:function(e){return t.add_item("add_new_task",e,t.dynamic_api)}}}),a("task-dialog",{ref:"edit_dialog",attrs:{dialog:t.edit_dialog,"dialog-title":"Edit Task","is-edit-dialog":t.edit_dialog,fieldsToEdit:t.edit_item},on:{"update:dialog":function(e){t.edit_dialog=e},save:function(e){return t.update_item("edit_task",e,t.dynamic_api)}}}),a("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Task","text-content":"Are you sure you want to delete this task?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:function(e){return t.delete_item("delete_task",t.dynamic_api)}}}),a("delete-dialog",{attrs:{"open-dialog":t.bulk_delete_dialog,title:"Delete Milestone Task","text-content":"Are you sure you want to delete these milestone tasks? This can't be undone."},on:{"update:openDialog":function(e){t.bulk_delete_dialog=e},"update:open-dialog":function(e){t.bulk_delete_dialog=e},delete:function(e){return t.bulk_delete_via_url(t.dynamic_bulk_delete_api)}}}),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("VueTable",{key:t.componentKey,attrs:{items:t.items,headers:t.headers,showRowActions:!0,loading:t.loading,title:t.table_title,noMoreData:t.noMoreData},on:{"load-more":t.load_more,"delete-selected":function(e){return t.open_bulk_delete_dialog(e)}},scopedSlots:t._u([{key:"row-slot",fn:function(e){var i=e.item;return[a("td",{staticClass:"text-xs-left text-cap"},[t._v(t._s(i.title))]),a("td",{staticClass:"text-xs-left textarea-cap desc",domProps:{innerHTML:t._s(t.short_description_text(i.description))}}),a("td",{staticClass:"text-xs-left text-cap"},[t._v(t._s(i.status))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(0===i.days?"":i.days))]),a("Actions",{attrs:{item:i,hasView:!1,permissions:t.$_permissions.get("hq_milestone_tasks")},on:{edit:function(e){return t.open_edit_dialog(i)},delete:function(e){return t.open_delete_dialog(i)},view:function(e){return t.navigate_to_milestone_page(i)}}})]}},{key:"empty-slot",fn:function(){return[a("v-btn",{attrs:{dark:"",color:"#3b589e"},on:{click:function(e){t.add_dialog=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("add")]),t._v(" Add Task")],1)]},proxy:!0}])},[a("template",{slot:"header-toolbar"},[a("table-header",{on:{click:function(e){t.add_dialog=!0}}})],1)],2)],1)],1)],1)},n=[],s=(a("7f7f"),a("c5f6"),a("e06e")),o=a("0ebe"),l=a("ee09"),d=a("5b70"),r=a("29d6"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("custom-dialog",{ref:"dialog",attrs:{title:t.dialogTitle,open:t.open,"button2-text":"Save"},on:{"update:open":function(e){t.open=e},button1:t.cancel,button2:t.save}},[a("template",{slot:"content"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Add task title",color:"#667187",filled:"","hide-details":""},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-checkbox",{staticClass:"mx-2",attrs:{label:"No Specific Days"},model:{value:t.disabled,callback:function(e){t.disabled=e},expression:"disabled"}}),a("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Add days",type:"number",min:"0",color:"#667187",filled:"","hide-details":"",disabled:t.disabled},model:{value:t.days,callback:function(e){t.days=t._n(e)},expression:"days"}})],1),a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"dialog__textarea d-field"},[a("Editor",{ref:"editor",attrs:{hasFloatingTools:!1,content:t.quill_editor.description,placeholder:"Add task description"},model:{value:t.quill_editor.description,callback:function(e){t.$set(t.quill_editor,"description",e)},expression:"quill_editor.description"}})],1)])],1)],1)],2)},u=[],_=a("1be9"),p=a("57e5"),f=a("5d98"),m={name:"TasksDialog",components:{CustomDialog:p["a"],Editor:f["a"]},props:{dialog:Boolean,dialogTitle:String,isEditDialog:Boolean,fieldsToEdit:{type:Object,default:function(){}}},data:function(){return{open:!1,title:null,quill_editor:{description:""},status:"open",selected_group:null,group_items:[],days_init_value:1,disabled:!1}},computed:{dynamic_api:function(){return"api/projects/".concat(this.id,"/member")},days:{get:function(){return this.days_init_value},set:function(t){parseInt(t)<1?this.days_init_value=1:this.days_init_value=t}}},watch:{dialog:function(t){var e=this;t&&_["a"].get("api/groups?all=true").then((function(t){var a=t.data;return e.group_items=a})),this.open=t},open:function(t){this.$emit("update:dialog",t)},fieldsToEdit:{handler:function(t){this.isEditDialog&&this.update_fields(t)},deep:!0}},methods:{cancel:function(){this.open=!1},save:function(){var t={title:this.title,description:this.quill_editor.description,status:this.status,days:this.disabled?0:this.days,role_id:this.selected_group};this.$emit("save",t)},update_fields:function(t){var e=t.fields,a=Object.assign({},e);this.title=a.title,this.$set(this.quill_editor,"description",a.description),this.status=a.status,this.days=this.disabled?0:a.days,this.selected_group=a.role_id,this.$refs.editor.setValue(a.description)},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.cancel()}}},v=m,h=(a("e2aa"),a("2877")),b=Object(h["a"])(v,c,u,!1,null,"70849271",null),g=b.exports,y=a("d4e9"),k={mixins:[s["a"]],components:{VueTable:o["a"],DeleteDialog:d["a"],TaskDialog:g,TableHeader:r["a"],Actions:l["a"]},props:{template_id:[Number,String],milestone_id:[Number,String]},data:function(){return{template_name:"",milestone_name:"",headers:[{text:"Title",value:"title"},{text:"Description",value:"description"},{text:"Status",value:"status"},{text:"Days",value:"days"},{text:"Action",value:"action",width:"140px",align:"center"}],table_config:{route_name:"templates/milestone/task",add_message:"New Task added successfully!",update_message:"Task updated successfully!",delete_message:"Task deleted successfully!"}}},computed:{dynamic_api:function(){return"api/milestone/".concat(this.milestone_id,"/task")},dynamic_bulk_delete_api:function(){return"api/milestone/".concat(this.milestone_id,"/task/bulk-delete")},paths:function(){return[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Templates",disabled:!1,router_name:"templates"},{text:"Milestones",disabled:!1,router_name:null,path:"/dashboard/templates/".concat(this.template_id,"/milestone")},{text:"Tasks",disabled:!0,router_name:null}]},table_title:function(){return this.milestone_name&&this.template_name?this.template_name+": "+this.milestone_name:""}},created:function(){var t=this;this.fill_table_via_url(this.dynamic_api,!0),y["a"].get_milestones("api/template/".concat(this.template_id)).then((function(e){var a=e.data;t.template_name=a.name})).finally((function(){return t.loading=!1})),y["a"].get_milestones("api/template/".concat(this.template_id,"/milestone/").concat(this.milestone_id)).then((function(e){var a=e.data;t.milestone_name=a.title})).finally((function(){return t.loading=!1}))},methods:{short_description_text:function(t){return t.length>12?t.slice(0,11)+"...":t},load_more:function(){this.load_more_via_url(this.dynamic_api)}}},x=k,w=(a("a214"),a("ba77"),Object(h["a"])(x,i,n,!1,null,"6a118c14",null));e["default"]=w.exports},"5e17":function(t,e,a){"use strict";var i=a("8c6e"),n=a.n(i);n.a},"6cf9":function(t,e,a){},"79a2":function(t,e,a){"use strict";var i=a("0edc5"),n=a.n(i);n.a},"7b61":function(t,e,a){"use strict";var i=a("3e12"),n=a.n(i);n.a},"7e7e":function(t,e,a){"use strict";var i=a("174f"),n=a.n(i);n.a},"8c6e":function(t,e,a){},a214:function(t,e,a){"use strict";var i=a("d06d"),n=a.n(i);n.a},ba77:function(t,e,a){"use strict";var i=a("6cf9"),n=a.n(i);n.a},d06d:function(t,e,a){},e2aa:function(t,e,a){"use strict";var i=a("e4ea"),n=a.n(i);n.a},e4ea:function(t,e,a){},ee09:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"table-actions",attrs:{align:"center"}},[t.hasEdit?a("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_edit,expression:"can_edit"}],attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{dense:"",dense:"",icon:""},on:{click:function(e){return t.handle_action("edit")}}},i),[a("v-icon",{attrs:{small:""}},[t._v(t._s(t.editIcon))])],1)]}}],null,!1,2293778615)},[a("span",[t._v("Edit")])]):t._e(),t.hasDelete?a("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_delete,expression:"can_delete"}],attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("delete")}}},i),[a("v-icon",{attrs:{small:""}},[t._v(t._s(t.deleteIcon))])],1)]}}],null,!1,1335204600)},[a("span",[t._v("Delete")])]):t._e(),t.hasView?a("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_view,expression:"can_view"}],attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("view")}}},i),[a("v-icon",{attrs:{small:""}},[t._v(t._s(t.viewIcon))])],1)]}}],null,!1,3967608504)},[a("span",[t._v("View")])]):t._e(),t._t("extra")],2)},n=[],s={props:{item:{type:Object,default:null},permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},editIcon:{type:String,default:"mdi-content-save-edit"},viewIcon:{type:String,default:"mdi-file-search"},deleteIcon:{type:String,default:"mdi-delete-alert"},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0}},computed:{logged_user:function(){return this.$store.getters.user}},methods:{handle_action:function(t){this.item&&this.$emit(t,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.view}}},o=s,l=(a("7e7e"),a("2877")),d=Object(l["a"])(o,i,n,!1,null,null,null);e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-587bea78.19b6585f.js.map