(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46a4437a"],{"00f5":function(t,e,i){},"0703":function(t,e,i){"use strict";var n=i("00f5"),s=i.n(n);s.a},"10fc":function(t,e,i){"use strict";var n=i("65a1"),s=i.n(n);s.a},"13ea":function(t,e,i){var n=i("03dd"),s=i("42a2"),a=i("d370"),o=i("6747"),r=i("30c9"),l=i("0d24"),c=i("eac5"),u=i("73ac"),d="[object Map]",f="[object Set]",p=Object.prototype,_=p.hasOwnProperty;function m(t){if(null==t)return!0;if(r(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||a(t)))return!t.length;var e=s(t);if(e==d||e==f)return!t.size;if(c(t))return!n(t).length;for(var i in t)if(_.call(t,i))return!1;return!0}t.exports=m},"206b":function(t,e,i){t.exports=i.p+"img/edit.26f5333c.svg"},"259d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"breadcrumb-wrapper"},[i("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[i("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:n.disabled}},[i("span",{on:{click:function(e){return t.navigate_from_breadcrumb(n)}}},[t._v(" "+t._s(n.text)+" ")])])]}}])},[i("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1)],1)},s=[],a={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},o=a,r=(i("87d8"),i("10fc"),i("2877")),l=Object(r["a"])(o,n,s,!1,null,"14ca3542",null);e["a"]=l.exports},"289a":function(t,e,i){},"29d6":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[i("breadcrumb",{attrs:{paths:t.paths}}),i("v-flex",[t.noButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click")}}},[i("v-icon",[t._v("add")])],1),t.noSortButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-sort-by")}}},[i("v-icon",[t._v("sort")])],1),t.noListButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-list-view")}}},[i("v-icon",[t._v("list")])],1),t.noGridButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-grid-view")}}},[i("v-icon",[t._v("mdi-view-dashboard")])],1),t._t("form-btn")],2)],1)},s=[],a=i("259d"),o={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:a["a"]}},r=o,l=(i("8732"),i("2877")),c=Object(l["a"])(r,n,s,!1,null,"273c0570",null);e["a"]=c.exports},"2b60":function(t,e,i){},"2f21":function(t,e,i){"use strict";var n=i("79e5");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"36ad":function(t,e,i){"use strict";var n=i("fb90"),s=i.n(n);s.a},3846:function(t,e,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},"386d":function(t,e,i){"use strict";var n=i("cb7c"),s=i("83a1"),a=i("5f1b");i("214f")("search",1,(function(t,e,i,o){return[function(i){var n=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=o(i,t,this);if(e.done)return e.value;var r=n(t),l=String(this),c=r.lastIndex;s(c,0)||(r.lastIndex=0);var u=a(r,l);return s(r.lastIndex,c)||(r.lastIndex=c),null===u?-1:u.index}]}))},"3d31":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));i("386d"),i("a481"),i("c5f6"),i("55dd");var n={computed:{rows_per_page_items:function(){var t=this.items_response;if(!t)return[];var e=this.items.length,i=t.total-t.from+1,n=this.calc_per_page_items(e,t.total);return this.rows_per_page=e,n.filter((function(t){return t<=i}))},should_show_pagination:function(){return!!this.items_response&&this.items_response.total>this.rows_per_page},total_items:function(){return this.items_response?this.items_response.last_page:null},query_for_sorting:function(){return this.sort.sortBy?"".concat(this.sort.sortBy,"|").concat(this.sort.descending?"desc":"asc"):""},api_query:function(){return"page=".concat(this.page,"&\n\t\t\t\t\t\t\tper_page=").concat(this.rows_per_page,"&\n\t\t\t\t\t\t\tsearch=").concat(this.search,"&\n\t\t\t\t\t\t\tsort=").concat(this.query_for_sorting)}}},s=(i("28a5"),i("20d6"),i("6762"),i("ac6a"),i("b047c")),a=i.n(s),o=i("d4e9"),r={methods:{add_item:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o["a"][t](e,n).catch((function(){i.$event.$emit("btnloading_off",!1)})).then((function(t){var e=t.data;Array.isArray(e)?e.reverse().forEach((function(t){return i.items.unshift(t)})):i.items.unshift(e),i.$refs.add_dialog.clear_and_close(),i.$event.$emit("open_snackbar",i.table_config.add_message),i.$event.$emit("btnloading_off",!1)}))},extract_per_page:function(t){var e=t.search("per_page");return t.substring(e+9,e+10)},calc_per_page_items:function(t,e){var i=[5,10,15,20,25];return i.includes(t)||i.push(t),!i.includes(e)&&e<=25&&i.push(e),i},update_item:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o["a"][t](this.edit_item.id,e,n).catch((function(){i.$event.$emit("btnloading_off",!1)})).then((function(t){var e=i.items.findIndex((function(e){return e.id===t.data.id}));~e&&i.items.splice(e,1,t.data),i.edit_item={id:null,fields:null},i.edit_dialog=!1,i.$event.$emit("open_snackbar",i.table_config.update_message),i.$event.$emit("btnloading_off",!1)}))},delete_item:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o["a"][t](this.delete_item_id,i).catch((function(){e.$event.$emit("btnloading_off",!1)})).then((function(){var t=e.items.findIndex((function(t){return t.id===e.delete_item_id}));~t&&e.items.splice(t,1),e.delete_item_id=null,e.delete_dialog=!1,e.$event.$emit("open_snackbar",e.table_config.delete_message),e.$event.$emit("btnloading_off",!1)}))},open_edit_dialog:function(t){this.edit_dialog=!0,this.$set(this.edit_item,"id",t.id),this.$set(this.edit_item,"fields",t)},open_delete_dialog:function(t){this.delete_dialog=!0,this.delete_item_id=t.id},fill_table:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loading=!0,o["a"][t](n).then((function(t){e.items_response=t.data,e.loading=!1,e.items=i?t.data.data:t.data}))},fill_table_with_data:function(t){this.items=t},add_table_rows:function(t,e){this.items=t,this.items_response=e},changeSort:function(t){this.sort.sortBy===t?this.sort.descending=!this.sort.descending:(this.sort.sortBy=t,this.sort.descending=!1)},refresh_table:function(t){var e=this;o["a"][this.table_config.refresh_table_api_name](t).catch((function(){e.$event.$emit("btnloading_off",!1)})).then((function(t){e.$event.$emit("open_snackbar",e.table_config.refresh_table_message),e.loading=!1,e.items_response=t.data,e.items=t.data.data,e.$event.$emit("btnloading_off",!1)}))},update_table_actions:function(t){if(t.page&&(this.page=Number(t.page)),t.per_page&&(this.rows_per_page=Number(t.per_page)),t.search&&(this.search=t.search),t.sort){var e=t.sort.split("|");this.sort.sortBy=e[0],"asc"===e[1]?this.sort.descending=!1:"desc"===e[1]&&(this.sort.descending=!0)}},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},debounce:a()((function(t){this.search=t}),500)}},l={mixins:[n,r],data:function(){return{edit_dialog:!1,add_dialog:!1,delete_dialog:!1,permissionDialog:!1,loading:!1,items:[],items_response:null,edit_item:{id:null,fields:null},delete_item_id:null,show_delete_selected:!1,selected_ids:[],rows_per_page:null,page:1,sort:{sortBy:null,descending:!1},search:""}},watch:{selected_ids:function(t){t.length>0?this.show_delete_selected=!0:this.show_delete_selected=!1},api_query:function(t,e){var i=Number(this.extract_per_page(t)),n=Number(this.extract_per_page(e))||null;this.items_response&&this.rows_per_page===this.items.length&&i!==n||(this.$router.replace({name:this.table_config.route_name,query:{page:this.page,per_page:this.rows_per_page,search:this.search,sort:this.query_for_sorting}}),this.loading=!0,this.refresh_table(t))}}}},"408c":function(t,e,i){var n=i("2b3e"),s=function(){return n.Date.now()};t.exports=s},"451f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content__wrapper"},[n("div",{staticClass:"row buzz__tables"},[n("div",{staticClass:"buzz__tablesTwo"},[t._t("toolbar",[n("div",{staticClass:"table__toolbar"},[t._v(" "+t._s(t.toolbarTitle)+" ")])]),t._t("right_toolbar"),n("v-data-table",t._b({staticClass:"buzzooka__table",attrs:{headers:t.headers,items:t.items,loading:t.loading,"no-data-text":"","show-select":"","disable-sort":"","hide-default-footer":""},scopedSlots:t._u([{key:"headers",fn:function(e){return[n("tr",{staticClass:"table__head"},[t.$props.hasCheckbox&&!t.noRowDelete&&t.can_delete?n("th",[n("v-checkbox",{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleAll(e)}}})],1):t._e(),t._l(e.headers,(function(e){return n("th",{key:e.id,class:t.headerClasses(e),attrs:{width:e.width},on:{click:function(i){e.sortable&&t.changeSort(e.value)}}},["Icon"===e.text?[n("v-btn",{attrs:{fab:"",small:"",depressed:"",disabled:t.tableActionDisabled}},[n("img",{attrs:{src:i("a5da"),alt:""}})])]:e.is_action?[n("img",{attrs:{src:i("a130")}})]:[t._v(" "+t._s(e.text)+" "),e.sortable?n("v-icon",{attrs:{small:""}},[t._v("arrow_upward")]):t._e()]],2)})),t.hasHeaderIcon?n("th",[n("img",{attrs:{src:i("a130")}})]):t._e()],2)]}},{key:"item",fn:function(e){var i=e.item;return[t._t("custom-item",null,{item:i})]}},{key:"items",fn:function(e){return[n("tr",{staticClass:"table__body-row",attrs:{active:e.selected}},[t.$props.hasCheckbox&&!t.noRowDelete&&t.can_delete?n("td",{on:{click:function(t){e.selected=!e.selected}}},[n("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1):t._e(),t.showRowActions?t._t("row-actions",[n("td",{staticClass:"text-xs-center table__actions"},[!t.noRowEdit&&t.can_edit?t._t("row-edit",[n("v-btn",{attrs:{fab:"",small:"",flat:"",depressed:""},on:{click:function(i){return t.$emit("edit",e.item)}}},[n("img",{attrs:{src:i("206b"),alt:""}})])],{item:e.item}):t._e(),!t.noRowDelete&&t.can_delete?t._t("row-delete",[n("v-btn",{attrs:{fab:"",small:"",flat:"",depressed:""},on:{click:function(i){return t.$emit("delete",e.item)}}},[n("img",{attrs:{src:i("a5da"),alt:""}})])],{item:e.item}):t._e(),!t.noRowView&&t.can_view?t._t("row-view",[n("v-btn",{attrs:{fab:"",flat:"",small:"",depressed:""},on:{click:function(i){return t.$emit("view",e.item)}}},[n("v-icon",[t._v("pageview")])],1)],{item:e.item}):t._e()],2)],{item:e.item}):t._e()],2)]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},"v-data-table",t.$attrs,!1),[n("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}),n("template",{slot:"no-data"},[n("Empty")],1),n("template",{slot:"footer"},[n("td",{staticStyle:{padding:"0"},attrs:{colspan:"100%"}},[t._t("table-actions")],2)])],2)],2)])])},s=[],a=(i("55dd"),i("4752")),o={name:"CustomTable",inheritAttrs:!1,components:{Empty:a["a"]},props:{headers:Array,items:Array,loading:Boolean,hasCheckbox:Boolean,hasHeaderIcon:Boolean,sort:Object,toolbarTitle:String,noRowEdit:Boolean,noRowDelete:Boolean,noRowView:Boolean,showRowActions:{type:Boolean,default:!0},permission:Object},data:function(){return{selected:[]}},computed:{user:function(){return this.$store.getters.user},can_view:function(){return!!this.user.is_admin||this.permission&&this.permission.view},can_edit:function(){return!!this.user.is_admin||this.permission&&this.permission.update},can_delete:function(){return!!this.user.is_admin||this.permission&&this.permission.delete}},watch:{selected:function(t){var e=t.map((function(t){return t.id}));this.$emit("items-selected",e)}},methods:{toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},changeSort:function(t){this.$emit("sorted",t)},headerClasses:function(t){var e=["column"];return"sortable"in t&&(e.push("sortable"),this.sort.descending?e.push("desc"):e.push("asc"),t.value===this.sort.sortBy&&e.push("active")),e}}},r=o,l=(i("5378"),i("6af0"),i("2877")),c=Object(l["a"])(r,n,s,!1,null,"6013032a",null);e["a"]=c.exports},4752:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"empty my-1",attrs:{id:t.slug}},[i("div",{staticClass:"empty-content"},[i("div",{staticClass:"empty-svg"},[i("svg",{attrs:{viewBox:"0 0 250 250"}},[i("path",{attrs:{d:"M37 11l176 0c11,0 20,4 26,11 7,6 11,16 11,26l0 154c0,10 -4,19 -11,26 -2,2 -4,3 -6,5 -17,13 -33,1 -48,-11 -10,-7 -19,-14 -26,-11 -5,2 -9,7 -12,13 -12,18 -31,17 -46,4 -5,-5 -11,-10 -16,-11 -6,-1 -12,4 -19,9 -11,8 -23,17 -39,11 -6,-1 -12,-5 -16,-9 -7,-7 -11,-16 -11,-26l0 -154c0,-10 4,-20 11,-26 6,-7 15,-11 26,-11zm22 108c8,0 15,7 15,15 0,8 -7,15 -15,15 -8,0 -15,-7 -15,-15 0,-8 7,-15 15,-15zm0 -56c8,0 15,7 15,15 0,8 -7,15 -15,15 -8,0 -15,-7 -15,-15 0,-8 7,-15 15,-15zm44 24c-4,0 -7,-4 -7,-8 0,-4 3,-7 7,-7l96 0c4,0 7,3 7,7 0,4 -3,8 -7,8l-96 0zm0 56c-4,0 -7,-4 -7,-8 0,-4 3,-7 7,-7l96 0c4,0 7,3 7,7 0,4 -3,8 -7,8l-96 0zm129 70c2,-3 3,-7 3,-11l0 -154c0,-6 -2,-12 -6,-16 -4,-4 -10,-6 -16,-6l-176 0c-6,0 -12,2 -16,6 -4,4 -6,10 -6,16l0 154c0,6 2,11 6,15 1,2 3,3 4,3 13,8 23,1 32,-6 9,-7 18,-13 30,-12 10,2 17,8 24,15 8,7 17,8 24,-1 4,-8 9,-15 19,-19 14,-6 27,3 39,13 13,10 26,20 39,3z"}})])]),i("div",{staticClass:"empty-text"},[i("p",[t._v(t._s(t.headline))]),t._t("extra")],2)])])},s=[],a={name:"Empty",props:{slug:{type:String,default:"empty-sample"},headline:{type:String,default:"No data yet"}}},o=a,r=(i("36ad"),i("bbed"),i("2877")),l=Object(r["a"])(o,n,s,!1,null,"07ac9ef6",null);e["a"]=l.exports},"48f9":function(t,e,i){},5378:function(t,e,i){"use strict";var n=i("9f7b"),s=i.n(n);s.a},"55dd":function(t,e,i){"use strict";var n=i("5ca1"),s=i("d8e8"),a=i("4bf8"),o=i("79e5"),r=[].sort,l=[1,2,3];n(n.P+n.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(a(this)):r.call(a(this),s(t))}})},"57e5":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{"justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?i("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):i("v-card",{staticClass:"custom__dialog"},[i("v-card-title",{staticClass:"dialog__header"},[t._t("entire-header",[t._t("title",[i("span",{staticClass:"dialog__title"},[t._v(t._s(t.title))])]),t._t("cancel-icon",[i("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:""},on:{click:t.close_dialog}},[i("v-icon",[t._v("close")])],1)])])],2),i("v-card-text",{staticClass:"dialog__body"},[t._t("content",[t._v(" "+t._s(t.content)+" ")])],2),i("v-card-actions",{staticClass:"dialog__actions"},[t._t("entire-actions",[t._t("button1",[i("v-btn",{on:{click:t.button1clicked}},[t._v(t._s(t.button1Text))])]),t._t("button2",[i("v-btn",{attrs:{loading:t.btnloading},on:{click:t.button2clicked}},[t._v(t._s(t.button2Text))])])])],2)],1)],1)],1)},s=[],a={props:{title:{type:String,default:"Default Modal Title"},content:{type:String,default:"Default Modal Text Content"},button1Text:{type:String,default:"Cancel"},button2Text:{type:String,default:"Delete"},open:Boolean,value:Boolean},data:function(){return{dialog:!1,loading:!1,btnloading:!1}},mounted:function(){var t=this;this.$event.$on("btnloading_off",(function(e){return t.btnloading=e}))},watch:{value:{handler:function(t){this.dialog=t},immediate:!0},open:function(t){this.dialog=t},dialog:function(t){this.$emit("update:open",t),this.$emit("input",t)}},methods:{button1clicked:function(){this.$emit("button1")},button2clicked:function(){this.btnloading=!0,this.$emit("button2")},open_dialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.close_dialog()},activate_loading:function(){this.loading=!0},disable_loading:function(){this.loading=!1}}},o=a,r=(i("ed40"),i("dc8f"),i("2877")),l=Object(r["a"])(o,n,s,!1,null,"68307905",null);e["a"]=l.exports},"5b70":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("custom-dialog",{attrs:{title:t.title,content:t.textContent,"button1-text":t.cancelButtonText,"button2-text":t.deleteButtonText,open:t.open},on:{"update:open":function(e){t.open=e},button1:t.cancel_clicked,button2:t.delete_clicked}})],1)},s=[],a=i("57e5"),o={components:{CustomDialog:a["a"]},props:{title:{type:String,default:"Default Modal Title"},textContent:{type:String,default:"Default Modal Text Content"},cancelButtonText:{type:String,default:"Cancel"},deleteButtonText:{type:String,default:"Delete"},openDialog:Boolean},data:function(){return{open:!1}},watch:{openDialog:function(t){this.open=t},open:function(t){this.$emit("update:openDialog",t)}},methods:{cancel_clicked:function(){this.open=!1},delete_clicked:function(){this.$emit("delete")},showDialog:function(){this.open=!0},closeDialog:function(){this.open=!1}}},r=o,l=i("2877"),c=Object(l["a"])(r,n,s,!1,null,null,null);e["a"]=c.exports},"65a1":function(t,e,i){},"6af0":function(t,e,i){"use strict";var n=i("7307"),s=i.n(n);s.a},"6b54":function(t,e,i){"use strict";i("3846");var n=i("cb7c"),s=i("0bfb"),a=i("9e1e"),o="toString",r=/./[o],l=function(t){i("2aba")(RegExp.prototype,o,t,!0)};i("79e5")((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?l((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?s.call(t):void 0)})):r.name!=o&&l((function(){return r.call(this)}))},7307:function(t,e,i){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},8732:function(t,e,i){"use strict";var n=i("48f9"),s=i.n(n);s.a},"87d8":function(t,e,i){"use strict";var n=i("e403"),s=i.n(n);s.a},"9f7b":function(t,e,i){},a130:function(t,e,i){t.exports=i.p+"img/menu.02d0eeb5.svg"},a5da:function(t,e,i){t.exports=i.p+"img/delete.ba632ac8.svg"},b047c:function(t,e,i){var n=i("1a8c"),s=i("408c"),a=i("b4b0"),o="Expected a function",r=Math.max,l=Math.min;function c(t,e,i){var c,u,d,f,p,_,m=0,g=!1,h=!1,v=!0;if("function"!=typeof t)throw new TypeError(o);function b(e){var i=c,n=u;return c=u=void 0,m=e,f=t.apply(n,i),f}function y(t){return m=t,p=setTimeout($,e),g?b(t):f}function w(t){var i=t-_,n=t-m,s=e-i;return h?l(s,d-n):s}function x(t){var i=t-_,n=t-m;return void 0===_||i>=e||i<0||h&&n>=d}function $(){var t=s();if(x(t))return k(t);p=setTimeout($,w(t))}function k(t){return p=void 0,v&&c?b(t):(c=u=void 0,f)}function C(){void 0!==p&&clearTimeout(p),m=0,c=_=u=p=void 0}function B(){return void 0===p?f:k(s())}function O(){var t=s(),i=x(t);if(c=arguments,u=this,_=t,i){if(void 0===p)return y(_);if(h)return clearTimeout(p),p=setTimeout($,e),b(_)}return void 0===p&&(p=setTimeout($,e)),f}return e=a(e)||0,n(i)&&(g=!!i.leading,h="maxWait"in i,d=h?r(a(i.maxWait)||0,e):d,v="trailing"in i?!!i.trailing:v),O.cancel=C,O.flush=B,O}t.exports=c},b4b0:function(t,e,i){var n=i("1a8c"),s=i("ffd6"),a=NaN,o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(t){if("number"==typeof t)return t;if(s(t))return a;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var i=l.test(t);return i||c.test(t)?u(t.slice(2),i?2:8):r.test(t)?a:+t}t.exports=d},bbed:function(t,e,i){"use strict";var n=i("2b60"),s=i.n(n);s.a},bfa3:function(t,e,i){},cbd8:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"permissions-table"},[i("permissions-dialog",{ref:"add_dialog",attrs:{dialog:t.add_dialog,title:"Add Permission"},on:{"update:dialog":function(e){t.add_dialog=e},save:function(e){return t.add_item("add_new_permission",e)}}}),i("permissions-dialog",{ref:"edit_dialog",attrs:{dialog:t.edit_dialog,title:"Edit Permission","is-edit-dialog":t.edit_dialog,"fields-to-edit":t.edit_item},on:{"update:dialog":function(e){t.edit_dialog=e},save:function(e){return t.update_item("update_permission",e)}}}),i("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Permission","text-content":"Are you sure you want to delete this permission?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:function(e){return t.delete_item("delete_permission")}}}),i("custom-table",{attrs:{headers:t.headers,items:t.items,loading:t.loading,sort:t.sort,"has-checkbox":!1,"hide-default-footer":"","toolbar-title":"Permissions","no-row-view":"",noRowDelete:!0,permission:t.$_permissions.get("permissions")},on:{"items-selected":function(e){t.selected_ids=e},sorted:t.changeSort,edit:t.open_edit_dialog},scopedSlots:t._u([{key:"custom-item",fn:function(e){var n=e.item;return[i("td",[t._v(t._s(t._f("removeSlug")(n.name)))]),i("td",[t._v(t._s(n.description))]),i("td",[t._v(t._s(t.capability_column(n.slug)))])]}}])},[i("template",{slot:"right_toolbar"},[i("v-flex",{attrs:{xs12:"",sm3:""}},[i("v-select",{attrs:{label:"Select Group",items:t.groups},model:{value:t.selected_group,callback:function(e){t.selected_group=e},expression:"selected_group"}})],1)],1)],2)],1)},s=[],a=(i("8e6e"),i("ac6a"),i("456d"),i("28a5"),i("6b54"),i("7f7f"),i("bd86")),o=(i("386d"),i("a481"),i("c5f6"),i("3d31")),r=i("13ea"),l=i.n(r),c=i("451f"),u=i("259d"),d=i("5b70"),f=i("29d6"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{"justify-center":""}},[i("custom-dialog",{ref:"dialog",attrs:{title:t.title,open:t.open,"button2-text":"Save"},on:{"update:open":function(e){t.open=e},button1:function(e){t.open=!1},button2:t.save}},[i("template",{slot:"content"},[i("v-layout",{staticClass:"custom-dialog",attrs:{wrap:""}},[t.fieldsToEdit?t._e():i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-select",{staticClass:"dialog__selectfield",attrs:{placeholder:"Select Group",items:t.group_items,solo:"","hide-details":"",color:"#657186","item-text":"name","item-value":"slug"},model:{value:t.selected_group,callback:function(e){t.selected_group="string"===typeof e?e.trim():e},expression:"selected_group"}})],1),t.fieldsToEdit?t._e():i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-autocomplete",{staticClass:"dialog__selectfield",attrs:{items:t.permissions,loading:t.loading_permissions,placeholder:"Select Permission","item-text":"name","item-value":"id",solo:"","hide-details":"",color:"#657186"},model:{value:t.selected_permission,callback:function(e){t.selected_permission="string"===typeof e?e.trim():e},expression:"selected_permission"}})],1),t.fieldsToEdit?i("v-flex",{attrs:{xs12:"",sm12:""}},[i("label",[t._v("Edit permission for "),i("strong",[t._v(t._s(t.permission_name))])])]):t._e(),i("div",{staticClass:"permissions"},[i("div",{staticClass:"title"},[i("div",{staticClass:"left-line line"}),i("h4",[t._v("Permissions")]),i("div",{staticClass:"right-line line"})]),i("div",{staticClass:"items"},[i("v-switch",{attrs:{label:"View"},model:{value:t.slug.view,callback:function(e){t.$set(t.slug,"view",e)},expression:"slug.view"}}),i("v-switch",{attrs:{label:"Create"},model:{value:t.slug.create,callback:function(e){t.$set(t.slug,"create",e)},expression:"slug.create"}}),i("v-switch",{attrs:{label:"Update"},model:{value:t.slug.update,callback:function(e){t.$set(t.slug,"update",e)},expression:"slug.update"}}),i("v-switch",{attrs:{label:"Delete"},model:{value:t.slug.delete,callback:function(e){t.$set(t.slug,"delete",e)},expression:"slug.delete"}})],1)]),i("v-flex",{attrs:{xs12:""}},[i("v-textarea",{staticClass:"dialog__textarea",attrs:{label:"Description",solo:"","hide-details":"",color:"#657186"},model:{value:t.description,callback:function(e){t.description="string"===typeof e?e.trim():e},expression:"description"}})],1)],1)],1)],2)],1)},_=[],m=i("0644"),g=i.n(m),h=i("57e5"),v=i("d4e9"),b=i("1be9"),y={get_permissions:function(){return b["a"].get("api/permission?all=true")},get_default_permissions:function(){return b["a"].get("api/permission/defaults")},get_role_permissions:function(){return b["a"].get("api/roles/permissions")},get_default_roles:function(){return b["a"].get("api/roles/defaults")},get_company_roles:function(){return b["a"].get("api/roles/company")}},w={name:"PermissionDialog",components:{CustomDialog:h["a"]},props:{dialog:Boolean,title:String,isEditDialog:Boolean,fieldsToEdit:{type:Object,default:function(){}}},data:function(){return{open:!1,description:null,permission_name:null,selected_permission:null,selected_group:null,permissions:[],group_items:[],loading_permissions:!1,slug:{create:!1,view:!1,update:!1,delete:!1}}},watch:{dialog:{handler:function(t){this.open=t,t&&this.fill_group_items()},immediate:!0},open:function(t){this.$emit("update:dialog",t)},fieldsToEdit:{handler:function(t){this.isEditDialog&&this.update_fields(t)},deep:!0},"slug.create":function(t){t?this.slug.view=!0:this.slug.update=!1},"slug.update":function(t){t?this.slug.create=!0:this.slug.delete=!1},"slug.delete":function(t){t&&(this.slug.update=!0)},"slug.view":function(t){t||(this.slug={create:!1,view:!1,update:!1,delete:!1})}},created:function(){var t=this;this.loading_permissions=!0,y.get_default_permissions().then((function(e){var i=e.data;return t.permissions=i})).finally((function(){return t.loading_permissions=!1}))},methods:{fill_group_items:function(){var t=this;this.loading=!1,v["a"].get_all_groups().then((function(e){var i=e.data;return t.group_items=i})).finally((function(){return t.loading=!1}))},cancel:function(){this.open=!1},save:function(){var t={permission_id:this.selected_permission,group:this.selected_group,description:this.description,slug:this.slug};this.$emit("save",t)},update_fields:function(t){var e=t.fields,i=g()(e);this.selected_group=i.selected_group,this.description=i.description,this.slug=i.slug,this.permission_name=i.name},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.cancel()}}},x=w,$=(i("e31c"),i("2877")),k=Object($["a"])(x,p,_,!1,null,"136a8c1e",null),C=k.exports;function B(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?B(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var D={name:"PermissionsTable",mixins:[o["a"]],components:{CustomTable:c["a"],Breadcrumb:u["a"],PermissionsDialog:C,DeleteDialog:d["a"],TableHeader:f["a"]},data:function(){return{paths:[{text:"Settings",disabled:!1,router_name:"settings"},{text:"Permissions",disabled:!0,router_name:null}],headers:[{id:1,text:"Name",value:"name",sortable:!0,align:"left"},{id:2,text:"Description",value:"description",sortable:!0,align:"left"},{id:3,text:"Capability",value:"capability",sortable:!1,align:"left"},{id:4,is_action:!0}],table_config:{route_name:"settings",add_message:"New Permission added successfully!",update_message:"Permission updated successfully!",delete_message:"Permission deleted successfully!",refresh_table_message:"Table refreshed",refresh_table_api_name:"paginate_permissions_table"},groups:[],selected_group:null}},watch:{api_query:function(t,e){var i=Number(this.extract_per_page(t)),n=Number(this.extract_per_page(e))||null;this.items_response&&this.rows_per_page===this.items.length&&i!==n||(this.$router.replace({name:this.table_config.route_name,query:{tab:"permissions",page:this.page,per_page:this.rows_per_page,search:this.search,sort:this.query_for_sorting,role:this.selected_group}}),this.loading=!0,this.refresh_table(t))},selected_group:function(t){this.fill_table("get_role_permissions",!0,t)}},created:function(){this.fill_groups();var t=O({},this.$route.query);l()(t)||this.update_table_actions(t)},methods:{toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},capability_column:function(t){switch(!0){case t.view&&!t.create&&!t.update&&!t.delete:return 1;case t.view&&t.create&&!t.update&&!t.delete:return 2;case t.view&&t.create&&t.update&&!t.delete:return 3;case t.view&&t.create&&t.update&&t.delete:return 4;default:return 0}},fill_groups:function(){var t=this;y.get_company_roles().then((function(e){var i=e.data;t.groups=i.map((function(t){return{value:t.id,text:t.name}}))})).finally((function(){t.selected_group=t.groups[0].value}))}},filters:{removeSlug:function(t){return t?(t=t.toString(),t.split(".")[0]):""}}},S=D,T=(i("0703"),Object($["a"])(S,n,s,!1,null,"39218c92",null));e["default"]=T.exports},dc8f:function(t,e,i){"use strict";var n=i("289a"),s=i.n(n);s.a},e2c0:function(t,e,i){},e31c:function(t,e,i){"use strict";var n=i("bfa3"),s=i.n(n);s.a},e403:function(t,e,i){},ed40:function(t,e,i){"use strict";var n=i("e2c0"),s=i.n(n);s.a},fb90:function(t,e,i){}}]);
//# sourceMappingURL=chunk-46a4437a.aa97f4dc.js.map