(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d946cdbc"],{"0ebe":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{staticClass:"custom-table-wrapper",attrs:{flat:""}},[i("v-container",{staticClass:"custom-table-inner",attrs:{fluid:""}},[i("v-data-table",e._b({staticClass:"custom-table",attrs:{headers:e.headers,items:e.items,"disable-sort":e.sortingEnable,"show-select":e.showSelect,shaped:"","hide-default-footer":"",height:"500","items-per-page":e.itemsPerPage},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",{staticClass:"custom-table-title"},[e._v(" "+e._s(e.title)+" ")]),i("v-spacer"),e.hasSearch?i("v-flex",{attrs:{sm12:"",md3:""}},[i("v-text-field",{attrs:{width:"100","append-icon":"mdi-magnify",label:"Search",dense:"","hide-details":"",solo:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1):e._e()],1),e._t("header"),i("v-divider")]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[i("tr",[e.showSelect&&!e.noRowDelete?i("td",[i("v-checkbox",{staticStyle:{margin:"0px",padding:"0px"},attrs:{value:n,"hide-details":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e(),e._t("row-slot",null,{item:n})],2)]}},{key:"no-data",fn:function(){return[i("Empty",[e._t("empty-slot",null,{slot:"extra"})],2)]},proxy:!0},e.hasFooter?{key:"footer",fn:function(){return[i("v-divider"),i("v-row",{staticClass:"py-3 px-2",attrs:{"no-gutters":""}},[i("v-col",[e.showSelect&&!e.noRowDelete&&e.selected.length>0?i("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.selected.length>0,expression:"selected.length > 0"}],attrs:{tile:"",text:"",outlined:"",color:"red"},on:{click:function(t){return e.$emit("delete-selected",e.selected)}}},[e._v("DELETE SELECTED "),i("v-icon",{attrs:{right:"",small:""}},[e._v("delete")])],1):e._e()],1),i("v-col",{staticClass:"d-flex align-content-center"},[i("v-spacer"),!0===e.noMoreData?i("v-btn",{attrs:{tile:"",text:"",disabled:""}},[e._v("NO MORE DATA")]):i("v-btn",{attrs:{tile:"",text:"",loading:e.btnloading},on:{click:e.handleLoadMore}},[e._v("LOAD MORE")]),i("v-spacer")],1),i("v-col")],1)]},proxy:!0}:null],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},"v-data-table",e.$attrs,!1))],1)],1)},a=[],s=i("4752"),o=(i("0644"),{name:"VueTable",components:{Empty:s["a"]},props:{title:{type:String,default:""},items:{type:Array,default:[]},headers:{type:Array,default:[]},showRowActions:{type:Boolean,default:!1},sortingEnable:{type:Boolean,default:!1},hasSearch:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},hasHeader:{type:Boolean,default:!0},showSelect:{type:Boolean,default:!0},icon:String,noMoreData:{type:Boolean,default:!1},noRowEdit:{type:Boolean,default:!1},noRowDelete:{type:Boolean,default:!1},noRowView:{type:Boolean,default:!1}},data:function(){return{itemsPerPage:1e3,dialog:!1,editedIndex:-1,editedItem:{},defaultItem:{},sortby:!1,computedHeaders:[],search:"",page:1,can_bulk_delete:!1,btnloading:!1,selected:[]}},created:function(){var e=this;this.$event.$on("btnloading_off",(function(){return e.btnloading=!1})),this.$event.$on("clear_selected",(function(){return e.selected=[]}))},methods:{handleSelectAllToggle:function(e){this.can_bulk_delete=e.value},handleLoadMore:function(){this.btnloading=!0,this.$emit("load-more")}}}),l=o,r=(i("d3da"),i("2877")),c=Object(r["a"])(l,n,a,!1,null,null,null);t["a"]=c.exports},"1f74":function(e,t,i){},2379:function(e,t,i){"use strict";var n=i("1f74"),a=i.n(n);a.a},"5b70":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("custom-dialog",{attrs:{title:e.title,content:e.textContent,"button1-text":e.cancelButtonText,"button2-text":e.deleteButtonText,open:e.open},on:{"update:open":function(t){e.open=t},button1:e.cancel_clicked,button2:e.delete_clicked}})],1)},a=[],s=i("57e5"),o={components:{CustomDialog:s["a"]},props:{title:{type:String,default:"Default Modal Title"},textContent:{type:String,default:"Default Modal Text Content"},cancelButtonText:{type:String,default:"Cancel"},deleteButtonText:{type:String,default:"Delete"},openDialog:Boolean},data:function(){return{open:!1}},watch:{openDialog:function(e){this.open=e},open:function(e){this.$emit("update:openDialog",e)}},methods:{cancel_clicked:function(){this.open=!1},delete_clicked:function(){this.$emit("delete")},showDialog:function(){this.open=!0},closeDialog:function(){this.open=!1}}},l=o,r=i("2877"),c=Object(r["a"])(l,n,a,!1,null,null,null);t["a"]=c.exports},"6e65":function(e,t,i){},a075:function(e,t,i){},a5da:function(e,t,i){e.exports=i.p+"img/delete.48d94aad.svg"},d3da:function(e,t,i){"use strict";var n=i("a075"),a=i.n(n);a.a},dbfc:function(e,t,i){"use strict";var n=i("f1a0"),a=i.n(n);a.a},de15:function(e,t,i){"use strict";var n=i("6e65"),a=i.n(n);a.a},e06e:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i("386d"),i("a481"),i("c5f6"),i("28a5"),i("55dd"),i("20d6"),i("6762"),i("ac6a");var n=i("b047c"),a=i.n(n),s=i("d4e9"),o={methods:{add_item:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s["a"][e](t,n).then((function(e){var t=e.data;Array.isArray(t)?t.reverse().forEach((function(e){return i.items.unshift(e)})):i.items.unshift(t),i.$refs.add_dialog.clear_and_close(),i.$event.$emit("open_snackbar",i.table_config.add_message)})).finally((function(){return i.$event.$emit("btnloading_off",!1)}))},extract_per_page:function(e){var t=e.search("per_page");return e.substring(t+9,t+10)},calc_per_page_items:function(e,t){var i=[5,10,15,20,25];return i.includes(e)||i.push(e),!i.includes(t)&&t<=25&&i.push(t),i},update_item:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s["a"][e](this.edit_item.id,t,n).then((function(e){var t=i.items.findIndex((function(t){return t.id===e.data.id}));~t&&i.items.splice(t,1,e.data),i.edit_item={id:null,fields:null},i.edit_dialog=!1,i.$event.$emit("open_snackbar",i.table_config.update_message)})).finally((function(){return i.$event.$emit("btnloading_off",!1)}))},delete_item:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s["a"][e](this.delete_item_id,i).then((function(){var e=t.items.findIndex((function(e){return e.id===t.delete_item_id}));~e&&t.items.splice(e,1),t.delete_item_id=null,t.delete_dialog=!1,t.$event.$emit("open_snackbar",t.table_config.delete_message)})).finally((function(){return t.$event.$emit("btnloading_off",!1)}))},bulk_delete:function(e){var t=this,i={ids:this.selected.map((function(e){return e.id}))};s["a"][e]({data:i}).then((function(e){var i=e.data;t.selected.forEach((function(e){var i=t.items.findIndex((function(t){return t.id===e.id}));~i&&t.items.splice(i,1)})),t.bulk_delete_dialog=!1,t.selected=[],t.$event.$emit("clear_selected"),t.$event.$emit("open_snackbar",i.message)})).finally((function(){t.$event.$emit("btnloading_off",!1)}))},open_edit_dialog:function(e){this.edit_dialog=!0,this.$set(this.edit_item,"id",e.id),this.$set(this.edit_item,"fields",e)},open_delete_dialog:function(e){this.delete_dialog=!0,this.delete_item_id=e.id},open_bulk_delete_dialog:function(e){this.bulk_delete_dialog=!0,this.selected=e},fill_table:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loading=!0,s["a"][e](n).then((function(e){t.items_response=e.data,i?(t.items=e.data.data,t.pagination.current=e.data.current_page,t.pagination.total=e.data.last_page,t.hasMoreData()):t.items=e.data})).finally((function(){t.loading=!1,t.$event.$emit("btnloading_off",!1)}))},load_more_on_table:function(e){var t=this;this.loading=!0;var i={page:this.pagination.current+1};s["a"][e]({params:i}).then((function(e){var i=e.data;t.items_response=i.data,i.data.forEach((function(e){t.items.push(e)})),t.pagination.current=i.current_page,t.pagination.total=i.last_page,t.hasMoreData()})).finally((function(){t.loading=!1,t.$event.$emit("btnloading_off",!1)}))},fill_table_with_data:function(e){this.items=e},add_table_rows:function(e,t){this.items=e,this.items_response=t},changeSort:function(e){this.sort.sortBy===e?this.sort.descending=!this.sort.descending:(this.sort.sortBy=e,this.sort.descending=!1)},refresh_table:function(e){var t=this;s["a"][this.table_config.refresh_table_api_name](e).then((function(e){t.$event.$emit("open_snackbar",t.table_config.refresh_table_message),t.loading=!1,t.items_response=e.data,t.items=e.data.data})).finally((function(){return t.$event.$emit("btnloading_off",!1)}))},update_table_actions:function(e){if(e.page&&(this.page=Number(e.page)),e.per_page&&(this.rows_per_page=Number(e.per_page)),e.search&&(this.search=e.search),e.sort){var t=e.sort.split("|");this.sort.sortBy=t[0],"asc"===t[1]?this.sort.descending=!1:"desc"===t[1]&&(this.sort.descending=!0)}},hasMoreData:function(){this.componentKey+=1,this.pagination.current>=this.pagination.total&&(this.noMoreData=!0)},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},setPreferredView:function(e){window.localStorage.setItem("bzk_prefer_view",e),this.view=e},getPreferredView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"},debounce:a()((function(e){this.search=e}),500)}},l={mixins:[o],data:function(){return{edit_dialog:!1,add_dialog:!1,delete_dialog:!1,permissionDialog:!1,bulk_delete_dialog:!1,loading:!1,items:[],items_response:null,edit_item:{id:null,fields:null},delete_item_id:null,show_delete_selected:!1,selected_ids:[],selected:[],rows_per_page:null,page:1,sort:{sortBy:null,descending:!1},search:"",pagination:{current:1,total:0},noMoreData:!1,componentKey:1,view:"list"}},watch:{selected_ids:function(e){e.length>0?this.show_delete_selected=!0:this.show_delete_selected=!1},api_query:function(e,t){var i=Number(this.extract_per_page(e)),n=Number(this.extract_per_page(t))||null;this.items_response&&this.rows_per_page===this.items.length&&i!==n||(this.$router.replace({name:this.table_config.route_name,query:{page:this.page,per_page:this.rows_per_page,search:this.search,sort:this.query_for_sorting}}),this.loading=!0,this.refresh_table(e))}}}},f1a0:function(e,t,i){},fec3:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"files__tab"},[n("LinkDialog",{ref:"link_dialog",on:{save:e.addLink}}),n("delete-dialog",{attrs:{"open-dialog":e.delete_dialog,title:"Delete File","text-content":"Are you sure you want to delete this file?"},on:{"update:openDialog":function(t){e.delete_dialog=t},"update:open-dialog":function(t){e.delete_dialog=t},delete:e.delete_item}}),n("div",{staticClass:"drop__files"},[n("div",{staticClass:"drop__files_body"},[n("CustomDropzone",{ref:"dropzone",attrs:{needConfirmation:!0,duplicateCheck:!0,options:e.dropzoneOptions,useCustomSlot:!0,dictFileTooBig:"File too big",dictInvalidFileType:"Invalid file type"},on:{success:e.file_added,failed:e.file_failed,"open-add-link-dialog":e.open_link_dialog,"upload-this-files":e.manual_upload}})],1)]),n("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("img",{attrs:{src:e.url,width:"500"}})]),n("v-card",{staticClass:"p-2"},[n("v-row",{staticClass:"py-2 px-1"},[n("v-col",{attrs:{md:"10",sm:"9",xs:"12"}},e._l(e.toolbarItems,(function(t){return n("ToolbarItem",{key:t.id,attrs:{icon:t.icon,"icon-text":t.iconText,"icon-class":t.className,"is-active":t.type===e.filter},on:{click:function(i){e.filter=t.type}}})})),1),n("v-col",{attrs:{md:"2",sm:"3",xs:"12"}},[n("v-spacer"),n("v-btn",{attrs:{icon:"",text:"",right:""},on:{click:function(t){return e.setPreferredView("list")}}},[n("v-icon",{attrs:{color:"list"==e.view?"primary":""}},[e._v("list")])],1),n("v-btn",{attrs:{icon:"",text:"",right:""},on:{click:function(t){return e.setPreferredView("grid")}}},[n("v-icon",{attrs:{color:"grid"==e.view?"primary":""}},[e._v("grid_on")])],1)],1)],1),"grid"==e.view?n("v-card",[n("v-container",{attrs:{fluid:"","grid-list-md":""}},[e.filteredItems.length?n("v-layout",{attrs:{wrap:""}},e._l(e.filteredItems,(function(t){return n("v-flex",{key:t.id,attrs:{xs12:"",sm4:"",md3:""}},[n("v-card",{staticClass:"xs-12 sm-3"},[n("v-img",{attrs:{src:t.thumb_url,height:"200px"},on:{click:function(i){return e.pop(t.public_url)},error:function(i){return e.altImage(t)}}}),n("v-card-text",[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-content",[n("v-list-item-subtitle",[n("div",{staticClass:"break-word-container",attrs:{title:t.name}},[e._v(" "+e._s(e._f("str_limit")(t.name,25))+" ")])]),n("v-list-item-subtitle",[n("span",{staticClass:"grey--text"},[e._v(" Added by: "+e._s(t.custom_properties.user.first_name))])])],1)],1)],1),n("v-card-actions",[n("span",{staticClass:"text-upper"},[e._v(e._s(t.custom_properties.ext))]),n("v-spacer"),"link"!==t.mime_type?n("v-btn",{attrs:{fab:"",small:"",depressed:"",title:"Download",href:t.download_url}},[n("v-icon",{attrs:{small:""}},[e._v("cloud_download")])],1):n("v-btn",{attrs:{fab:"",small:"",depressed:"",title:"Go to link"},on:{click:function(i){return e.goto_link(t.download_url)}}},[n("v-icon",{attrs:{small:""}},[e._v("link")])],1),e.can_delete?n("v-btn",{attrs:{fab:"",small:"",text:"",pressed:"",title:"Delete"},on:{click:function(i){return e.open_delete_dialog(t)}}},[n("img",{attrs:{src:i("a5da"),alt:""}})]):e._e()],1)],1)],1)})),1):e._e(),e.filteredItems.length?n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("v-card-actions",{staticClass:"py-2"},[!0===e.noMoreData?n("v-btn",{attrs:{tile:"",text:"",disabled:""}},[e._v("NO MORE DATA")]):n("v-btn",{attrs:{tile:"",text:"",loading:e.btnloading},on:{click:e.get_more_files}},[e._v("LOAD MORE")])],1),n("v-spacer")],1):n("div",{staticClass:"justify-content-center empty-files"},[n("div",{staticClass:"empty-content"},[n("div",{staticClass:"empty-svg"},[n("svg",{attrs:{viewBox:"0 0 250 250"}},[n("path",{attrs:{d:"M37 11l176 0c11,0 20,4 26,11 7,6 11,16 11,26l0 154c0,10 -4,19 -11,26 -2,2 -4,3 -6,5 -17,13 -33,1 -48,-11 -10,-7 -19,-14 -26,-11 -5,2 -9,7 -12,13 -12,18 -31,17 -46,4 -5,-5 -11,-10 -16,-11 -6,-1 -12,4 -19,9 -11,8 -23,17 -39,11 -6,-1 -12,-5 -16,-9 -7,-7 -11,-16 -11,-26l0 -154c0,-10 4,-20 11,-26 6,-7 15,-11 26,-11zm22 108c8,0 15,7 15,15 0,8 -7,15 -15,15 -8,0 -15,-7 -15,-15 0,-8 7,-15 15,-15zm0 -56c8,0 15,7 15,15 0,8 -7,15 -15,15 -8,0 -15,-7 -15,-15 0,-8 7,-15 15,-15zm44 24c-4,0 -7,-4 -7,-8 0,-4 3,-7 7,-7l96 0c4,0 7,3 7,7 0,4 -3,8 -7,8l-96 0zm0 56c-4,0 -7,-4 -7,-8 0,-4 3,-7 7,-7l96 0c4,0 7,3 7,7 0,4 -3,8 -7,8l-96 0zm129 70c2,-3 3,-7 3,-11l0 -154c0,-6 -2,-12 -6,-16 -4,-4 -10,-6 -16,-6l-176 0c-6,0 -12,2 -16,6 -4,4 -6,10 -6,16l0 154c0,6 2,11 6,15 1,2 3,3 4,3 13,8 23,1 32,-6 9,-7 18,-13 30,-12 10,2 17,8 24,15 8,7 17,8 24,-1 4,-8 9,-15 19,-19 14,-6 27,3 39,13 13,10 26,20 39,3z"}})])]),n("div",{staticClass:"empty-text"},[e._v(" No file found ")])])])],1)],1):"list"==e.view?n("VueTable",{key:e.componentKey,attrs:{items:e.filteredItems,headers:e.headers,showRowActions:!0,icon:"widgets",title:"Files",noMoreData:e.noMoreData,permission:e.$_permissions.get("hq_files")},on:{"load-more":e.get_more_files},scopedSlots:e._u([{key:"row-slot",fn:function(t){var a=t.item;return[n("tr",[n("td",{on:{click:function(t){return e.pop(a.public_url)}}},[n("v-img",{staticClass:"my-1",attrs:{src:a.thumb_url,width:"50px",height:"50px"},on:{error:function(t){return e.altImage(a.item)}}})],1),n("td",{staticClass:"text-upper"},[e._v(e._s(a.custom_properties.ext))]),n("td",{staticClass:"text-cap"},[e._v(e._s(a.name))]),n("td",{staticClass:"text-cap"},[e._v(" "+e._s(a.custom_properties.user.first_name)+" ")]),n("td",{staticClass:"text-cap"},[e._v("Project")]),n("td",{staticClass:"text-xs-center"},["link"!==a.mime_type?n("v-btn",{attrs:{fab:"",small:"",depressed:"",title:"Download",href:a.download_url}},[n("v-icon",[e._v("cloud_download")])],1):n("v-btn",{attrs:{fab:"",text:"",small:"",depressed:"",title:"Go to link"},on:{click:function(t){return e.goto_link(a.download_url)}}},[n("v-icon",[e._v("link")])],1),e.can_delete?n("v-btn",{attrs:{fab:"",small:"",text:"",depressed:"",title:"Delete"},on:{click:function(t){return e.open_delete_dialog(a)}}},[n("img",{attrs:{src:i("a5da"),alt:""}})]):e._e()],1)])]}}])}):e._e()],1)],1)},a=[],s=i("7618"),o=(i("20d6"),i("768b")),l=(i("ac6a"),i("6762"),i("2fdb"),i("c5f6"),i("e06e")),r=i("579d"),c=i("7eac"),d=i("1be9"),u=function(e){return d["a"].delete("api/file/".concat(e))},f=function(e,t){return d["a"].post("api/projects/".concat(e,"/link"),t)},p=function(e,t){return d["a"].get("api/projects/".concat(e,"/file?page=").concat(t.page,"&type=").concat(t.type))},_=i("0ebe"),m=i("29d6"),h=i("8b7e"),g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"link-dialog"},[i("CustomDialog",{ref:"dialog",attrs:{open:e.dialog,title:"File URL","button1-text":"Cancel","button2-text":"Save"},on:{"update:open":function(t){e.dialog=t},button1:e.close_dialog,button2:e.saveClicked},scopedSlots:e._u([{key:"content",fn:function(){return[i("v-layout",{staticClass:"custom-dialog",attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",md12:""}},[i("v-text-field",{attrs:{label:"File URL",type:"url",solo:"","hide-details":"",color:"#657186"},model:{value:e.url,callback:function(t){e.url="string"===typeof t?t.trim():t},expression:"url"}})],1)],1)]},proxy:!0}])})],1)},v=[],b=i("57e5"),y={components:{CustomDialog:b["a"]},data:function(){return{dialog:!1,url:null}},methods:{openDialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1},closeAndClearDialog:function(){Object.assign(this.$data,this.$options.data.apply(this))},saveClicked:function(){this.url&&this.$emit("save",{url:this.url})}}},x=y,w=i("2877"),k=Object(w["a"])(x,g,v,!1,null,null,null),$=k.exports,D=i("5b70"),C=function(e,t){var i=t._c;return i("v-btn",t._g({staticClass:"mr-1",class:["button",{active:t.props.isActive}],attrs:{color:"#b3b7c3",medium:"",text:""}},t.listeners),[i("v-icon",{class:t.props.iconClass,attrs:{dark:"",left:""}},[t._v(t._s(t.props.icon))]),t._v(" "+t._s(t.props.iconText)+" ")],1)},T=[],S={props:{icon:String,iconText:String,iconClass:String,isActive:Boolean}},A=S,B=(i("dbfc"),Object(w["a"])(A,C,T,!0,null,"5a28869c",null)),I=B.exports,E={name:"FilesTab",mixins:[l["a"],r["a"]],components:{VueTable:_["a"],TableHeader:m["a"],CustomDropzone:h["a"],LinkDialog:$,DeleteDialog:D["a"],ToolbarItem:I},props:{id:[String,Number]},data:function(){return{headers:[{text:"Thumbnail",value:"thumbnail"},{text:"Filetype",value:"filetype"},{text:"Filename",value:"filename",width:"35%"},{text:"Added by",value:"member"},{text:"Project",value:"project"},{text:"Action",value:"action"}],table_config:{route_name:"project_preview",add_message:"New File(s) added successfully!",delete_message:"File deleted successfully!",refresh_table_message:"Table refreshed",refresh_table_api_name:"paginate_tab_files_table"},url:"",dialog:!1,filter:"all",toolbarItems:[{id:1,className:"all",type:"all",icon:"select_all",iconText:"All"},{id:2,className:"image",type:"image",icon:"image",iconText:"Image"},{id:3,className:"video",type:"video",icon:"video_library",iconText:"Video"},{id:4,className:"docs",type:"document",icon:"file_copy",iconText:"Docs"},{id:5,className:"links",type:"link",icon:"link",iconText:"Links"},{id:6,className:"other",type:"other",icon:"settings_applications",iconText:"Other"}],log_id:null}},computed:{permissions:function(){return this.$_permissions.get("hq_files")},filteredItems:function(){var e=this;return"all"===this.filter?this.items:this.items.filter((function(t){return t.collection_name.includes(e.filter)}))},user:function(){return this.$store.getters.user},dropzoneOptions:function(){return{autoProcessQueue:!1,thumbnailWidth:150,timeout:5e5,addRemoveLinks:!0,maxFiles:10,url:c["a"].apiHostBaseURL+"/api/projects/".concat(this.id,"/file"),headers:{Authorization:"Bearer "+localStorage.getItem("token")}}},dynamic_api:function(){return"api/projects/".concat(this.id,"/file")},can_delete:function(){return!!this.user.is_admin||this.permissions&&this.permissions.delete}},created:function(){this.view=this.getPreferredView(),this.get_files()},methods:{get_files:function(){var e=this;this.item=[];var t={page:1,type:this.filter};p(this.id,t).then((function(t){var i=t.data;e.items=i.data,e.pagination.current=i.current_page,e.pagination.total=i.last_page,e.hasMoreData()})).finally((function(){e.loading=!1,e.$event.$emit("btnloading_off",!1)}))},get_more_files:function(){var e=this;this.item=[];var t={page:this.pagination.current+1,type:"all"};p(this.id,t).then((function(t){var i=t.data;i.data.forEach((function(t){e.items.push(t)})),e.pagination.current=i.current_page,e.pagination.total=i.last_page,e.hasMoreData()})).finally((function(){e.loading=!1,e.$event.$emit("btnloading_off",!1)}))},manual_upload:function(){this.$refs.dropzone.process_queue()},pop:function(e){this.dialog=!0,this.url=e},sortFile:function(e){alert("This feature is under-construction.")},file_added:function(e){var t=Object(o["a"])(e,2),i=t[0],n=t[1];this.$event.$emit("open_snackbar","File(s) uploaded successfully");var a="string"===typeof n?JSON.parse(n):n;this.items.unshift(a),this.$refs.dropzone.remove_file(i)},open_link_dialog:function(){this.$refs.link_dialog.openDialog()},addLink:function(e){var t=this;f(this.id,e).then((function(e){var i=e.data;t.items.push(i),t.$refs.link_dialog.closeAndClearDialog()})).finally((function(){return t.$event.$emit("btnloading_off",!1)}))},delete_item:function(){var e=this;u(this.delete_item_id).then((function(){var t=e.items.findIndex((function(t){return t.id===e.delete_item_id}));~t&&(e.items.splice(t,1),e.delete_item_id=null,e.delete_dialog=!1,e.$event.$emit("open_snackbar",e.table_config.delete_message))})).finally((function(){return e.$event.$emit("btnloading_off",!1)}))},file_failed:function(e){var t=Object(o["a"])(e,2),i=(t[0],t[1]);this.$event.$emit("open_snackbar","object"===Object(s["a"])(i)?i[0]:i,"error")},goto_link:function(e){window.open(e)}}},M=E,O=(i("2379"),i("de15"),Object(w["a"])(M,n,a,!1,null,"13af6430",null));t["default"]=O.exports}}]);
//# sourceMappingURL=chunk-d946cdbc.eb8707d2.js.map