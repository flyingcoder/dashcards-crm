(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38e4ea07"],{"0c75":function(t,e,a){},"0edc5":function(t,e,a){},"13ea":function(t,e,a){var n=a("03dd"),s=a("42a2"),i=a("d370"),r=a("6747"),o=a("30c9"),l=a("0d24"),c=a("eac5"),u=a("73ac"),d="[object Map]",m="[object Set]",_=Object.prototype,f=_.hasOwnProperty;function v(t){if(null==t)return!0;if(o(t)&&(r(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||i(t)))return!t.length;var e=s(t);if(e==d||e==m)return!t.size;if(c(t))return!n(t).length;for(var a in t)if(f.call(t,a))return!1;return!0}t.exports=v},"174f":function(t,e,a){},"259d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"breadcrumb-wrapper"},[a("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[a("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:n.disabled}},[a("span",{on:{click:function(e){return t.navigate_from_breadcrumb(n)}}},[t._v(" "+t._s(n.text)+" ")])])]}}])},[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1),t._t("extra")],2)},s=[],i={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},r=i,o=(a("5e17"),a("79a2"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"3cda09ee",null);e["a"]=l.exports},"29d6":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[a("breadcrumb",{attrs:{paths:t.paths}}),a("v-flex",[t.noButton?t._e():a("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click")}}},[a("v-icon",[t._v("add")])],1),t.noSortButton?t._e():a("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-sort-by")}}},[a("v-icon",[t._v("sort")])],1),t.noListButton?t._e():a("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-list-view")}}},[a("v-icon",[t._v("list")])],1),t.noGridButton?t._e():a("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-grid-view")}}},[a("v-icon",[t._v("mdi-view-dashboard")])],1),t._t("form-btn")],2)],1)},s=[],i=a("259d"),r={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:i["a"]}},o=r,l=(a("337a"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"b8bfd1cc",null);e["a"]=c.exports},"337a":function(t,e,a){"use strict";var n=a("9e25"),s=a.n(n);s.a},"36a3":function(t,e,a){"use strict";var n=a("c16b"),s=a.n(n);s.a},"3dee":function(t,e,a){"use strict";var n=a("0c75"),s=a.n(n);s.a},"5e17":function(t,e,a){"use strict";var n=a("8c6e"),s=a.n(n);s.a},"72c1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avatar-wrapper"},[a("ul",{staticClass:"avatars"},[t._l(t.cutList,(function(e,n){return t.cutList.length>0?a("li",{key:n,staticClass:"avatars__item"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[t.deep?a("img",t._g({staticClass:"avatars__img",attrs:{src:e.user.image_url}},s)):a("img",t._g({staticClass:"avatars__img",attrs:{src:e.image_url}},s))]}}],null,!0)},[t.deep?a("span",[t._v(t._s(e.user.fullname))]):a("span",[t._v(t._s(e.fullname))])])],1):t._e()})),t.less>0?a("li",{staticClass:"avatars__item"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("span",t._g({staticClass:"avatars__others"},n),[t._v("+"+t._s(t.less))])]}}],null,!1,1062212335)},[a("span",{domProps:{innerHTML:t._s(t.lessList)}})])],1):t._e(),t.hasAddMember?a("li",{staticClass:"avatars__item"},[a("span",{staticClass:"avatars__add"},[a("v-icon",{attrs:{dark:""},on:{click:function(e){return t.$emit("add-member",t.item)}}},[t._v("add")])],1)]):t._e()],2)])},s=[],i=(a("c5f6"),a("0644")),r=a.n(i),o={inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},count:{type:Number,default:3},deep:{type:Boolean,default:!1},hasAddMember:{type:Boolean,default:!1}},computed:{less:function(){return this.items.length-this.count},cutList:function(){return this.items.length<this.count?this.items:r()(this.items).slice(0,this.count)},lessList:function(){var t=this;return r()(this.items).slice(this.count,this.items.length).map((function(e){return t.deep?e.user.fullname:e.fullname})).join("<br>")}}},l=o,c=(a("36a3"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,"24366672",null);e["a"]=u.exports},"79a2":function(t,e,a){"use strict";var n=a("0edc5"),s=a.n(n);s.a},"7e7e":function(t,e,a){"use strict";var n=a("174f"),s=a.n(n);s.a},"80fa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"timer"},[a("table-header",{attrs:{paths:t.paths,noButton:!0},scopedSlots:t._u([{key:"form-btn",fn:function(){return[a("v-btn",{staticClass:"mx-1",attrs:{fab:"",outlined:"",small:"",color:"gray",icon:""}},[a("v-icon",[t._v("mdi-dots-horizontal")])],1),a("v-btn",{staticClass:"mx-1",attrs:{fab:"",outlined:"",small:"",color:"gray",icon:""}},[a("v-icon",[t._v("close")])],1)]},proxy:!0}])}),a("VueTable",{key:t.componentKey,attrs:{items:t.items,headers:t.headers,showRowActions:!0,loading:t.loading,icon:"widgets",title:"Task Timers",noMoreData:t.noMoreData,showSelect:!1},on:{"load-more":t.load_more},scopedSlots:t._u([{key:"header-toolbar",fn:function(){return[a("v-btn-toggle",{attrs:{mandatory:"",value:t.timer_tab},on:{change:t.handleChangeTab},model:{value:t.timer_tab,callback:function(e){t.timer_tab=e},expression:"timer_tab"}},[a("v-btn",{staticClass:"px-5",attrs:{text:"",value:"task-timers"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-timeline-clock-outline")]),t._v(" Task Timers ")],1),a("v-btn",{staticClass:"px-5",attrs:{text:"",value:"global-timers"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-map-clock-outline")]),t._v(" Global Timers ")],1),a("v-btn",{staticClass:"px-5",attrs:{text:"",value:"alarm"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-alarm")]),t._v(" Alarms ")],1)],1)]},proxy:!0},{key:"row-slot",fn:function(e){var n=e.item;return[a("td",[a("Avatars",{staticStyle:{display:"inline-block"},attrs:{items:n.assignee,count:2}})],1),a("td",[t._v(t._s(t._f("truncate")(t._f("ucwords")(n.title))))]),a("td",[t._v(t._s(t._f("truncate")(t._f("ucwords")(n.service))))]),a("td",[t._v(t._s(t._f("format")(n.timer.timer_created,"HH:mm:ss")))]),a("td",[t._v(t._s(t._f("format")(n.timer.timer_stopped,"HH:mm:ss")))]),a("td",[t._v(t._s(t.timerEnd(n)))]),a("td",[t.can_run_timer(n)&&"ongoing"===n.timer.timer_status&&"completed"!==n.status?a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-icon",t._g({on:{click:function(e){return t.handleActionClick(n)}}},s),[t._v("pause")])]}}],null,!0)},[a("span",[t._v("Pause the timer")])]):t.can_run_timer(n)&&"completed"!==n.status?a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-icon",t._g({on:{click:function(e){return t.handleActionClick(n)}}},s),[t._v("play_arrow")])]}}],null,!0)},[a("span",[t._v("Start the timer")])]):a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-icon",t._g({},n),[t._v("mdi-clock-alert-outline")])]}}],null,!0)},[a("span",[t._v("Timer unavailable")])])],1)]}}])})],1)},s=[],i=(a("7514"),a("e06e")),r=(a("13ea"),a("0ebe")),o=a("ee09"),l=a("29d6"),c=a("72c1"),u={name:"TaskTimer",mixins:[i["a"]],components:{VueTable:r["a"],Actions:o["a"],Avatars:c["a"],TableHeader:l["a"]},data:function(){return{paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Timers",disabled:!0,router_name:null}],sortList:[{title:"Sort by Client"},{title:"Sort by Task"},{title:"Sort by Services"},{title:"Sort by Time"},{title:"Sort by Date"}],headers:[{text:"Assigned To",sortable:!1,align:"left",width:150},{text:"Task",sortable:!1,align:"left"},{text:"Service",sortable:!1,align:"left"},{text:"Time Start",sortable:!1,align:"left"},{text:"Time End",value:"time_end",sortable:!1,align:"left"},{text:"Total Time",sortable:!1,align:"left"},{text:"Action",sortable:!1,align:"center",width:"50px"}],timer_tab:"task-timers",currentTab:"task-timers"}},created:function(){this.fill_table_via_url("api/timer/tasks?all=true")},computed:{loggeduser:function(){return this.$store.getters.user}},methods:{load_more:function(){this.load_more_via_url("api/timer/tasks?all=true")},can_run_timer:function(t){var e=this,a=t.assignee.find((function(t){return t.id===e.loggeduser.id}));return!!a},handleChangeTab:function(t){"global-timers"===this.timer_tab&&this.$router.push({name:"globalTimer"}),"alarm"===this.timer_tab&&this.$router.push({name:"alarm"})},timerEnd:function(t){return"open"===t.timer.timer_status?"Ongoing":t.timer.timer_stats.format},handleActionClick:function(t){this.$event.$emit("open_snackbar","Coming soon, working on it!")}}},d=u,m=(a("3dee"),a("2877")),_=Object(m["a"])(d,n,s,!1,null,"76bfa93a",null);e["default"]=_.exports},"8c6e":function(t,e,a){},"9e25":function(t,e,a){},c16b:function(t,e,a){},ee09:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"table-actions",attrs:{align:"center"}},[t.hasEdit?a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_edit,expression:"can_edit"}],attrs:{dense:"",dense:"",icon:""},on:{click:function(e){return t.handle_action("edit")}}},[a("v-icon",{attrs:{small:""}},[t._v(t._s(t.editIcon))])],1):t._e(),t.hasDelete?a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_delete,expression:"can_delete"}],attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("delete")}}},[a("v-icon",{attrs:{small:""}},[t._v(t._s(t.deleteIcon))])],1):t._e(),t.hasView?a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_view,expression:"can_view"}],attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("view")}}},[a("v-icon",{attrs:{small:""}},[t._v(t._s(t.viewIcon))])],1):t._e()],1)},s=[],i={props:{item:{type:Object,default:null},permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},editIcon:{type:String,default:"mdi-pencil"},viewIcon:{type:String,default:"pageview"},deleteIcon:{type:String,default:"mdi-delete"},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0}},computed:{logged_user:function(){return this.$store.getters.user}},methods:{handle_action:function(t){this.item&&this.$emit(t,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.view}}},r=i,o=(a("7e7e"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-38e4ea07.78ced4bc.js.map