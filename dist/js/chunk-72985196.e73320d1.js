(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72985196"],{"1ee4":function(e,t,s){"use strict";s.r(t);var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"general"},[s("div",{staticClass:"general-wrapper"},[s("div",{staticClass:"general-inner"},[s("v-row",{staticClass:"user-info",attrs:{"no-gutters":""}},[e.current?s("v-col",{key:e.componentKey,staticClass:"offset-md-2",attrs:{md:"8",sm:"12"}},[s("v-row",{staticClass:"align-center"},[s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Dashboard Title")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-text-field",{staticClass:"fullwidth",attrs:{outlined:"",placeholder:"Buzzooka Dashboard",dense:"","hide-details":"",solo:"",flat:"",value:e.current.title},model:{value:e.current.title,callback:function(t){e.$set(e.current,"title",t)},expression:"current.title"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Language")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-select",{staticClass:"fullwidth",attrs:{items:e.languages,"item-value":"value",outlined:"",placeholder:"English",dense:"","hide-details":"",solo:"",flat:"",value:e.current.lang},model:{value:e.current.lang,callback:function(t){e.$set(e.current,"lang",t)},expression:"current.lang"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Theme")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-select",{staticClass:"fullwidth",attrs:{items:e.themes,"item-value":"value",outlined:"",placeholder:"Default",dense:"","hide-details":"",solo:"",flat:"",value:e.current.theme},model:{value:e.current.theme,callback:function(t){e.$set(e.current,"theme",t)},expression:"current.theme"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Date Format")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-select",{staticClass:"fullwidth",attrs:{items:e.date_formats,"item-value":"value",outlined:"",placeholder:"D - M - Y",dense:"","hide-details":"",solo:"",flat:"",value:e.current.date_format},model:{value:e.current.date_format,callback:function(t){e.$set(e.current,"date_format",t)},expression:"current.date_format"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("General Page Limits")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-text-field",{staticClass:"fullwidth",attrs:{rules:e.limit_rules,outlined:"",placeholder:"0",type:"number",dense:"","hide-details":"auto",flat:"",value:e.current.general_page_limits},model:{value:e.current.general_page_limits,callback:function(t){e.$set(e.current,"general_page_limits",t)},expression:"current.general_page_limits"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Messages Page Limits")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-text-field",{staticClass:"fullwidth",attrs:{rules:e.limit_rules,outlined:"",placeholder:"0",type:"number",dense:"","hide-details":"auto",flat:"",value:e.current.messages_page_limits},model:{value:e.current.messages_page_limits,callback:function(t){e.$set(e.current,"messages_page_limits",t)},expression:"current.messages_page_limits"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Timeline Display Limits")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-text-field",{staticClass:"fullwidth",attrs:{rules:e.limit_rules,outlined:"",type:"number",placeholder:"0",dense:"","hide-details":"auto",flat:"",value:e.current.timeline_display_limits},model:{value:e.current.timeline_display_limits,callback:function(t){e.$set(e.current,"timeline_display_limits",t)},expression:"current.timeline_display_limits"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Currency")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-select",{staticClass:"fullwidth",attrs:{items:e.currencies,"return-object":"","item-value":"currency_code",outlined:"",placeholder:"Currency",dense:"","hide-details":"",solo:"",flat:"",value:e.current.currency.currency_code},scopedSlots:e._u([{key:"item",fn:function(t){var l=t.item;return[s("v-col",[e._v(e._s(l.text)+" ("+e._s(l.symbol)+")")]),s("v-col",{attrs:{md:"2"}},[e._v(e._s(l.currency_code))])]}}],null,!1,3825925238),model:{value:e.current.currency.currency_code,callback:function(t){e.$set(e.current.currency,"currency_code",t)},expression:"current.currency.currency_code"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Show Information Tips")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-select",{staticClass:"fullwidth",attrs:{items:["Yes","No"],outlined:"",placeholder:"Yes",dense:"","hide-details":"",solo:"",flat:"",value:e.current.info_tips},model:{value:e.current.info_tips,callback:function(t){e.$set(e.current,"info_tips",t)},expression:"current.info_tips"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Allow Client Registration")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-select",{staticClass:"fullwidth",attrs:{items:["Yes","No"],outlined:"",placeholder:"Yes",dense:"","hide-details":"",solo:"",flat:"",value:e.current.client_registration},model:{value:e.current.client_registration,callback:function(t){e.$set(e.current,"client_registration",t)},expression:"current.client_registration"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Notifications - Display "),s("br"),e._v(" Duration (seconds)")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-text-field",{staticClass:"fullwidth",attrs:{rules:e.notif_rules,outlined:"",type:"number",placeholder:"1000",dense:"","hide-details":"auto",flat:"",value:e.current.notif_duration},model:{value:e.current.notif_duration,callback:function(t){e.$set(e.current,"notif_duration",t)},expression:"current.notif_duration"}})],1),s("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[e._v("Product Purchase Key "),s("br"),e._v(" (license key)")]),s("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[s("v-text-field",{staticClass:"fullwidth",attrs:{outlined:"",placeholder:"XXXX-XXXX-XXXX-XXXX-XX",dense:"","hide-details":"",solo:"",flat:"",value:e.current.license_key},model:{value:e.current.license_key,callback:function(t){e.$set(e.current,"license_key",t)},expression:"current.license_key"}})],1),s("v-col",{staticClass:"text-right",attrs:{md:"12",cols:"12"}},[s("v-btn",{staticClass:"update-btn",attrs:{disabled:e.update_btn_loading||e.reset_btn_loading,loading:e.update_btn_loading},on:{click:e.update_settings}},[s("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-content-save")]),e._v(" Save Changes ")],1)],1)],1)],1):e._e()],1)],1)])])},i=[],a=(s("ac6a"),s("456d"),s("20d6"),s("1be9")),n=(s("7eac"),s("0644"),{name:"General",data:function(){return{paths:[{text:"Settings",disabled:!0,router_name:null},{text:"General",disabled:!0,router_name:null}],update_btn_loading:!1,reset_btn_loading:!1,languages:[{value:"english",text:"English"}],themes:[{value:"default",text:"Buzzooka Default"}],date_formats:[{value:"D-M-Y",text:"D-M-Y e.g 01-12-2020"},{value:"Y-M-D",text:"Y-M-D e.g 2020-12-01"},{value:"M-D-Y",text:"M-D-Y e.g 12-01-2020"}],currencies:[{currency_code:"USD",symbol:"$",text:"US Dollar"},{currency_code:"CAD",symbol:"$",text:"Canadian Dollar"},{currency_code:"EUR",symbol:"£",text:"Euro"},{currency_code:"PHP",symbol:"₱",text:"Philippine Peso"}],current:null,componentKey:0,limit_rules:[function(e){return!!e||"Required"},function(e){return e>=1||"Value should be above 0"},function(e){return e<=500||"Value should not be above 500"}],notif_rules:[function(e){return!!e||"Required"},function(e){return e>=60||"Value should be above 60 (at least 1 minute)"},function(e){return e<=86400||"Value should not be above 86400 (1 day)"}],license_key:null}},mounted:function(){this.$event.$emit("path-change",this.paths),this.fetchSettings()},computed:{companyId:function(){return this.$store.getters.user.company_id},original:function(){return this.$store.getters["configs/original"]}},methods:{isValid:function(){var e=[];return this.current.title&&""!==this.current.title.trim()||e.push("Title is required"),(this.current.timeline_display_limits>500||this.current.timeline_display_limits<1)&&e.push("Timeline Display Limits should be between 1 - 500"),(this.current.messages_page_limits>500||this.current.messages_page_limits<1)&&e.push("Messages Page Limits should be between 1 - 500"),(this.current.general_page_limits>500||this.current.general_page_limits<1)&&e.push("General Page Limits should be between 1 - 500"),(this.current.notif_duration>86400||this.current.notif_duration<60)&&e.push("Notifications Display Duration should be between 60 - 86400"),!(e.length>0)||(this.$event.$emit("open_snackbar",e.join("<br>"),"error"),!1)},reset_settings:function(){this.reset_btn_loading=!0,this.current=this.original,this.current.license_key=this.license_key,this.$event.$emit("open_snackbar","Click SAVE CHANGES to effect!","info"),this.reset_btn_loading=!1},getPayload:function(){var e=this,t={title:this.current.title,lang:this.current.lang,theme:this.current.theme,date_format:this.current.date_format,timeline_display_limits:this.current.timeline_display_limits,general_page_limits:this.current.general_page_limits,messages_page_limits:this.current.messages_page_limits,info_tips:this.current.info_tips,client_registration:this.current.client_registration,notif_duration:this.current.notif_duration,license_key:this.current.license_key},s=this.currencies.findIndex((function(t){return t.currency_code===e.current.currency}));return t.currency=~s?this.currencies[s]:this.currencies[0],t},fetchSettings:function(){var e=this;a["a"].get("api/company/".concat(this.companyId,"/settings")).then((function(t){var s=t.data;Object.keys(s).length?(e.current=s,e.license_key=s.license_key):e.current=e.original}))},update_settings:function(){var e=this;if(this.isValid()){var t=this.getPayload();this.update_btn_loading=!0,a["a"].post("api/company/".concat(this.companyId,"/settings"),t).then((function(t){var s=t.data;e.$store.dispatch("configs/updateSettings",s).then((function(){e.current=e.$store.getters["configs/current"]})),e.$event.$emit("open_snackbar","Settings updated","success")})).finally((function(){return e.update_btn_loading=!1}))}}}}),r=n,c=(s("2a15"),s("2877")),o=Object(c["a"])(r,l,i,!1,null,null,null);t["default"]=o.exports},"2a15":function(e,t,s){"use strict";var l=s("c96c"),i=s.n(l);i.a},c96c:function(e,t,s){}}]);
//# sourceMappingURL=chunk-72985196.e73320d1.js.map