(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cc51115"],{"14cf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alarm"},[a("table-header",{attrs:{paths:t.paths,noButton:!0},scopedSlots:t._u([{key:"form-btn",fn:function(){return[a("v-btn",{staticClass:"mx-1",attrs:{fab:"",outlined:"",small:"",color:"gray",icon:""}},[a("v-icon",[t._v("mdi-dots-horizontal")])],1),a("v-btn",{staticClass:"mx-1",attrs:{fab:"",outlined:"",small:"",color:"gray",icon:""},on:{click:t.minimize}},[a("v-icon",[t._v("close")])],1)]},proxy:!0}])}),a("VueTable",{key:t.componentKey,attrs:{items:t.items,headers:t.headers,showRowActions:!0,loading:t.loading,title:"Alarms",noMoreData:t.noMoreData,showSelect:!1},on:{"load-more":t.load_more},scopedSlots:t._u([{key:"header-toolbar",fn:function(){return[a("v-btn-toggle",{attrs:{mandatory:"",value:t.timer_tab},on:{change:t.handleChangeTab},model:{value:t.timer_tab,callback:function(e){t.timer_tab=e},expression:"timer_tab"}},[a("v-btn",{staticClass:"px-5",attrs:{text:"",value:"task-timers"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-folder-clock-outline")]),t._v(" Task Timers ")],1),a("v-btn",{staticClass:"px-5",attrs:{text:"",value:"global-timers"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-clock")]),t._v(" Global Timers ")],1),a("v-btn",{staticClass:"px-5",attrs:{text:"",value:"alarm"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-clock-digital")]),t._v(" Alarms ")],1)],1)]},proxy:!0},{key:"row-slot",fn:function(e){var n=e.item;return[a("td",[t._v(t._s(t._f("truncate")(t._f("ucwords")(n.title))))]),a("td",[a("Avatars",{staticStyle:{display:"inline-block"},attrs:{items:n.participants,deep:"",count:3}})],1),a("td",[a("v-icon",{attrs:{color:n.event_type.properties.color,left:""}},[t._v("mdi-circle")]),t._v(" "+t._s(n.event_type.name)+" ")],1),a("td",[t._v(t._s(t._f("format")(n.start,"MMM DD YYYY")))]),a("td",[t._v(t._s(t._f("format")(n.start,"HH:mm:ss")))]),a("td",[t.is_event_owner(n)?a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mx-1",attrs:{small:""},on:{click:function(e){return t.open_delete_dialog(n)}}},i),[t._v("delete")])]}}],null,!0)},[a("span",[t._v("Delete Event")])]):t._e(),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mx-1",attrs:{small:""},on:{click:function(e){return t.open_event_detail_dialog(n)}}},i),[t._v("pageview")])]}}],null,!0)},[a("span",[t._v("View Event")])]),t.is_event_owner(n)?t._e():a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({staticClass:"mx-1",attrs:{small:""},on:{click:function(e){return t.open_confirm_leave_dialog(n)}}},i),[t._v("mdi-email-receive-outline")])]}}],null,!0)},[a("span",[t._v("Leave Event")])])],1)]}}])}),a("calendar-dialog",{ref:"add_dialog",attrs:{dialog:t.add_dialog,dialogTitle:"Add New Calendar"},on:{"update:dialog":function(e){t.add_dialog=e},save:function(e){return t.add_item("add_new_calendar",e)}}}),a("calendar-dialog",{ref:"edit_dialog",attrs:{dialog:t.edit_dialog,dialogTitle:"Edit Calendar","is-edit-dialog":t.edit_dialog,"fields-to-edit":t.edit_item},on:{"update:dialog":function(e){t.edit_dialog=e},save:function(e){return t.update_item("edit_calendar",e)}}}),a("delete-dialog",{ref:"delete_event_dialog",attrs:{"open-dialog":t.delete_dialog,title:"Delete Event","text-content":"Are you sure you want to delete this event?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:t.closeDialogAndDelete}}),a("ConfirmDialog",{ref:"confirm_leave_event",attrs:{title:"Confirmation required!","confirm-button-text":"Yes","text-content":"Leave this event?"},on:{confirm:t.confirmed_leave}}),a("EventDialog",{ref:"event_dialog",attrs:{dialogTitle:t.event_dialog_title,isEditDialog:t.isEventEditDialog,fieldsToEdit:t.eventToEdit,calendar:t.calendar},on:{"new-event-added":t.insert_new_event,"event-updated":t.updated_event,"open-custom-event-type":t.open_add_event_type_dialog}}),a("EventTypeDialog",{ref:"event_type_dialog",attrs:{calendar:t.calendar},on:{"new-event-type-added":t.insert_new_event_type}}),a("EventDetailDialog",{ref:"event_detail_dialog",attrs:{event:t.eventToEdit},on:{"edit-event":function(e){return t.open_add_event_dialog(!0,t.eventToEdit)},"delete-event":function(e){return t.open_delete_dialog(t.eventToEdit)},"add-participant":function(e){return t.open_add_participant_dialog(t.eventToEdit)}}}),a("AddParticipantDialog",{ref:"add_participant_dialog",attrs:{event:t.eventToEdit},on:{"participants-refresh":t.refreshParticipants}})],1)},i=[],o=a("e06e"),l=(a("13ea"),a("c1df")),r=a.n(l),s=a("d01f"),d=a("0ebe"),c=a("ee09"),u=a("29d6"),v=a("c97a"),_=a("72c1"),f=a("6dad"),m=a("57b0"),p=a("3606"),g=a("c081"),b=a("5b70"),h=a("4752"),k=a("ab1d"),y=a("c879"),x=a("bf57"),D={name:"Alarm",mixins:[o["a"],s["a"]],components:{VueTable:d["a"],Actions:c["a"],TableHeader:u["a"],DatePicker:v["a"],CalendarDialog:f["a"],DeleteDialog:b["a"],ConfirmDialog:k["a"],EventCard:x["a"],EventDialog:m["a"],EventTypeDialog:p["a"],Empty:h["a"],Avatars:_["a"],EventDetailDialog:g["a"],AddParticipantDialog:y["a"]},data:function(){return{paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Alarm",disabled:!0,router_name:null}],sortList:[{title:"Sort by Client"},{title:"Sort by Task"},{title:"Sort by Services"},{title:"Sort by Time"},{title:"Sort by Date"}],headers:[{text:"Events",sortable:!0,align:"left"},{text:"Participants",sortable:!0,align:"left"},{text:"Type",sortable:!0,align:"left"},{text:"Date",sortable:!0,align:"left"},{text:"Time",value:"time_end",sortable:!0,align:"left"},{text:"Action",sortable:!1,align:"center",width:"100px;"}],timer_tab:"alarm",currentTab:"alarm",filter_date:r()().format("YYYY-MM-DD"),today:r()().format("YYYY-MM-DD")}},created:function(){this.fill_table_via_url(this.api)},computed:{loggeduser:function(){return this.$store.getters.user},dateSelected:function(){return r()(this.filter_date).format("YYYY-MM-DD")},api:function(){return"/api/events?alarm=true&page=".concat(this.pagination.current)}},methods:{load_more:function(){this.load_more_via_url(this.api)},handleChangeTab:function(t){"task-timers"===this.timer_tab&&this.$router.push({name:"taskTimer"}),"global-timers"===this.timer_tab&&this.$router.push({name:"globalTimer"})},is_event_owner:function(t){return t.properties.creator===this.loggeduser.id},handleAction:function(){this.$event.$emit("open_snackbar","Coming soon, working on it!")},minimize:function(){this.$router.push({name:"default-content"})}}},w=D,T=(a("ca3e"),a("2877")),E=Object(T["a"])(w,n,i,!1,null,"32ecea84",null);e["default"]=E.exports},"33b0":function(t,e,a){"use strict";var n=a("b49a"),i=a.n(n);i.a},b49a:function(t,e,a){},c97a:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g(t._b({attrs:{slot:"activator",value:t.value,solo:"","hide-details":"",color:"#657186",readonly:"",width:t.minWidth},slot:"activator"},"v-text-field",t.$attrs,!1),n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{clearable:"",color:"#657186",max:t.max,min:t.min,"no-title":"",scrollable:""},on:{"click:date":t.dateClick},model:{value:t.picker_date,callback:function(e){t.picker_date=e},expression:"picker_date"}},[a("v-spacer"),t.hasButtons?a("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.cancel}},[t._v("Cancel")]):t._e(),t.hasButtons?a("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.save}},[t._v("OK")]):t._e(),t.hasButtons?a("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.clear}},[t._v("Clear")]):t._e()],1)],1)},i=[],o={name:"DatePicker",inheritAttrs:!1,props:{value:{type:String,default:null},min:{type:String,default:null},max:{type:String,default:null},minWidth:{type:String,default:"290px"},hasButtons:{type:Boolean,default:!0}},data:function(){return{menu:!1,picker_date:null}},watch:{value:function(t){this.picker_date=t}},methods:{save:function(){this.$emit("input",this.picker_date),this.cancel()},cancel:function(){this.menu=!1},clear:function(){this.picker_date=null},dateClick:function(){this.hasButtons||this.save()}}},l=o,r=(a("33b0"),a("2877")),s=Object(r["a"])(l,n,i,!1,null,"7a290484",null);e["a"]=s.exports},ca3e:function(t,e,a){"use strict";var n=a("e2c4"),i=a.n(n);i.a},e2c4:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4cc51115.f63a3ca8.js.map