(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6db38090"],{"0ebe":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"custom-table-wrapper",attrs:{flat:""}},[n("v-container",{staticClass:"custom-table-inner",attrs:{fluid:""}},[n("v-data-table",e._b({staticClass:"custom-table",attrs:{headers:e.headers,items:e.items,"disable-sort":e.sortingEnable,"show-select":e.showSelect,shaped:"","hide-default-footer":"",height:"500","items-per-page":e.itemsPerPage},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title",{staticClass:"custom-table-title"},[e._v(" "+e._s(e.title)+" ")]),n("v-spacer"),e.hasSearch?n("v-flex",{attrs:{sm12:"",md3:""}},[n("v-text-field",{attrs:{width:"100","append-icon":"mdi-magnify",label:"Search",dense:"","hide-details":"",solo:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1):e._e()],1),e._t("header"),n("v-divider")]},proxy:!0},{key:"item",fn:function(t){var i=t.item;return[n("tr",[e.showSelect&&!e.noRowDelete?n("td",[n("v-checkbox",{staticStyle:{margin:"0px",padding:"0px"},attrs:{value:i,"hide-details":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1):e._e(),e._t("row-slot",null,{item:i})],2)]}},{key:"no-data",fn:function(){return[n("Empty",[e._t("empty-slot",null,{slot:"extra"})],2)]},proxy:!0},e.hasFooter?{key:"footer",fn:function(){return[n("v-divider"),n("v-row",{staticClass:"py-3 px-2",attrs:{"no-gutters":""}},[n("v-col",[e.showSelect&&!e.noRowDelete&&e.selected.length>0?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.selected.length>0,expression:"selected.length > 0"}],attrs:{tile:"",text:"",outlined:"",color:"red"},on:{click:function(t){return e.$emit("delete-selected",e.selected)}}},[e._v("DELETE SELECTED "),n("v-icon",{attrs:{right:"",small:""}},[e._v("delete")])],1):e._e()],1),n("v-col",{staticClass:"d-flex align-content-center"},[n("v-spacer"),!0===e.noMoreData?n("v-btn",{attrs:{tile:"",text:"",disabled:""}},[e._v("NO MORE DATA")]):n("v-btn",{attrs:{tile:"",text:"",loading:e.btnloading},on:{click:e.handleLoadMore}},[e._v("LOAD MORE")]),n("v-spacer")],1),n("v-col")],1)]},proxy:!0}:null],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},"v-data-table",e.$attrs,!1))],1)],1)},a=[],o=n("4752"),s=(n("0644"),{name:"VueTable",components:{Empty:o["a"]},props:{title:{type:String,default:""},items:{type:Array,default:[]},headers:{type:Array,default:[]},showRowActions:{type:Boolean,default:!1},sortingEnable:{type:Boolean,default:!1},hasSearch:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},hasHeader:{type:Boolean,default:!0},showSelect:{type:Boolean,default:!0},icon:String,noMoreData:{type:Boolean,default:!1},noRowEdit:{type:Boolean,default:!1},noRowDelete:{type:Boolean,default:!1},noRowView:{type:Boolean,default:!1}},data:function(){return{itemsPerPage:1e3,dialog:!1,editedIndex:-1,editedItem:{},defaultItem:{},sortby:!1,computedHeaders:[],search:"",page:1,can_bulk_delete:!1,btnloading:!1,selected:[]}},created:function(){var e=this;this.$event.$on("btnloading_off",(function(){return e.btnloading=!1})),this.$event.$on("clear_selected",(function(){return e.selected=[]}))},methods:{handleSelectAllToggle:function(e){this.can_bulk_delete=e.value},handleLoadMore:function(){this.btnloading=!0,this.$emit("load-more")}}}),l=s,r=(n("d3da"),n("2877")),d=Object(r["a"])(l,i,a,!1,null,null,null);t["a"]=d.exports},"174f":function(e,t,n){},"57e5":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.loading?n("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):n("v-card",{staticClass:"custom__dialog"},[n("v-card-title",{staticClass:"dialog__header"},[e._t("entire-header",[e._t("title",[n("span",{staticClass:"dialog__title"},[e._v(e._s(e.title))])]),e._t("cancel-icon",[n("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:""},on:{click:e.close_dialog}},[n("v-icon",[e._v("close")])],1)])])],2),n("v-card-text",{staticClass:"dialog__body"},[e._t("content",[e._v(" "+e._s(e.content)+" ")])],2),n("v-card-actions",{staticClass:"dialog__actions"},[e._t("entire-actions",[e._t("button1",[n("v-btn",{on:{click:e.button1clicked}},[e._v(e._s(e.button1Text))])]),e._t("button2",[n("v-btn",{attrs:{loading:e.btnloading},on:{click:e.button2clicked}},[e._v(e._s(e.button2Text))])])])],2)],1)],1)],1)},a=[],o={props:{title:{type:String,default:"Default Modal Title"},content:{type:String,default:"Default Modal Text Content"},button1Text:{type:String,default:"Cancel"},button2Text:{type:String,default:"Delete"},open:Boolean,value:Boolean},data:function(){return{dialog:!1,loading:!1,btnloading:!1}},mounted:function(){var e=this;this.$event.$on("btnloading_off",(function(t){return e.btnloading=t}))},watch:{value:{handler:function(e){this.dialog=e},immediate:!0},open:function(e){this.dialog=e},dialog:function(e){this.$emit("update:open",e),this.$emit("input",e)}},methods:{button1clicked:function(){this.$emit("button1")},button2clicked:function(){this.btnloading=!0,this.$emit("button2")},open_dialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.close_dialog()},activate_loading:function(){this.loading=!0},disable_loading:function(){this.loading=!1}}},s=o,l=(n("aab6"),n("5bdc"),n("2877")),r=Object(l["a"])(s,i,a,!1,null,"37adf598",null);t["a"]=r.exports},"5b70":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("custom-dialog",{attrs:{title:e.title,content:e.textContent,"button1-text":e.cancelButtonText,"button2-text":e.deleteButtonText,open:e.open},on:{"update:open":function(t){e.open=t},button1:e.cancel_clicked,button2:e.delete_clicked}})],1)},a=[],o=n("57e5"),s={components:{CustomDialog:o["a"]},props:{title:{type:String,default:"Default Modal Title"},textContent:{type:String,default:"Default Modal Text Content"},cancelButtonText:{type:String,default:"Cancel"},deleteButtonText:{type:String,default:"Delete"},openDialog:Boolean},data:function(){return{open:!1}},watch:{openDialog:function(e){this.open=e},open:function(e){this.$emit("update:openDialog",e)}},methods:{cancel_clicked:function(){this.open=!1},delete_clicked:function(){this.$emit("delete")},showDialog:function(){this.open=!0},closeDialog:function(){this.open=!1}}},l=s,r=n("2877"),d=Object(r["a"])(l,i,a,!1,null,null,null);t["a"]=d.exports},"5bdc":function(e,t,n){"use strict";var i=n("877e"),a=n.n(i);a.a},"781e":function(e,t,n){},"7e7e":function(e,t,n){"use strict";var i=n("174f"),a=n.n(i);a.a},"877e":function(e,t,n){},a075:function(e,t,n){},aab6:function(e,t,n){"use strict";var i=n("781e"),a=n.n(i);a.a},d3da:function(e,t,n){"use strict";var i=n("a075"),a=n.n(i);a.a},e06e:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("386d"),n("a481"),n("c5f6"),n("28a5"),n("55dd"),n("20d6"),n("6762"),n("ac6a");var i=n("b047c"),a=n.n(i),o=n("d4e9"),s={methods:{add_item:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o["a"][e](t,i).then((function(e){var t=e.data;Array.isArray(t)?t.reverse().forEach((function(e){return n.items.unshift(e)})):n.items.unshift(t),n.$refs.add_dialog.clear_and_close(),n.$event.$emit("open_snackbar",n.table_config.add_message)})).finally((function(){return n.$event.$emit("btnloading_off",!1)}))},extract_per_page:function(e){var t=e.search("per_page");return e.substring(t+9,t+10)},calc_per_page_items:function(e,t){var n=[5,10,15,20,25];return n.includes(e)||n.push(e),!n.includes(t)&&t<=25&&n.push(t),n},update_item:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o["a"][e](this.edit_item.id,t,i).then((function(e){var t=n.items.findIndex((function(t){return t.id===e.data.id}));~t&&n.items.splice(t,1,e.data),n.edit_item={id:null,fields:null},n.edit_dialog=!1,n.$event.$emit("open_snackbar",n.table_config.update_message)})).finally((function(){return n.$event.$emit("btnloading_off",!1)}))},delete_item:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o["a"][e](this.delete_item_id,n).then((function(){var e=t.items.findIndex((function(e){return e.id===t.delete_item_id}));~e&&t.items.splice(e,1),t.delete_item_id=null,t.delete_dialog=!1,t.$event.$emit("open_snackbar",t.table_config.delete_message)})).finally((function(){return t.$event.$emit("btnloading_off",!1)}))},bulk_delete:function(e){var t=this,n={ids:this.selected.map((function(e){return e.id}))};o["a"][e]({data:n}).then((function(e){var n=e.data;t.selected.forEach((function(e){var n=t.items.findIndex((function(t){return t.id===e.id}));~n&&t.items.splice(n,1)})),t.bulk_delete_dialog=!1,t.selected=[],t.$event.$emit("clear_selected"),t.$event.$emit("open_snackbar",n.message)})).finally((function(){t.$event.$emit("btnloading_off",!1)}))},open_edit_dialog:function(e){this.edit_dialog=!0,this.$set(this.edit_item,"id",e.id),this.$set(this.edit_item,"fields",e)},open_delete_dialog:function(e){this.delete_dialog=!0,this.delete_item_id=e.id},open_bulk_delete_dialog:function(e){this.bulk_delete_dialog=!0,this.selected=e},fill_table:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loading=!0,o["a"][e](i).then((function(e){t.items_response=e.data,n?(t.items=e.data.data,t.pagination.current=e.data.current_page,t.pagination.total=e.data.last_page,t.hasMoreData()):t.items=e.data})).finally((function(){t.loading=!1,t.$event.$emit("btnloading_off",!1)}))},load_more_on_table:function(e){var t=this;this.loading=!0;var n={page:this.pagination.current+1};o["a"][e]({params:n}).then((function(e){var n=e.data;t.items_response=n.data,n.data.forEach((function(e){t.items.push(e)})),t.pagination.current=n.current_page,t.pagination.total=n.last_page,t.hasMoreData()})).finally((function(){t.loading=!1,t.$event.$emit("btnloading_off",!1)}))},fill_table_with_data:function(e){this.items=e},add_table_rows:function(e,t){this.items=e,this.items_response=t},changeSort:function(e){this.sort.sortBy===e?this.sort.descending=!this.sort.descending:(this.sort.sortBy=e,this.sort.descending=!1)},refresh_table:function(e){var t=this;o["a"][this.table_config.refresh_table_api_name](e).then((function(e){t.$event.$emit("open_snackbar",t.table_config.refresh_table_message),t.loading=!1,t.items_response=e.data,t.items=e.data.data})).finally((function(){return t.$event.$emit("btnloading_off",!1)}))},update_table_actions:function(e){if(e.page&&(this.page=Number(e.page)),e.per_page&&(this.rows_per_page=Number(e.per_page)),e.search&&(this.search=e.search),e.sort){var t=e.sort.split("|");this.sort.sortBy=t[0],"asc"===t[1]?this.sort.descending=!1:"desc"===t[1]&&(this.sort.descending=!0)}},hasMoreData:function(){this.componentKey+=1,this.pagination.current>=this.pagination.total&&(this.noMoreData=!0)},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},setPreferredView:function(e){window.localStorage.setItem("bzk_prefer_view",e),this.view=e},getPreferredView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"},debounce:a()((function(e){this.search=e}),500)}},l={mixins:[s],data:function(){return{edit_dialog:!1,add_dialog:!1,delete_dialog:!1,permissionDialog:!1,bulk_delete_dialog:!1,loading:!1,items:[],items_response:null,edit_item:{id:null,fields:null},delete_item_id:null,show_delete_selected:!1,selected_ids:[],selected:[],rows_per_page:null,page:1,sort:{sortBy:null,descending:!1},search:"",pagination:{current:1,total:0},noMoreData:!1,componentKey:1,view:"list"}},watch:{selected_ids:function(e){e.length>0?this.show_delete_selected=!0:this.show_delete_selected=!1},api_query:function(e,t){var n=Number(this.extract_per_page(e)),i=Number(this.extract_per_page(t))||null;this.items_response&&this.rows_per_page===this.items.length&&n!==i||(this.$router.replace({name:this.table_config.route_name,query:{page:this.page,per_page:this.rows_per_page,search:this.search,sort:this.query_for_sorting}}),this.loading=!0,this.refresh_table(e))}}}},ee09:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"table-actions",attrs:{align:"center"}},[e.hasEdit?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.can_edit,expression:"can_edit"}],attrs:{dense:"",dense:"",icon:""},on:{click:function(t){return e.handle_action("edit")}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil ")])],1):e._e(),e.hasDelete?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.can_delete,expression:"can_delete"}],attrs:{dense:"",icon:""},on:{click:function(t){return e.handle_action("delete")}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-delete")])],1):e._e(),e.hasView?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.can_view,expression:"can_view"}],attrs:{dense:"",icon:""},on:{click:function(t){return e.handle_action("view")}}},[n("v-icon",{attrs:{small:""}},[e._v("pageview")])],1):e._e()],1)},a=[],o={props:{item:{type:Object,default:null},permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0}},computed:{logged_user:function(){return this.$store.getters.user}},methods:{handle_action:function(e){this.item&&this.$emit(e,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.view}}},s=o,l=(n("7e7e"),n("2877")),r=Object(l["a"])(s,i,a,!1,null,null,null);t["a"]=r.exports}}]);
//# sourceMappingURL=chunk-6db38090.3f309d31.js.map