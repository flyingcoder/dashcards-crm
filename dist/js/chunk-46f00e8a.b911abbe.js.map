{"version":3,"sources":["webpack:///./src/modules/ProjectPreview-Invoice/Invoice.scss?5a0a","webpack:///./src/modules/ProjectPreview-Invoice/Invoice.vue?13fd","webpack:///./src/common/VueTable/Actions.vue?9038","webpack:///./src/modules/ProjectPreview-Invoice/Invoice.vue?e384","webpack:///./src/modules/ProjectPreview-Invoice/api.js","webpack:///./src/modules/ProjectPreview-Invoice/Invoice.js","webpack:///./src/modules/ProjectPreview-Invoice/Invoice.js?b763","webpack:///./src/modules/ProjectPreview-Invoice/Invoice.vue","webpack:///./src/common/VueTable/Actions.vue?8117","webpack:///src/common/VueTable/Actions.vue","webpack:///./src/common/VueTable/Actions.vue?db9e","webpack:///./src/common/VueTable/Actions.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","on","invoice_updated","view_item","delete_dialog","$event","delete_invoice","bulk_delete_dialog","bulk_delete","key","componentKey","items","headers","loading","tableTitle","noMoreData","getMoreInvoices","open_bulk_delete_dialog","scopedSlots","_u","fn","item","_v","_s","title","_g","billed_to","image_url","fullname","_f","due_date","total_amount","open_delete_dialog","open_edit_dialog","open_view_dialog","staticRenderFns","apiTo","getInvoices","projectId","page","request","get","id","delete","update_invoice","payload","post","get_all_projects","name","mixins","list_functionality","global_utils","components","VueTable","DeleteDialog","ViewInvoice","Actions","StepperInvoiceDialog","props","Number","String","data","text","value","width","align","view_invoice_dialog","mounted","$emit","paths","fetch_data","computed","type","$route","params","disabled","router_name","methods","mapMutations","delete_item_id","index","findIndex","splice","$refs","open_dialog","set_toolbar","open_invoice_for_editing","_cloneDeep","set_selected_project","project_id","set_dialog","open","invoiceEditDialog","openDialog","then","res2","set_projects","pagination","current","current_page","total","last_page","hasMoreData","finally","forEach","push","invoice","component","directives","rawName","expression","handle_action","editIcon","_e","deleteIcon","viewIcon","_t"],"mappings":"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","file":"js/chunk-46f00e8a.b911abbe.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./Invoice.scss?vue&type=style&index=0&id=3b10ac46&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./Invoice.scss?vue&type=style&index=0&id=3b10ac46&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invoice.vue?vue&type=style&index=1&id=3b10ac46&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Invoice.vue?vue&type=style&index=1&id=3b10ac46&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Actions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Actions.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"invoice\"},[_c('StepperInvoiceDialog',{ref:\"invoiceEditDialog\",attrs:{\"projectLock\":true,\"type\":\"edit\"},on:{\"updated\":_vm.invoice_updated}}),_c('ViewInvoice',{ref:\"view_invoice_dialog\",attrs:{\"item\":_vm.view_item}}),_c('delete-dialog',{attrs:{\"open-dialog\":_vm.delete_dialog,\"title\":\"Delete Invoice\",\"text-content\":\"Are you sure you want to delete this invoice?\"},on:{\"update:openDialog\":function($event){_vm.delete_dialog=$event},\"update:open-dialog\":function($event){_vm.delete_dialog=$event},\"delete\":_vm.delete_invoice}}),_c('delete-dialog',{attrs:{\"open-dialog\":_vm.bulk_delete_dialog,\"title\":\"Delete Invoices\",\"text-content\":\"Are you sure you want to delete these invoices? This can't be undone.\"},on:{\"update:openDialog\":function($event){_vm.bulk_delete_dialog=$event},\"update:open-dialog\":function($event){_vm.bulk_delete_dialog=$event},\"delete\":function($event){return _vm.bulk_delete('bulk_delete_invoices')}}}),_c('VueTable',{key:_vm.componentKey,attrs:{\"items\":_vm.items,\"headers\":_vm.headers,\"showRowActions\":true,\"icon\":\"list\",\"loading\":_vm.loading,\"title\":_vm.tableTitle,\"noMoreData\":_vm.noMoreData,\"showSelect\":false},on:{\"load-more\":_vm.getMoreInvoices,\"delete-selected\":function($event){return _vm.open_bulk_delete_dialog($event)}},scopedSlots:_vm._u([{key:\"row-slot\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_vm._v(_vm._s(item.title))]),_c('td',[_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-avatar',_vm._g({attrs:{\"color\":\"teal\",\"size\":\"35\"}},on),[_c('v-img',{attrs:{\"src\":item.billed_to.image_url}})],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(item.billed_to.fullname))])]),_vm._v(\" \"+_vm._s(item.billed_to.fullname)+\" \")],1),_c('td',[_vm._v(_vm._s(_vm._f(\"format\")(item.due_date)))]),_c('td',[_vm._v(_vm._s(_vm._f(\"money\")(item.total_amount)))]),_c('Actions',{attrs:{\"item\":item},on:{\"delete\":function($event){return _vm.open_delete_dialog(item)},\"edit\":function($event){return _vm.open_edit_dialog(item)},\"view\":function($event){return _vm.open_view_dialog(item)}}})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/services/axios_instance'\r\n\r\nexport const apiTo = {\r\n    getInvoices(projectId, page) {\r\n        return request.get(`api/projects/${projectId}/invoice?page=${page}`)\r\n    },\r\n\r\n    delete_invoice(id) {\r\n        return request.delete(`api/invoice/${id}`)\r\n    },\r\n    update_invoice(payload, id) {\r\n        return request.post(`api/invoice/${id}`, payload, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    get_all_projects() {\r\n        return request.get('api/projects?all=true')\r\n    }\r\n}\r\n","import { apiTo } from './api'\r\nimport { list_functionality } from '@/services/list-functionality/list-functionality'\r\nimport { mapMutations } from 'vuex'\r\nimport _cloneDeep from 'lodash/cloneDeep'\r\nimport { global_utils } from '@/global_utils/global_utils'\r\n//Components\r\n\r\nimport ViewInvoice from '@/modules/Invoice/components/ViewInvoice/ViewInvoice.vue'\r\nimport DeleteDialog from '@/common/DeleteDialog.vue'\r\nimport VueTable from '@/common/VueTable/VueTable.vue'\r\nimport Actions from '@/common/VueTable/Actions.vue'\r\nimport StepperInvoiceDialog from '@/modules/Invoice/components/StepperDialog/StepperInvoiceDialog.vue'\r\n\r\nexport default {\r\n    name: 'Invoice',\r\n    mixins: [list_functionality, global_utils],\r\n\r\n    components: {\r\n        VueTable,\r\n        DeleteDialog,\r\n        ViewInvoice,\r\n        Actions,\r\n        StepperInvoiceDialog\r\n    },\r\n\r\n    props: {\r\n        id: [Number, String]\r\n    },\r\n\r\n    data: () => ({\r\n        headers: [\r\n            { text: 'Invoice', value: 'invoice', width: '30%' },\r\n            { text: 'Client', value: 'client', width: '20%' },\r\n            { text: 'Due Date', value: 'due_date', width: '20%' },\r\n            { text: 'Amount', value: 'amount', width: '10%' },\r\n            { text: 'Actions', value: 'action', width: '20%', align: 'center' }\r\n        ],\r\n        view_invoice_dialog: false,\r\n        view_item: null,\r\n    }),\r\n\r\n    mounted() {\r\n        this.$event.$emit('path-change', this.paths)\r\n        this.loading = true\r\n        this.fetch_data()\r\n        this.getInvoices()\r\n    },\r\n    computed: {\r\n        type() {\r\n            return this.$route.params.type || 'project'\r\n        },\r\n        tableTitle() {\r\n            return this.type === 'project' ? `Project Invoice` : 'Campaign Invoice'\r\n        },\r\n        paths() {\r\n            return [\r\n                { text: 'Dashboard', disabled: false, router_name: 'default-content' },\r\n                { text: this.type, disabled: true, router_name: null },\r\n                { text: 'Invoice', disabled: true, router_name: null }\r\n            ]\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        ...mapMutations('invoice', [\r\n            'set_dialog',\r\n            'set_toolbar',\r\n            'set_projects',\r\n            'open_invoice_for_editing',\r\n            'set_selected_project'\r\n        ]),\r\n        async delete_invoice() {\r\n            this.loading = true\r\n            this.delete_dialog = false\r\n            await apiTo.delete_invoice(this.delete_item_id)\r\n            this.loading = false\r\n            const index = this.items.findIndex(\r\n                item => item.id === this.delete_item_id\r\n            )\r\n            if (~index) this.items.splice(index, 1)\r\n        },\r\n        open_view_dialog(data) {\r\n            this.view_item = data\r\n            this.$refs.view_invoice_dialog.open_dialog(data)\r\n        },\r\n        open_edit_dialog(data) {\r\n            this.set_toolbar({ title: 'Edit Dialog' })\r\n            this.open_invoice_for_editing(_cloneDeep(data))\r\n            this.set_selected_project(data.project_id)\r\n            this.set_dialog({ type: 'edit', open: true })\r\n            this.$refs.invoiceEditDialog.openDialog()\r\n        },\r\n        fetch_data() {\r\n            apiTo.get_all_projects().then(res2 => {\r\n                this.set_projects(res2.data)\r\n            })\r\n        },\r\n        getInvoices() {\r\n            this.loading = true\r\n            apiTo\r\n                .getInvoices(this.id, this.pagination.current)\r\n                .then(({ data }) => {\r\n                    this.items = data.data\r\n                    this.pagination.current = data.current_page\r\n                    this.pagination.total = data.last_page\r\n                    this.hasMoreData()\r\n                })\r\n                .finally(() => {\r\n                    this.loading = false\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n        getMoreInvoices() {\r\n            this.loading = true\r\n            apiTo\r\n                .getInvoices(this.id, this.pagination.current + 1)\r\n                .then(({ data }) => {\r\n                    data.data.forEach(item => {\r\n                        this.items.push(item)\r\n                    })\r\n                    this.pagination.current = data.current_page\r\n                    this.pagination.total = data.last_page\r\n                    this.hasMoreData()\r\n                })\r\n                .finally(() => {\r\n                    this.loading = false\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n        invoice_updated(invoice) {\r\n            const index = this.items.findIndex(item => item.id === invoice.id)\r\n            if (~index) {\r\n                this.items.splice(index, 1, invoice)\r\n            }\r\n        }\r\n    }\r\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./Invoice.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./Invoice.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Invoice.vue?vue&type=template&id=3b10ac46&scoped=true&\"\nimport script from \"./Invoice.js?vue&type=script&lang=js&\"\nexport * from \"./Invoice.js?vue&type=script&lang=js&\"\nimport style0 from \"./Invoice.scss?vue&type=style&index=0&id=3b10ac46&lang=scss&scoped=true&\"\nimport style1 from \"./Invoice.vue?vue&type=style&index=1&id=3b10ac46&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b10ac46\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{staticClass:\"table-actions\",attrs:{\"align\":\"center\"}},[(_vm.hasEdit)?_c('v-tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.can_edit),expression:\"can_edit\"}],attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"dense\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.handle_action('edit')}}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.editIcon))])],1)]}}],null,false,4170341451)},[_c('span',[_vm._v(\"Edit\")])]):_vm._e(),(_vm.hasDelete)?_c('v-tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.can_delete),expression:\"can_delete\"}],attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"dense\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.handle_action('delete')}}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.deleteIcon))])],1)]}}],null,false,4164065227)},[_c('span',[_vm._v(\"Delete\")])]):_vm._e(),(_vm.hasView)?_c('v-tooltip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.can_view),expression:\"can_view\"}],attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"dense\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.handle_action('view')}}},on),[_c('v-icon',[_vm._v(_vm._s(_vm.viewIcon))])],1)]}}],null,false,701816587)},[_c('span',[_vm._v(\"View\")])]):_vm._e(),_vm._t(\"extra\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <td class=\"table-actions\" align=\"center\">\r\n        <v-tooltip left v-if=\"hasEdit\" v-show=\"can_edit\">\r\n            <template v-slot:activator=\"{ on }\">\r\n                <v-btn dense v-on=\"on\" icon @click=\"handle_action('edit')\">\r\n                    <v-icon>{{ editIcon }}</v-icon>\r\n                </v-btn>\r\n            </template>\r\n            <span>Edit</span>\r\n        </v-tooltip>\r\n        <v-tooltip left v-if=\"hasDelete\" v-show=\"can_delete\">\r\n            <template v-slot:activator=\"{ on }\">\r\n                <v-btn dense v-on=\"on\" icon @click=\"handle_action('delete')\">\r\n                    <v-icon>{{ deleteIcon }}</v-icon>\r\n                </v-btn>\r\n            </template>\r\n            <span>Delete</span>\r\n        </v-tooltip>\r\n        <v-tooltip left v-if=\"hasView\" v-show=\"can_view\">\r\n            <template v-slot:activator=\"{ on }\">\r\n                <v-btn dense v-on=\"on\" icon @click=\"handle_action('view')\">\r\n                    <v-icon>{{ viewIcon }}</v-icon>\r\n                </v-btn>\r\n            </template>\r\n            <span>View</span>\r\n        </v-tooltip>\r\n        <slot name=\"extra\" />\r\n    </td>\r\n</template>\r\n<script>\r\n    export default {\r\n        props: {\r\n            item: {type: Object, default: null},\r\n            permissions: {\r\n                type: Object,\r\n                default: () => ({\r\n                    delete: true,\r\n                    update: true,\r\n                    create: true,\r\n                    view: true\r\n                })\r\n            },\r\n            editIcon: {type: String, default: 'mdi-circle-edit-outline'},\r\n            viewIcon: {type: String, default: 'mdi-eye-circle-outline'},\r\n            deleteIcon: {type: String, default: 'mdi-delete-circle-outline'},\r\n            hasDelete: {type: Boolean, default: true},\r\n            hasEdit: {type: Boolean, default: true},\r\n            hasView: {type: Boolean, default: true}\r\n        },\r\n        computed: {\r\n            logged_user() {\r\n                return this.$store.getters.user\r\n            }\r\n        },\r\n        methods: {\r\n            handle_action(event) {\r\n                if (this.item) {\r\n                    this.$emit(event, this.item)\r\n                }\r\n            },\r\n            can_delete() {\r\n                if (this.logged_user.is_admin) {\r\n                    return true\r\n                }\r\n                return this.permissions && this.permissions.delete\r\n            },\r\n            can_edit() {\r\n                if (this.logged_user.is_admin) {\r\n                    return true\r\n                }\r\n                return this.permissions && this.permissions.update\r\n            },\r\n            can_view() {\r\n                if (this.logged_user.is_admin) {\r\n                    return true\r\n                }\r\n                return this.permissions && this.permissions.view\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\">\r\n    @import '~@/sass/_variables';\r\n\r\n    .table-actions .theme--light.v-icon {\r\n        color: $btnGray;\r\n    }\r\n\r\n    .table-actions .theme--light.v-icon:hover {\r\n        color: $tableDarkText;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Actions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Actions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Actions.vue?vue&type=template&id=76aec6ac&\"\nimport script from \"./Actions.vue?vue&type=script&lang=js&\"\nexport * from \"./Actions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Actions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}