(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23346d5f"],{"0f80":function(e,t,n){},"10fc":function(e,t,n){"use strict";var a=n("65a1"),i=n.n(a);i.a},"13ea":function(e,t,n){var a=n("03dd"),i=n("42a2"),s=n("d370"),o=n("6747"),r=n("30c9"),l=n("0d24"),c=n("eac5"),d=n("73ac"),u="[object Map]",_="[object Set]",m=Object.prototype,f=m.hasOwnProperty;function p(e){if(null==e)return!0;if(r(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||s(e)))return!e.length;var t=i(e);if(t==u||t==_)return!e.size;if(c(e))return!a(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}e.exports=p},"174f":function(e,t,n){},"259d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breadcrumb-wrapper"},[n("v-breadcrumbs",{attrs:{items:e.paths},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[n("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:a.disabled}},[n("span",{on:{click:function(t){return e.navigate_from_breadcrumb(a)}}},[e._v(" "+e._s(a.text)+" ")])])]}}])},[n("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")])],1)],1)},i=[],s={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(e){if(e.hasOwnProperty("path"))e.path&&this.$router.push({path:e.path});else{var t=e.router_name;t&&this.$router.push({name:t})}}}},o=s,r=(n("87d8"),n("10fc"),n("2877")),l=Object(r["a"])(o,a,i,!1,null,"14ca3542",null);t["a"]=l.exports},"29d6":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[n("breadcrumb",{attrs:{paths:e.paths}}),n("v-flex",[e.noButton?e._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(t){return e.$emit("click")}}},[n("v-icon",[e._v("add")])],1),e.noSortButton?e._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(t){return e.$emit("click-sort-by")}}},[n("v-icon",[e._v("sort")])],1),e.noListButton?e._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(t){return e.$emit("click-list-view")}}},[n("v-icon",[e._v("list")])],1),e.noGridButton?e._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(t){return e.$emit("click-grid-view")}}},[n("v-icon",[e._v("mdi-view-dashboard")])],1),e._t("form-btn")],2)],1)},i=[],s=n("259d"),o={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:s["a"]}},r=o,l=(n("337a"),n("2877")),c=Object(l["a"])(r,a,i,!1,null,"b8bfd1cc",null);t["a"]=c.exports},"337a":function(e,t,n){"use strict";var a=n("9e25"),i=n.n(a);i.a},"36ee":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-row",{staticClass:"py-3 px-3 grid--wrapper",attrs:{"no-gutters":""}},e._l(e.items,(function(t){return n("v-col",{key:t.user_id,attrs:{md:"3",sm:"6",xs:"12"}},[n("v-card",{staticClass:"mx-2 my-2"},[n("v-card-text",{staticClass:"px-5"},[n("v-row",[t.is_online?n("v-icon",{attrs:{small:"",title:"Online",color:"success"}},[e._v("mdi-check-circle")]):n("v-icon",{attrs:{small:""}}),n("v-spacer"),n("span",[e._v(e._s(e._f("ucwords")(t.job_title)))]),n("v-spacer"),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",[e._v("settings")])],1)]}}],null,!0)},[n("v-list",[n("v-list-item",{on:{click:function(n){return e.$emit("edit",t)}}},[n("v-list-item-subtitle",[n("v-icon",{attrs:{small:""}},[e._v("edit")]),e._v(" Edit")],1)],1),n("v-list-item",{on:{click:function(n){return e.$emit("delete",t)}}},[n("v-list-item-subtitle",[n("v-icon",{attrs:{small:""}},[e._v("delete")]),e._v(" Delete")],1)],1)],1)],1)],1),n("v-row",{staticClass:"my-2",attrs:{align:"center"}},[n("v-spacer"),n("v-avatar",{attrs:{size:"75",color:"#3b589e"}},[n("v-img",{attrs:{src:t.image_url,alt:t.first_name}})],1),n("v-spacer")],1),n("v-col",{staticClass:"text-center",attrs:{md:"12"}},[n("strong",[e._v(e._s(e._f("ucwords")(t.fullname)))])]),n("v-row",[n("v-btn",{attrs:{text:"",block:"",dense:"",small:""},on:{click:function(n){return e.navigate_to_view_profile(t)}}},[n("v-icon",{attrs:{small:"",left:"",color:"success"}},[e._v("account_circle")]),e._v(" Profile ")],1),n("v-col",{staticClass:"text-center py-0 my-0 caption"},[n("v-icon",{attrs:{small:"",left:"",color:"indigo"}},[e._v("mdi-email")]),e._v(" "+e._s(t.email)+" ")],1)],1),n("v-row",[e.showTaskCount?n("v-col",[n("h5",{staticClass:"text-center"},[e._v("Tasks")]),n("h4",{staticClass:"text-center"},[e._v(e._s(e.count(t.tasks)))])]):e._e(),e.showProjectCount?n("v-col",[n("h5",{staticClass:"text-center"},[e._v("Projects")]),n("h4",{staticClass:"text-center"},[e._v(e._s(e.count(t.projects)))])]):e._e()],1)],1)],1)],1)})),1),e.hasFooter?n("v-card-actions",{staticClass:"py-2"},[n("v-spacer"),!0===e.noMoreData?n("v-btn",{attrs:{tile:"",text:"",disabled:""}},[e._v("NO MORE DATA")]):n("v-btn",{attrs:{tile:"",text:"",loading:e.btnloading},on:{click:e.handleLoadMore}},[e._v("LOAD MORE")]),n("v-spacer")],1):e._e()],1)},i=[],s=n("7618"),o=(n("ac6a"),n("8615"),n("579d")),r={name:"VueGrid",mixins:[o["a"]],props:{items:Array,permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0},noMoreData:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},showTaskCount:{type:Boolean,default:!0},showProjectCount:{type:Boolean,default:!0}},data:function(){return{btnloading:!1}},computed:{logged_user:function(){return this.$store.getters.user}},created:function(){var e=this;this.$event.$on("btnloading_off",(function(t){return e.btnloading=!1}))},methods:{handle_action:function(e){this.item&&this.$emit(e,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.view},handleLoadMore:function(){this.btnloading=!0,this.$emit("load-more")},navigate_to_view_profile:function(e){var t=Object.values(e.user_roles);t[0].indexOf("client")>=0||t[0].indexOf("agent")>=0?this.$router.push("/dashboard/clients/profile/".concat(e.id)):this.$router.push("/dashboard/team/profile/".concat(e.id))},count:function(e){return"object"===Object(s["a"])(e)?e.length:e}}},l=r,c=(n("6224"),n("2877")),d=Object(c["a"])(l,a,i,!1,null,null,null);t["a"]=d.exports},6224:function(e,t,n){"use strict";var a=n("f063"),i=n.n(a);i.a},"65a1":function(e,t,n){},"7e7e":function(e,t,n){"use strict";var a=n("174f"),i=n.n(a);i.a},"87d8":function(e,t,n){"use strict";var a=n("e403"),i=n.n(a);i.a},"9e25":function(e,t,n){},e403:function(e,t,n){},ee09:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",{staticClass:"table-actions",attrs:{align:"center"}},[e.hasEdit?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.can_edit,expression:"can_edit"}],attrs:{dense:"",dense:"",icon:""},on:{click:function(t){return e.handle_action("edit")}}},[n("v-icon",{attrs:{small:""}},[e._v(e._s(e.editIcon))])],1):e._e(),e.hasDelete?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.can_delete,expression:"can_delete"}],attrs:{dense:"",icon:""},on:{click:function(t){return e.handle_action("delete")}}},[n("v-icon",{attrs:{small:""}},[e._v(e._s(e.deleteIcon))])],1):e._e(),e.hasView?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.can_view,expression:"can_view"}],attrs:{dense:"",icon:""},on:{click:function(t){return e.handle_action("view")}}},[n("v-icon",{attrs:{small:""}},[e._v(e._s(e.viewIcon))])],1):e._e()],1)},i=[],s={props:{item:{type:Object,default:null},permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},editIcon:{type:String,default:"mdi-pencil"},viewIcon:{type:String,default:"pageview"},deleteIcon:{type:String,default:"mdi-delete"},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0}},computed:{logged_user:function(){return this.$store.getters.user}},methods:{handle_action:function(e){this.item&&this.$emit(e,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.view}}},o=s,r=(n("7e7e"),n("2877")),l=Object(r["a"])(o,a,i,!1,null,null,null);t["a"]=l.exports},f063:function(e,t,n){},f1d4:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"teams-page"},[n("table-header",{attrs:{paths:e.paths,noListButton:!1,noGridButton:!1},on:{click:function(t){e.add_dialog=!0},"click-list-view":function(t){return e.setPreferredView("list")},"click-grid-view":function(t){return e.setPreferredView("grid")}}}),"grid"===e.view?n("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{indeterminate:!0}}):e._e(),n("teams-dialog",{ref:"add_dialog",attrs:{title:"Add New Member",dialog:e.add_dialog},on:{"update:dialog":function(t){e.add_dialog=t},save:function(t){return e.add_item("add_new_team",t)},"close-dialog":function(t){e.add_dialog=!1}}}),n("teams-dialog",{ref:"edit_dialog",attrs:{title:"Edit Member",dialog:e.edit_dialog,"fields-to-edit":e.edit_item,"is-edit-dialog":e.edit_dialog},on:{"update:dialog":function(t){e.edit_dialog=t},save:function(t){return e.update_item("update_team",t)},"close-dialog":function(t){e.edit_dialog=!1}}}),n("delete-dialog",{attrs:{"open-dialog":e.delete_dialog,title:"Delete Member","text-content":"Are you sure you want to delete this member?"},on:{"update:openDialog":function(t){e.delete_dialog=t},"update:open-dialog":function(t){e.delete_dialog=t},delete:function(t){return e.delete_item("delete_team",t)}}}),n("delete-dialog",{attrs:{"open-dialog":e.bulk_delete_dialog,title:"Delete Members","text-content":"Are you sure you want to delete these members? This can't be undone."},on:{"update:openDialog":function(t){e.bulk_delete_dialog=t},"update:open-dialog":function(t){e.bulk_delete_dialog=t},delete:function(t){return e.bulk_delete("bulk_delete_member")}}}),"list"===e.view?n("VueTable",{key:e.componentKey,attrs:{items:e.items,headers:e.headers,showRowActions:!0,loading:e.loading,icon:"widgets",title:"Members",noMoreData:e.noMoreData,showSelect:!0},on:{"load-more":e.load_more_users,"delete-selected":function(t){return e.open_bulk_delete_dialog(t)}},scopedSlots:e._u([{key:"row-slot",fn:function(t){var a=t.item;return[n("td",{staticClass:"clickable-td",on:{click:function(t){return e.navigate_to_view_profile(a)}}},[n("v-avatar",{attrs:{size:"30",color:"teal"}},[n("v-img",{attrs:{src:a.image_url,title:a.fullname},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("span",{staticClass:"white--text headline"},[e._v("U")])]},proxy:!0}],null,!0)})],1),e._v(" "+e._s(a.fullname)+" ")],1),n("td",[e._v(e._s(a.job_title))]),n("td",[e._v(e._s(a.email))]),n("td",[e._v(e._s(a.tasks))]),n("td",[e._v(e._s(a.projects))]),n("Actions",{attrs:{item:a,permissions:e.$_permissions.get("hq_members")},on:{delete:function(t){return e.open_delete_dialog(a)},edit:function(t){return e.open_edit_dialog(a)},view:function(t){return e.navigate_to_view_profile(a)}}})]}},{key:"empty-slot",fn:function(){return[n("v-btn",{attrs:{dark:"",color:"#3b589e"},on:{click:function(t){e.add_dialog=!0}}},[e._v("Add Member")])]},proxy:!0}],null,!1,3141954723)}):n("VueGrid",{key:e.componentKey,attrs:{items:e.items,permissions:e.$_permissions.get("hq_members"),noMoreData:e.noMoreData},on:{"load-more":e.load_more_users,delete:e.open_delete_dialog,edit:e.open_edit_dialog}})],1)},i=[],s=(n("ac6a"),n("8615"),n("e06e")),o=(n("13ea"),n("36ee")),r=n("0ebe"),l=n("29d6"),c=n("5b70"),d=n("23ca"),u=n("ee09"),_={name:"Teams",mixins:[s["a"]],components:{VueTable:r["a"],TeamsDialog:d["a"],TableHeader:l["a"],DeleteDialog:c["a"],Actions:u["a"],VueGrid:o["a"]},data:function(){return{paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Teams",disabled:!0,router_name:null}],sortList:[{title:"Sort by member"},{title:"Sort by position"},{title:"Sort by location"},{title:"Sort by total hours"},{title:"Sort by total amount"}],headers:[{text:"Member",align:"left",value:"name"},{text:"Position",value:"position"},{text:"Location",value:"location"},{text:"Tasks",value:"tasks"},{text:"Projects",value:"projects"},{text:"Action",value:"actions",sortable:!1,align:"center",width:"140px"}],table_config:{route_name:"team",add_message:"New Member added successfully!",update_message:"Member updated successfully!",delete_message:"Member deleted successfully!",refresh_table_message:"Table refreshed",refresh_table_api_name:"paginate_teams_table"}}},created:function(){this.view=this.getPreferredView(),this.load_users()},methods:{load_users:function(){this.fill_table_via_url("api/company/teams?no-clients=true&per_page=12")},load_more_users:function(){this.load_more_via_url("api/company/teams?no-clients=true&per_page=12")},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},tasks_text:function(e){return e.tasks.length?e.tasks.length:"No tasks assigned"},projects_text:function(e){return e.projects.length?e.projects.length:"No projects assigned"},go_to_groups_page:function(){this.$router.push({path:"settings?tab=groups"})},navigate_to_view_profile:function(e){"undefined"===typeof e.user_roles&&this.$router.push("/dashboard/team/profile/".concat(e.id));var t=Object.values(e.user_roles);t[0].indexOf("client")>=0||t[0].indexOf("agent")>=0?this.$router.push("/dashboard/clients/profile/".concat(e.id)):this.$router.push("/dashboard/team/profile/".concat(e.id))}}},m=_,f=(n("f7c6"),n("2877")),p=Object(f["a"])(m,a,i,!1,null,null,null);t["default"]=p.exports},f7c6:function(e,t,n){"use strict";var a=n("0f80"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-23346d5f.2d1257e3.js.map