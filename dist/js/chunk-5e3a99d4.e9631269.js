(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e3a99d4"],{"0edc5":function(t,e,n){},"13ea":function(t,e,n){var a=n("03dd"),i=n("42a2"),r=n("d370"),o=n("6747"),s=n("30c9"),l=n("0d24"),c=n("eac5"),u=n("73ac"),d="[object Map]",m="[object Set]",f=Object.prototype,v=f.hasOwnProperty;function _(t){if(null==t)return!0;if(s(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||r(t)))return!t.length;var e=i(t);if(e==d||e==m)return!t.size;if(c(t))return!a(t).length;for(var n in t)if(v.call(t,n))return!1;return!0}t.exports=_},"174f":function(t,e,n){},"259d":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"breadcrumb-wrapper"},[n("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:a.disabled}},[n("span",{on:{click:function(e){return t.navigate_from_breadcrumb(a)}}},[t._v(" "+t._s(a.text)+" ")])])]}}])},[n("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1),t._t("extra")],2)},i=[],r={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},o=r,s=(n("5e17"),n("79a2"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"3cda09ee",null);e["a"]=l.exports},"29d6":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[n("breadcrumb",{attrs:{paths:t.paths}}),n("v-flex",[t.noButton?t._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click")}}},[n("v-icon",[t._v("add")])],1),t.noSortButton?t._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-sort-by")}}},[n("v-icon",[t._v("sort")])],1),t.noListButton?t._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-list-view")}}},[n("v-icon",[t._v("list")])],1),t.noGridButton?t._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-grid-view")}}},[n("v-icon",[t._v("mdi-view-dashboard")])],1),t._t("form-btn")],2)],1)},i=[],r=n("259d"),o={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:r["a"]}},s=o,l=(n("337a"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"b8bfd1cc",null);e["a"]=c.exports},"337a":function(t,e,n){"use strict";var a=n("9e25"),i=n.n(a);i.a},5812:function(t,e,n){},"5e17":function(t,e,n){"use strict";var a=n("8c6e"),i=n.n(a);i.a},"79a2":function(t,e,n){"use strict";var a=n("0edc5"),i=n.n(a);i.a},"7e7e":function(t,e,n){"use strict";var a=n("174f"),i=n.n(a);i.a},"8c6e":function(t,e,n){},9891:function(t,e,n){"use strict";var a=n("5812"),i=n.n(a);i.a},"9e25":function(t,e,n){},c97a:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g(t._b({attrs:{slot:"activator",value:t.value,solo:"","hide-details":"",color:"#657186",readonly:"",width:t.minWidth},slot:"activator"},"v-text-field",t.$attrs,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{clearable:"",color:"#657186",max:t.max,min:t.min,"no-title":"",scrollable:""},model:{value:t.picker_date,callback:function(e){t.picker_date=e},expression:"picker_date"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.cancel}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.save}},[t._v("OK")]),n("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.clear}},[t._v("Clear")])],1)],1)},i=[],r={name:"DatePicker",inheritAttrs:!1,props:{value:{type:String,default:null},min:{type:String,default:null},max:{type:String,default:null},minWidth:{type:String,default:"290px"}},data:function(){return{menu:!1,picker_date:null}},watch:{value:function(t){this.picker_date=t}},methods:{save:function(){this.$emit("input",this.picker_date),this.cancel()},cancel:function(){this.menu=!1},clear:function(){this.picker_date=null}}},o=r,s=(n("9891"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"11a52680",null);e["a"]=l.exports},cdb6:function(t,e,n){},ee09:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticClass:"table-actions",attrs:{align:"center"}},[t.hasEdit?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_edit,expression:"can_edit"}],attrs:{dense:"",dense:"",icon:""},on:{click:function(e){return t.handle_action("edit")}}},[n("v-icon",{attrs:{small:""}},[t._v(t._s(t.editIcon))])],1):t._e(),t.hasDelete?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_delete,expression:"can_delete"}],attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("delete")}}},[n("v-icon",{attrs:{small:""}},[t._v(t._s(t.deleteIcon))])],1):t._e(),t.hasView?n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_view,expression:"can_view"}],attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("view")}}},[n("v-icon",{attrs:{small:""}},[t._v(t._s(t.viewIcon))])],1):t._e()],1)},i=[],r={props:{item:{type:Object,default:null},permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},editIcon:{type:String,default:"mdi-pencil"},viewIcon:{type:String,default:"pageview"},deleteIcon:{type:String,default:"mdi-delete"},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0}},computed:{logged_user:function(){return this.$store.getters.user}},methods:{handle_action:function(t){this.item&&this.$emit(t,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.view}}},o=r,s=(n("7e7e"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,null,null);e["a"]=l.exports},f6b9:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timer"},[n("table-header",{attrs:{paths:t.paths,noButton:!0},scopedSlots:t._u([{key:"form-btn",fn:function(){return[n("v-btn",{staticClass:"mx-1",attrs:{fab:"",outlined:"",small:"",color:"gray",icon:""}},[n("v-icon",[t._v("mdi-dots-horizontal")])],1),n("v-btn",{staticClass:"mx-1",attrs:{fab:"",outlined:"",small:"",color:"gray",icon:""}},[n("v-icon",[t._v("close")])],1)]},proxy:!0}])}),n("VueTable",{key:t.componentKey,attrs:{items:t.items,headers:t.headers,showRowActions:!0,loading:t.loading,title:"Global Timers",noMoreData:t.noMoreData,showSelect:!1},on:{"load-more":t.load_more},scopedSlots:t._u([{key:"header-toolbar",fn:function(){return[n("v-col",[n("date-picker",{staticClass:"dialog__date d-field text-center mr-1",attrs:{label:"Start Date","prepend-inner-icon":"event",readonly:"",max:t.today},on:{input:t.handleChangeDate},model:{value:t.filter_date,callback:function(e){t.filter_date=e},expression:"filter_date"}})],1),n("v-btn-toggle",{attrs:{mandatory:"",value:t.timer_tab},on:{change:t.handleChangeTab},model:{value:t.timer_tab,callback:function(e){t.timer_tab=e},expression:"timer_tab"}},[n("v-btn",{staticClass:"px-5",attrs:{text:"",value:"task-timers"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-timeline-clock-outline")]),t._v(" Task Timers ")],1),n("v-btn",{staticClass:"px-5",attrs:{text:"",value:"global-timers"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-map-clock-outline")]),t._v(" Global Timers ")],1),n("v-btn",{staticClass:"px-5",attrs:{text:"",value:"alarm"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-alarm")]),t._v(" Alarms ")],1)],1)]},proxy:!0},{key:"row-slot",fn:function(e){var a=e.item;return[n("td",[n("Avatar",{attrs:{user:a}})],1),n("td",[t._v(t._s(t._f("ucwords")(a.job_title)))]),n("td",[t._v(t._s(t._f("format")(a.timer.timer_created,"MMM DD YYYY HH:mm:ss")))]),n("td",[t._v(t._s(t.timerEnd(a)))]),n("td",[t._v(t._s(a.timer.format))]),n("td",[t.can_run_timer(a)&&"ongoing"===a.timer.timer_status&&"completed"!==a.status?n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-icon",t._g({on:{click:function(e){return t.handleActionClick(a)}}},i),[t._v("pause")])]}}],null,!0)},[n("span",[t._v("Pause the timer")])]):t.can_run_timer(a)&&"completed"!==a.status?n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("v-icon",t._g({on:{click:function(e){return t.handleActionClick(a)}}},i),[t._v("play_arrow")])]}}],null,!0)},[n("span",[t._v("Start the timer")])]):n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-icon",t._g({},a),[t._v("mdi-clock-alert-outline")])]}}],null,!0)},[n("span",[t._v("Timer unavailable")])])],1)]}}])})],1)},i=[],r=n("e06e"),o=(n("13ea"),n("c1df")),s=n.n(o),l=n("0ebe"),c=n("ee09"),u=n("29d6"),d=n("c97a"),m={name:"GlobalTimer",mixins:[r["a"]],components:{VueTable:l["a"],Actions:c["a"],TableHeader:u["a"],DatePicker:d["a"]},data:function(){return{paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Timer",disabled:!0,router_name:null}],sortList:[{title:"Sort by Client"},{title:"Sort by Task"},{title:"Sort by Services"},{title:"Sort by Time"},{title:"Sort by Date"}],headers:[{text:"Member",sortable:!0,align:"left"},{text:"Position",sortable:!0,align:"left"},{text:"Time Start",sortable:!0,align:"left"},{text:"Time End",value:"time_end",sortable:!0,align:"left"},{text:"Total Time",sortable:!0,align:"left"},{text:"Action",sortable:!1,align:"center",width:"50px"}],timer_tab:"global-timers",currentTab:"global-timers",filter_date:s()().format("YYYY-MM-DD"),today:s()().format("YYYY-MM-DD")}},created:function(){this.fill_table_via_url(this.api)},computed:{loggeduser:function(){return this.$store.getters.user},dateSelected:function(){return s()(this.filter_date).format("YYYY-MM-DD")},api:function(){return"api/timer/global?all=true&date=".concat(this.dateSelected)}},methods:{load_more:function(){this.load_more_via_url(this.api)},can_run_timer:function(t){return!!this.loggeduser.is_admin||t.id===this.loggeduser.id},handleChangeTab:function(t){"task-timers"===this.timer_tab&&this.$router.push({name:"taskTimer"}),"alarm"===this.timer_tab&&this.$router.push({name:"alarm"})},handleChangeDate:function(t){var e=this;this.resetPagination(),setTimeout((function(){e.fill_table_via_url(e.api)}),1)},timerEnd:function(t){return"open"===t.timer.timer_status?"Ongoing":"close"===t.timer.timer_status?s()(t.timer.timer_stopped).format("MMM D YYYY HH:mm:ss"):"-"},handleActionClick:function(t){this.$event.$emit("open_snackbar","Coming soon, working on it!")}}},f=m,v=(n("fb03"),n("2877")),_=Object(v["a"])(f,a,i,!1,null,"681891e1",null);e["default"]=_.exports},fb03:function(t,e,n){"use strict";var a=n("cdb6"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-5e3a99d4.e9631269.js.map