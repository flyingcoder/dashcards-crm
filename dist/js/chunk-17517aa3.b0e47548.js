(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17517aa3"],{"1c9c":function(t,s,e){},"2f68":function(t,s,e){"use strict";var a=function(t,s){var e=s._c;return e("div",{staticClass:"task__chips text-xs-center"},[e("v-chip",{staticClass:"mx-1",class:["task__chip",{active:"all"===s.props.activeChip}],attrs:{small:""},on:{click:function(t){return s.listeners["update:activeChip"]("all")}}},[e("v-avatar",{staticClass:"task__avatar",attrs:{left:""}},[s._v(s._s(s.props.countAll))]),s._v(" All ")],1),e("v-chip",{staticClass:"mx-1",class:["task__chip",{active:"completed"===s.props.activeChip}],attrs:{small:""},on:{click:function(t){return s.listeners["update:activeChip"]("completed")}}},[e("v-avatar",{staticClass:"task__avatar",attrs:{left:""}},[s._v(s._s(s.props.countCompleted))]),s._v(" Done ")],1),e("v-chip",{staticClass:"mx-1",class:["task__chip",{active:"pending"===s.props.activeChip}],attrs:{small:""},on:{click:function(t){return s.listeners["update:activeChip"]("pending")}}},[e("v-avatar",{staticClass:"task__avatar",attrs:{left:""}},[s._v(s._s(s.props.countPending))]),s._v(" Pending ")],1),e("v-chip",{staticClass:"mx-1",class:["task__chip",{active:"behind"===s.props.activeChip}],attrs:{small:""},on:{click:function(t){return s.listeners["update:activeChip"]("behind")}}},[e("v-avatar",{staticClass:"task__avatar",attrs:{left:""}},[s._v(s._s(s.props.countBehind))]),s._v(" Behind ")],1)],1)},i=[],n=(e("c5f6"),{name:"TaskChips",props:{countAll:Number,countCompleted:Number,countPending:Number,countBehind:Number,activeChip:String}}),c=n,r=(e("9443"),e("8ae9"),e("2877")),o=Object(r["a"])(c,a,i,!0,null,"3b96bb22",null);s["a"]=o.exports},3293:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"task-custom-table"},[e("v-layout",{staticClass:"task_header"},["All Tasks"==t.tab?e("v-flex",{staticClass:"task__tableHead",attrs:{xs3:""}},[t._v("Assigned ")]):t._e(),"All Tasks"==t.tab?e("v-flex",{staticClass:"task__tableHead",attrs:{xs5:""}},[t._v("Task")]):t._e(),"All Tasks"!=t.tab?e("v-flex",{staticClass:"task__tableHead",attrs:{xs8:""}},[t._v("Task")]):t._e(),e("v-flex",{staticClass:"task__tableHead",attrs:{xs2:""}},[t._v("Status")]),e("v-flex",{staticClass:"task__tableHead text-center",attrs:{xs2:""}},[t._v("Action")])],1),e("div",{staticClass:"task_body",style:{height:t.bodyMaxHeight}},t._l(t.tasks,(function(s){return e("v-layout",{key:s.id,staticClass:"task-row",class:["task__tableBody",{active:s.id===t.active_task_id}],attrs:{"align-center":""},on:{click:function(e){return t.task_view_action(s)}}},["All Tasks"==t.tab?e("v-flex",{staticClass:"assignee__col",attrs:{xs3:""}},[s.assignee.length?e("Avatars",{staticStyle:{display:"inline-block"},attrs:{deep:!1,items:s.assignee,count:1}}):t._e(),s.assignee.length?t._e():e("span")],1):t._e(),"All Tasks"==t.tab?e("v-flex",{staticClass:"project__col",attrs:{xs5:""}},[t._v(" "+t._s(t._f("ucwords")(s.title))+" ")]):t._e(),"All Tasks"!=t.tab?e("v-flex",{staticClass:"project__col",attrs:{xs8:""}},[t._v(" "+t._s(t._f("ucwords")(s.title))+" ")]):t._e(),e("v-flex",{staticClass:"status__col",attrs:{xs2:""}},[t._v(" "+t._s(s.status)+" "),"completed"===s.status?e("div",[e("div",{staticClass:"status__completed"})]):t._e(),"pending"===s.status?e("div",[e("div",{staticClass:"status__pending"})]):t._e(),"behind"===s.status?e("div",[e("div",{staticClass:"status__behind"})]):t._e(),"open"===s.status?e("div",[e("div",{staticClass:"status__open"})]):t._e()]),e("v-flex",{staticClass:"action__col",attrs:{xs2:""}},[e("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(s){var a=s.on;return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[e("v-btn",t._g({attrs:{color:"grey",dark:"",icon:""}},Object.assign({},i,a)),[e("v-icon",[t._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[e("span",[t._v("Actions")])])]}}],null,!0)},[e("v-list",{attrs:{dense:""}},["completed"!==s.status&&t.can_edit_task?e("v-list-item",{on:{click:function(e){return t.task_action(s,"task-edit")}}},[e("v-list-item-title",[e("v-icon",{attrs:{color:"grey",left:""}},[t._v("edit")]),t._v(" Edit Task")],1)],1):t._e(),t.can_delete_task?e("v-list-item",{on:{click:function(e){return t.task_action(s,"task-delete")}}},[e("v-list-item-title",[e("v-icon",{attrs:{color:"grey",left:""}},[t._v("delete")]),t._v(" Delete Task")],1)],1):t._e(),t.can_view_task?e("v-list-item",{on:{click:function(e){return t.task_view_action(s)}}},[e("v-list-item-title",[e("v-icon",{attrs:{color:"grey",left:""}},[t._v("pageview")]),t._v(" View Task")],1)],1):t._e(),"completed"!==s.status&&t.can_edit_task?e("v-list-item",{on:{click:function(e){return t.task_action(s,"task-mark-as-complete")}}},[e("v-list-item-title",[e("v-icon",{attrs:{color:"grey",left:""}},[t._v("check")]),t._v(" Mark as Complete")],1)],1):t._e()],1)],1)],1)],1)})),1)],1)},i=[],n=(e("8e6e"),e("ac6a"),e("456d"),e("20d6"),e("bd86")),c=e("fcce"),r=e("72c1"),o=e("2f62");function l(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function _(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?l(Object(e),!0).forEach((function(s){Object(n["a"])(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var u={name:"TaskCustomTable",components:{Avatars:r["a"]},props:{tasks:Array,tab:String},inject:{bodyMaxHeight:{from:"bodyMaxHeight",default:"200px"}},data:function(){return{active_task_id:null}},created:function(){var t=this;this.active_task_id=this.tasks[0].id,this.$event.$emit("show-task-side-preview",this.tasks[0]),this.$event.$on("task_completed",(function(s){t.active_task_id||(t.active_task_id=s.id),t.task_is_completed()})),this.$event.$on("task_deleted",(function(s){t.active_task_id||(t.active_task_id=s.id),t.task_is_deleted()})),this.$event.$on("task-is-updated",(function(s){t.replace_task(s,s.id)}))},computed:_({},Object(o["c"])("taskCards",["page"]),{user:function(){return this.$store.getters.user},permission:function(){return this.$_permissions.get("tasks_own")},can_view_task:function(){return!!this.user.is_admin||this.permission&&this.permission.view},can_edit_task:function(){return!!this.user.is_admin||this.permission&&this.permission.update},can_delete_task:function(){return!!this.user.is_admin||this.permission&&this.permission.delete}}),methods:{row_clicked:function(t){this.active_task_id=t.id,this.$event.$emit("show-task-side-preview",t)},task_action:function(t,s){this.$event.$emit(s,t)},task_view_action:function(t){"project-preview"===this.page?this.row_clicked(t):this.task_action(t,"task-view")},replace_task:function(t,s){var e=this.tasks.findIndex((function(t){return t.id===s}));~e&&this.tasks.splice(e,1,t)},remove_task:function(t){var s=this.tasks.findIndex((function(s){return s.id===t}));~s&&this.tasks.splice(s,1)},task_is_completed:function(){var t=this,s={status:"completed"};c["a"].mark_as_complete_task(this.active_task_id,s).then((function(s){var e=s.data;t.replace_task(e,t.active_task_id),t.$event.$emit("btnloading_off",!1),t.$event.$emit("open_snackbar","Task is completed"),t.$event.$emit("close_confirm_dialog",!0)}))},task_is_deleted:function(){var t=this;c["a"].delete_task(this.active_task_id).then((function(){t.remove_task(t.active_task_id),t.$event.$emit("btnloading_off",!1),t.$event.$emit("close_delete_dialog",!0),t.$event.$emit("open_snackbar","Task is deleted")}))}}},v=u,p=(e("d196"),e("2877")),d=Object(p["a"])(v,a,i,!1,null,"0c6091d6",null);s["a"]=d.exports},"368b":function(t,s,e){},"373e":function(t,s,e){},4006:function(t,s,e){},"72c1":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"avatar-wrapper"},[e("ul",{staticClass:"avatars"},[t._l(t.cutList,(function(s,a){return t.cutList.length>0?e("li",{key:a,staticClass:"avatars__item"},[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[t.deep?e("img",t._g({staticClass:"avatars__img",attrs:{src:s.user.image_url}},i)):e("img",t._g({staticClass:"avatars__img",attrs:{src:s.image_url}},i))]}}],null,!0)},[t.deep?e("span",[t._v(t._s(s.user.fullname))]):e("span",[t._v(t._s(s.fullname))])])],1):t._e()})),t.less>0?e("li",{staticClass:"avatars__item"},[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){var a=s.on;return[e("span",t._g({staticClass:"avatars__others"},a),[t._v("+"+t._s(t.less))])]}}],null,!1,1062212335)},[e("span",{domProps:{innerHTML:t._s(t.lessList)}})])],1):t._e(),t.hasAddMember?e("li",{staticClass:"avatars__item"},[e("span",{staticClass:"avatars__add"},[e("v-icon",{attrs:{dark:""},on:{click:function(s){return t.$emit("add-member",t.item)}}},[t._v("add")])],1)]):t._e()],2)])},i=[],n=(e("c5f6"),e("0644")),c=e.n(n),r={inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},count:{type:Number,default:3},deep:{type:Boolean,default:!1},hasAddMember:{type:Boolean,default:!1}},computed:{less:function(){return this.items.length-this.count},cutList:function(){return this.items.length<this.count?this.items:c()(this.items).slice(0,this.count)},lessList:function(){var t=this;return c()(this.items).slice(this.count,this.items.length).map((function(s){return t.deep?s.user.fullname:s.fullname})).join("<br>")}}},o=r,l=(e("bfbc0"),e("2877")),_=Object(l["a"])(o,a,i,!1,null,"33bfa320",null);s["a"]=_.exports},"8ae9":function(t,s,e){"use strict";var a=e("1c9c"),i=e.n(a);i.a},9443:function(t,s,e){"use strict";var a=e("368b"),i=e.n(a);i.a},bfbc0:function(t,s,e){"use strict";var a=e("373e"),i=e.n(a);i.a},d196:function(t,s,e){"use strict";var a=e("4006"),i=e.n(a);i.a},fcce:function(t,s,e){"use strict";var a=e("1be9");s["a"]={get_project_members:function(t){return a["a"].get("api/projects/".concat(t,"/member?all=true"))},get_project_milestones:function(t){return a["a"].get("api/project/".concat(t,"/milestone?all=true"))},get_own_tasks:function(t){return a["a"].get("api/projects/".concat(t,"/tasks/mine?all=true"))},get_all_tasks:function(t){return a["a"].get("api/projects/".concat(t,"/tasks?all=true"))},get_task:function(t){return a["a"].get("api/task/".concat(t))},create_new_task:function(t){return a["a"].post("api/task",t)},edit_task:function(t,s){return a["a"].put("api/task/".concat(t),s)},delete_task:function(t){return a["a"].delete("api/task/".concat(t))},mark_as_complete_task:function(t,s){return a["a"].put("api/task/".concat(t,"/mark-as-complete"),s)}}}}]);
//# sourceMappingURL=chunk-17517aa3.b0e47548.js.map