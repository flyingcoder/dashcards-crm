(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23318fd1"],{"1d81":function(t,e,i){"use strict";var a=i("5c76"),s=i.n(a);s.a},4347:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("custom-dialog",{ref:"dialog",attrs:{title:t.dialogTitle,open:t.open,"button2-text":"Save"},on:{"update:open":function(e){t.open=e},button1:t.cancel,button2:t.save},scopedSlots:t._u([{key:"content",fn:function(){return[i("v-row",[i("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{filled:"","hide-details":"",color:"#657186",label:"Add milestone title"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1),i("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"6"}},[i("date-picker",{staticClass:"dialog__datepicker d-field",attrs:{filled:"","hide-details":"",color:"#657186",label:"Start Date","prepend-icon":"event",readonly:"",value:t.start_date,max:t.end_date},on:{input:t.start_date_changed}})],1),i("v-col",{staticClass:"pt-0 pr-4",attrs:{cols:"12",md:"6"}},[i("date-picker",{staticClass:"dialog__datepicker d-field",attrs:{filled:"","hide-details":"",color:"#657186",label:"End Date","prepend-icon":"event",readonly:"",value:t.end_date,min:t.start_date},on:{input:t.end_date_changed}})],1),i("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{filled:"","hide-details":"",color:"#657186",label:"Add days",min:"0",type:"number"},model:{value:t.days,callback:function(e){t.days=t._n(e)},expression:"days"}})],1)],1)]},proxy:!0}])})},s=[],n=i("c97a"),o=i("c1df"),d=i.n(o),l=i("57e5"),r={name:"MilestoneTabDialog",components:{DatePicker:n["a"],CustomDialog:l["a"]},props:{dialog:Boolean,dialogTitle:String,isEditDialog:Boolean,fieldsToEdit:{type:Object,default:function(){}}},data:function(){return{open:!1,title:null,start_date:null,end_date:null,status:"active",days_init_value:0}},computed:{days:{get:function(){return this.start_date&&this.end_date?d()(this.end_date).diff(d()(this.start_date),"days"):this.days_init_value},set:function(t){this.start_date||this.end_date?(this.start_date?this.end_date=d()(this.start_date).add(t,"days").format("YYYY-MM-DD"):this.start_date=d()(this.end_date).subtract(t,"days").format("YYYY-MM-DD"),this.days_init_value=t):this.days_init_value=t}}},watch:{dialog:function(t){this.open=t},open:function(t){this.$emit("update:dialog",t)},fieldsToEdit:{handler:function(t){this.isEditDialog&&this.update_fields(t)},deep:!0}},methods:{end_date_changed:function(t){this.end_date=t,this.days&&t&&(this.start_date=d()(t).subtract(this.days,"days").format("YYYY-MM-DD"))},start_date_changed:function(t){this.start_date=t,this.days&&t&&(this.end_date=d()(t).add(this.days,"days").format("YYYY-MM-DD"))},cancel:function(){this.open=!1},save:function(){var t={title:this.title,status:this.status,days:this.days,started_at:this.start_date,end_at:this.end_date};this.$emit("save",t)},update_fields:function(t){var e=t.fields,i=Object.assign({},e);this.title=i.title,this.status=i.status,this.days=i.days,this.start_date=i.started_at,this.end_date=i.end_at},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.cancel()}}},c=r,u=(i("c5f9"),i("2877")),_=Object(u["a"])(c,a,s,!1,null,"2222ebd6",null);e["a"]=_.exports},5812:function(t,e,i){},"58d4":function(t,e,i){"use strict";var a=i("bfbc"),s=i.n(a);s.a},"5b0c":function(t,e,i){},"5c76":function(t,e,i){},6943:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dash__card"},[i("v-row",{staticClass:"card__header",attrs:{wrap:"","no-gutters":"","align-center":""}},[i("v-flex",{staticClass:"card__title",attrs:{xs5:""}},[t._v(" "+t._s(t.title)+" ")]),t.dashboard?t._t("actions",[i("v-flex",{staticClass:"actions",attrs:{xs7:""}},[t.hasListView?i("v-btn",{staticClass:"action",attrs:{fab:"",small:"",text:""},on:{click:function(e){return t.$emit("list-view")}}},[i("v-icon",[t._v("list")])],1):t._e(),t.hasGridView?i("v-btn",{staticClass:"action",attrs:{fab:"",small:"",text:""},on:{click:function(e){return t.$emit("grid-view")}}},[i("v-icon",[t._v("grid_on")])],1):t._e(),t.hasRemove?i("v-btn",{staticClass:"action",attrs:{fab:"",small:"",text:""},on:{click:function(e){return t.$emit("remove")}}},[i("v-icon",[t._v("remove")])],1):t._e(),t.hasAdd?i("v-btn",{staticClass:"action",attrs:{fab:"",small:"",text:""},on:{click:function(e){return t.$emit("add")}}},[i("v-icon",[t._v("add")])],1):t._e(),t.hasExpand?i("v-btn",{staticClass:"action",attrs:{fab:"",small:"",text:""},on:{click:function(e){return t.$emit("expand")}}},[i("v-icon",[t._v("zoom_out_map")])],1):t._e(),t.hasClose?i("v-btn",{staticClass:"action",attrs:{fab:"",small:"",text:""},on:{click:function(e){return t.$emit("close")}}},[i("v-icon",[t._v("close")])],1):t._e()],1)]):t._e()],2),i("div",{staticClass:"card__content"},[t._t("content")],2),i("v-row",{staticClass:"card__footer",attrs:{"no-gutters":""}},[t._t("footer",[t.viewMoreBtn?i("v-btn",{staticClass:"view__more_btn mx-auto",attrs:{text:"",loading:t.btnloading},on:{click:function(e){return t.$emit("view-more")}}},[t._v(" VIEW MORE ")]):t._e()])],2)],1)},s=[],n={name:"DashCard",props:{title:String,viewMoreBtn:Boolean,dashboard:Boolean,hasListView:{type:Boolean,default:!1},hasGridView:{type:Boolean,default:!1},hasRemove:{type:Boolean,default:!1},hasAdd:{type:Boolean,default:!1},hasExpand:{type:Boolean,default:!0},hasClose:{type:Boolean,default:!0}},data:function(){return{btnloading:!1}},created:function(){var t=this;this.$event.$on("btnloading_off",(function(){t.btnloading=!1}))}},o=n,d=(i("58d4"),i("2877")),l=Object(d["a"])(o,a,s,!1,null,"0f521d8f",null);e["a"]=l.exports},"6f9b":function(t,e,i){"use strict";var a=i("f324"),s=i.n(a);s.a},7136:function(t,e,i){"use strict";var a=i("5b0c"),s=i.n(a);s.a},"87f7":function(t,e,i){},"8a30":function(t,e,i){"use strict";var a=i("f348"),s=i.n(a);s.a},"8dd1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"milestones__tab"},[i("milestone-tab-dialog",{ref:"add_dialog",attrs:{dialog:t.add_dialog,"dialog-title":"Add Milestone"},on:{"update:dialog":function(e){t.add_dialog=e},save:t.add_new_milestone}}),i("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Milestone","text-content":"Are you sure you want to delete this milestone?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:t.delete_milestone}}),i("milestone-tab-dialog",{ref:"edit_dialog",attrs:{dialog:t.edit_dialog,"dialog-title":"Edit Milestone","is-edit-dialog":t.edit_dialog,"fields-to-edit":t.edit_item},on:{"update:dialog":function(e){t.edit_dialog=e},save:t.update_milestone}}),i("select-template-dialog",{attrs:{open:t.select_template_dialog,"dialog-title":"Add Milestone Template"},on:{"update:open":function(e){t.select_template_dialog=e},save:t.add_template}}),i("add-task-dialog",{ref:"add_task_dialog",attrs:{dialog:t.add_task_dialog,"dialog-title":"Add Task","milestone-start-date":t.add_task_start_date,id:t.id},on:{"update:dialog":function(e){t.add_task_dialog=e},save:t.add_new_task}}),i("add-task-dialog",{ref:"edit_task_dialog",attrs:{dialog:t.edit_task_dialog,"dialog-title":"Edit Task","is-edit-dialog":t.edit_task_dialog,"fields-to-edit":t.edit_task_item,id:t.id},on:{"update:dialog":function(e){t.edit_task_dialog=e},save:t.update_task}}),i("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{indeterminate:!0}}),i("v-layout",{attrs:{"justify-end":""}},[i("v-speed-dial",{staticClass:"add-btn",attrs:{direction:"bottom",right:"",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[i("v-btn",{attrs:{color:"#3b589e",dark:"",fab:"",small:""},model:{value:t.is_open_speed_dial,callback:function(e){t.is_open_speed_dial=e},expression:"is_open_speed_dial"}},[t.is_open_speed_dial?i("v-icon",[t._v("close")]):i("v-icon",[t._v("add")])],1)]},proxy:!0}]),model:{value:t.is_open_speed_dial,callback:function(e){t.is_open_speed_dial=e},expression:"is_open_speed_dial"}},[i("v-btn",{attrs:{color:"#3b589e",dark:"",small:"",fab:""},on:{click:function(e){t.add_dialog=!0}}},[i("v-icon",{attrs:{title:"Add Milestone"}},[t._v("add")])],1),i("v-btn",{attrs:{disabled:t.boxes.length>0,color:"#3b589e",small:"",fab:""},on:{click:t.open_select_template_dialog}},[i("v-icon",{attrs:{color:"white",title:"Select Template"}},[t._v("touch_app")])],1)],1)],1),i("v-layout",{staticClass:"boxes__wrapper",attrs:{wrap:""}},t._l(t.boxes,(function(e,a){return i("v-flex",{key:e.id,staticClass:"milestone__box",attrs:{md6:"",xs12:""}},[i("div",{staticClass:"milestone__dynamic_box"},[i("dynamic-box",{attrs:{id:t.id,box:e,loading:e.id===t.boxIdInProgress},on:{edit:t.open_edit_dialog,delete:t.open_delete_confirmation,"edit-task":t.edit_task,"remove-task":function(e){return t.remove_task(a,e)},"add-task":t.open_add_task_dialog}})],1)])})),1)],1)},s=[],n=(i("7514"),i("75fc")),o=(i("20d6"),i("96cf"),i("3b8d")),d=(i("c5f6"),i("1be9")),l=i("d4e9"),r=i("5b70"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dynamic-card"},[i("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Task","text-content":"Are you sure you want to delete this task?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:function(e){return t.delete_task(t.item_to_delete)}}}),i("dash-card",{attrs:{title:t.validate_title(t.box.title),dashboard:!0}},[i("template",{slot:"actions"},[i("v-flex",{staticClass:"actions text-xs-right",attrs:{xs4:""}},[t._v(" "+t._s(t.box.tasks.filter((function(t){return"completed"===t.status})).length+"/"+t.box.tasks.length)+" "),i("v-btn",{staticClass:"action",attrs:{fab:"",text:"",small:""}},[i("v-icon",{on:{click:function(e){return t.$emit("edit",t.box)}}},[t._v("edit")])],1),i("v-btn",{staticClass:"action",attrs:{fab:"",text:"",small:""}},[i("v-icon",{on:{click:function(e){return t.$emit("delete",t.box.id)}}},[t._v("close")])],1)],1)],1),i("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[t.loading?i("v-progress-linear",{attrs:{indeterminate:!0}}):t._e(),i("div",{staticClass:"tasks-progress"},[i("div",{staticClass:"fill",style:{width:t.tasksProgress+"%"}})]),i("div",{staticClass:"task-custom-table"},[i("v-layout",{staticClass:"header"},[i("v-flex",{staticClass:"task__tableHead",attrs:{xs6:""}},[t._v("Task")]),i("v-flex",{staticClass:"task__tableHead",attrs:{xs3:""}},[t._v("Status")])],1),i("div",{staticClass:"body"},t._l(t.box.tasks,(function(e,a){return i("v-layout",{key:e.id,staticClass:"task__tableBody",attrs:{"align-center":""}},[i("v-flex",{staticClass:"project__col",attrs:{xs6:""}},[t._v(" "+t._s(e.title)+" ")]),i("v-flex",{staticClass:"status__col",attrs:{xs3:""}},[t._v(" "+t._s(e.status)+" "),"completed"===e.status?i("div",[i("div",{staticClass:"status__completed"})]):t._e(),"pending"===e.status?i("div",[i("div",{staticClass:"status__pending"})]):t._e(),"behind"===e.status?i("div",[i("div",{staticClass:"status__behind"})]):t._e(),"open"===e.status?i("div",[i("div",{staticClass:"status__open"})]):t._e()]),i("v-icon",{staticClass:"task-icon",attrs:{color:"indigo"},on:{click:function(i){return t.edit_task_clicked(e,a)}}},[t._v("edit")]),t._v(" 󠁿󠁿󠁿"),i("span",{staticClass:"task-icon",on:{click:function(i){return t.openDeleteDialog({task_index:a,task_id:e.id})}}},[t._v(" 🗙 ")])],1)})),1)],1)],1),i("v-btn",{staticClass:"add__new_btn",attrs:{slot:"footer",large:"",rounded:"",color:"#3b589e",dark:""},on:{click:function(e){return t.$emit("add-task",t.box.id)}},slot:"footer"},[t._v(" ADD NEW ")])],2)],1)},u=[],_=i("6943"),f={name:"DynamicBox",components:{DashCard:_["a"],DeleteDialog:r["a"]},props:{id:[Number,String],box:Object,loading:Boolean},data:function(){return{delete_dialog:!1,item_to_delete:null}},computed:{tasksProgress:function(){var t=this.box,e=t.tasks.filter((function(t){return"completed"===t.status})).length,i=t.tasks.length;return e*i/100*100}},methods:{validate_title:function(t){return t.length>18?t.slice(0,18)+"...":t},openDeleteDialog:function(t){this.delete_dialog=!0,this.item_to_delete=t},delete_task:function(t){var e=t.task_index,i=t.task_id;this.$emit("remove-task",{task_index:e,task_id:i}),this.delete_dialog=!1,this.item_to_delete=null},edit_task_clicked:function(t,e){this.$emit("edit-task",{task:t,index:e,box_id:this.box.id})}}},m=f,p=(i("7136"),i("2877")),h=Object(p["a"])(m,c,u,!1,null,"9c451ca2",null),v=h.exports,g=i("4347"),b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("custom-dialog",{ref:"dialog",attrs:{title:t.dialogTitle,open:t.open,"button2-text":"Save"},on:{"update:open":function(e){t.open=e},button1:t.cancel,button2:t.save},scopedSlots:t._u([{key:"content",fn:function(){return[i("v-select",{staticClass:"dialog__selectfield mb-1",attrs:{label:"Select Template",items:t.templates,"item-text":"name","item-value":"id",color:"#667187",filled:"","hide-details":""},model:{value:t.selected_template,callback:function(e){t.selected_template=e},expression:"selected_template"}})]},proxy:!0}])})},k=[],x=i("57e5"),y={name:"SelectTemplateDialog",components:{CustomDialog:x["a"]},props:{open:Boolean,title:String,dialogTitle:String},data:function(){return{loading:!1,templates:[],selected_template:null}},computed:{is_disabled:function(){return this.loading||!this.selected_template}},watch:{open:function(t){t&&this.fill_dropdown()}},methods:{fill_dropdown:function(){var t=this;this.loading=!0,d["a"].get("api/template?all=true&type=milestone").then((function(e){return t.templates=e.data})).finally((function(){return t.loading=!1}))},cancel:function(){this.$emit("update:open",!1)},save:function(){this.is_disabled||this.$emit("save",this.selected_template)}}},w=y,$=(i("c8b5"),Object(p["a"])(w,b,k,!1,null,"1a61efa0",null)),C=$.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tasks-dialog"},[i("custom-dialog",{ref:"dialog",attrs:{open:t.computedDialog,title:"Add Task"},on:{"update:open":function(e){t.computedDialog=e},button1:function(e){t.computedDialog=!1}},scopedSlots:t._u([{key:"content",fn:function(){return[i("v-row",{staticClass:"custom-dialog",attrs:{wrap:""}},[i("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Add task title",filled:"","hide-details":"",color:"#657186"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1),i("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"6"}},[i("date-picker",{staticClass:"dialog__date d-field",attrs:{label:"Start Date","prepend-icon":"event",readonly:"",value:t.start_date,max:t.end_date},on:{input:t.start_date_changed}})],1),i("v-col",{staticClass:"pt-0 pr-4",attrs:{cols:"12",md:"6"}},[i("date-picker",{staticClass:"dialog__date d-field",attrs:{label:"End Date","prepend-icon":"event",readonly:"",value:t.end_date,min:t.start_date},on:{input:t.end_date_changed}})],1),i("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[i("members-dropdown",{staticClass:"task-member",attrs:{members:t.members.selected,"member-items":t.members.items,"is-loading":t.members.loading},on:{"update:members":function(e){return t.$set(t.members,"selected",e)},search:function(e){return t.filter_dropdown_items("members",e)}}})],1),i("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[i("rich-editor",{staticClass:"task-description",attrs:{placeholder:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1)]},proxy:!0}])},[i("template",{slot:"button2"},[i("v-btn",{attrs:{loading:t.btnloading},on:{click:t.save}},[t._v("Save")])],1)],2)],1)},M=[],Y=(i("6762"),i("2fdb"),i("c1df")),S=i.n(Y),j=i("0644"),I=i.n(j),T=i("c97a"),E=i("4ad3"),O=i("bc29"),B={name:"AddTaskDialog",components:{DatePicker:T["a"],RichEditor:E["a"],MembersDropdown:O["a"],CustomDialog:x["a"]},props:{id:[Number,String],dialog:Boolean,dialogTitle:String,isEditDialog:Boolean,fieldsToEdit:{type:Object,default:function(){}},milestoneStartDate:String,btnloading:{type:Boolean,default:!1}},data:function(){return{open:!1,title:null,description:null,status:"open",start_date:null,end_date:null,members:{selected:[],all_items:[],items:[],loading:!1},days_init_value:1}},mounted:function(){var t=this;this.$event.$on("btnloading_off",(function(e){return t.btnloading=e}))},computed:{days:{get:function(){return this.days_init_value},set:function(t){this.start_date||this.end_date?(this.start_date?this.end_date=S()(this.start_date).add(t,"days").format("YYYY-MM-DD"):this.start_date=S()(this.end_date).subtract(t,"days").format("YYYY-MM-DD"),this.days_init_value=t):this.days_init_value=t}},computedDialog:{get:function(){return this.dialog},set:function(t){!t&&this.$emit("close"),this.$emit("update:dialog",t)}}},watch:{dialog:{handler:function(t){this.open=t,t&&!this.isEditDialog&&(this.start_date=this.milestoneStartDate,this.end_date=S()(this.milestoneStartDate).add(1,"days").format("YYYY-MM-DD")),t&&this.fill_members_dropdown()},immediate:!0},open:function(t){this.$emit("update:dialog",t)},fieldsToEdit:{handler:function(t){this.isEditDialog&&this.update_fields(t),this.fill_members_dropdown()},deep:!0}},methods:{cancel:function(){this.open=!1},open_dialog:function(){this.$refs.dialog.open_dialog()},save:function(){this.btnloading=!0;var t={title:this.title,description:this.description,status:this.status,days:this.days,started_at:this.start_date,end_at:this.end_date,assigned:this.members.selected};this.$emit("save",t)},update_fields:function(t){var e=t.fields,i=Object.assign({},e);this.title=i.title,this.description=i.description,this.status=i.status,this.days=i.days,this.start_date=i.started_at,this.end_date=i.end_at,this.$set(this.members,"selected",i.assignee)},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.cancel()},end_date_changed:function(t){this.end_date=t,t&&(this.start_date=S()(t).subtract(this.days,"days").format("YYYY-MM-DD"))},start_date_changed:function(t){this.start_date=t,t&&(this.end_date=S()(t).add(this.days,"days").format("YYYY-MM-DD"))},fill_members_dropdown:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loading=!0,l["a"].get_project_members(this.id).then((function(t){var i=t.data;e.members.all_items=i,e.members.items=i})).finally((function(){return e.loading=!1}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),filter_dropdown_items:function(t,e){var i=I()(this[t].all_items);if(e){var a=i.filter((function(t){return t.first_name.toLowerCase().includes(e.toLowerCase())||t.last_name.toLowerCase().includes(e.toLowerCase())}));this.$set(this[t],"items",a)}else this[t].items=i}}},A=B,P=(i("91d1"),i("1d81"),Object(p["a"])(A,D,M,!1,null,"2abe6dae",null)),R=P.exports,L={name:"MilestonesTab",components:{DynamicBox:v,MilestoneTabDialog:g["a"],DeleteDialog:r["a"],SelectTemplateDialog:C,AddTaskDialog:R},props:{id:[Number,String]},data:function(){return{add_dialog:!1,edit_dialog:!1,edit_task_dialog:!1,delete_dialog:!1,select_template_dialog:!1,add_task_dialog:!1,boxes:[],loading:!1,direction:"top",is_open_speed_dial:!1,id_to_delete:null,edit_item:{id:null,fields:null},edit_task_item:{id:null,index:null,fields:null,box_id:null},box_id_to_add_task:null,add_task_start_date:null,boxIdInProgress:null}},created:function(){this.get_dynamic_boxes()},methods:{get_dynamic_boxes:function(){var t=this;this.loading=!0,d["a"].get("api/project/".concat(this.id,"/milestone?all=true")).then((function(e){var i=e.data;return t.boxes=i})).finally((function(){return t.loading=!1}))},add_new_milestone:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,this.$refs.add_dialog.clear_and_close(),t.next=4,d["a"].post("api/project/".concat(this.id,"/milestone"),e).then((function(t){var e=t.data;return i.boxes.push(e)})).finally((function(){i.loading=!1,i.$event.$emit("btnloading_off",!1)}));case 4:this.$event.$emit("open_snackbar","New Milestone added successfully");case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),open_delete_confirmation:function(t){this.id_to_delete=t,this.delete_dialog=!0},delete_milestone:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,this.delete_dialog=!1,t.next=4,d["a"].delete("api/project/".concat(this.id,"/milestone/").concat(this.id_to_delete)).then((function(){return e.boxes=e.boxes.filter((function(t){return t.id!==e.id_to_delete}))})).finally((function(){return e.loading=!1}));case 4:this.$event.$emit("open_snackbar","Milestone deleted successfully"),this.id_to_delete=null,this.$event.$emit("btnloading_off",!1);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),open_edit_dialog:function(t){var e=t.id,i=t.title,a=t.status,s=t.days,n=t.started_at,o=t.end_at;this.edit_item.id=e,this.edit_item.fields={title:i,status:a,days:s,started_at:n,end_at:o},this.edit_dialog=!0},update_milestone:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.boxIdInProgress=this.edit_item.id,this.edit_dialog=!1,t.next=4,d["a"].put("api/project/".concat(this.id,"/milestone/").concat(this.edit_item.id),e).then((function(t){var e=t.data,a=i.boxes.findIndex((function(t){return t.id===e.id}));~a&&i.boxes.splice(a,1,e)})).finally((function(){return i.boxIdInProgress=null}));case 4:this.$event.$emit("open_snackbar","Milestone updated successfully"),this.$event.$emit("btnloading_off",!1),this.edit_item={id:null,fields:null};case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),open_select_template_dialog:function(){this.boxes.length>0||(this.select_template_dialog=!0)},add_template:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.select_template_dialog=!1,this.loading=!0,t.next=4,d["a"].post("api/projects/".concat(this.id,"/milestone-import"),{template_id:e});case 4:this.get_dynamic_boxes(),this.$event.$emit("btnloading_off",!1);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),edit_task:function(t){var e=t.task,i=t.index,a=t.box_id;this.edit_task_dialog=!0,this.edit_task_item={id:e.id,index:i,fields:e,box_id:a}},remove_task:function(t,e){var i=this,a=e.task_index,s=e.task_id;this.boxIdInProgress=this.boxes[t].id,d["a"].delete("api/task/".concat(s)).then((function(){var e=Object(n["a"])(i.boxes);e[t].tasks.splice(a,1),i.boxes=e,i.$event.$emit("open_snackbar","Task deleted successfully")})).finally((function(){i.boxIdInProgress=null,i.$event.$emit("btnloading_off",!1)}))},update_task:function(t){var e=this;this.boxIdInProgress=this.edit_item.box_id,l["a"].edit_milestone_task(this.edit_task_item.id,t,"api/task").then((function(t){var i=e.edit_task_item,a=i.index,s=i.box_id,n=I()(e.boxes),o=n.findIndex((function(t){return t.id===s}));~o&&(e.edit_task_dialog=!1,n[o].tasks[a]=t.data,e.boxes=n,e.edit_task_item={id:null,index:null,task:null,box_id:null},e.$event.$emit("open_snackbar","Task updated successfully"))})).finally((function(){e.boxIdInProgress=null,e.$event.$emit("btnloading_off",!1)}))},open_add_task_dialog:function(t){this.box_id_to_add_task=t,this.add_task_start_date=this.boxes.find((function(e){return e.id===t})).started_at,this.add_task_dialog=!0},add_new_task:function(t){var e=this;this.boxIdInProgress=this.box_id_to_add_task,this.$refs.add_task_dialog.clear_and_close(),d["a"].post("api/milestone/".concat(this.box_id_to_add_task,"/task"),t).then((function(t){var i=t.data,a=e.boxes.findIndex((function(t){return t.id===e.box_id_to_add_task}));e.boxes[a].tasks.push(i),e.$event.$emit("open_snackbar","Task added successfully")})).finally((function(){e.boxIdInProgress=null,e.box_id_to_add_task=null,e.$event.$emit("btnloading_off",!1)}))}}},N=L,V=(i("8a30"),Object(p["a"])(N,a,s,!1,null,"d0183232",null));e["default"]=V.exports},"91d1":function(t,e,i){"use strict";var a=i("d12a"),s=i.n(a);s.a},9891:function(t,e,i){"use strict";var a=i("5812"),s=i.n(a);s.a},bc29:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"members-dropdown"},[i("v-autocomplete",t._b({attrs:{value:t.members,items:t.items,"search-input":t.search,loading:t.isLoading,"item-value":"id","prepend-inner-icon":"search","no-filter":"",chips:"",multiple:t.multiple,clearable:"","hide-details":"",color:"#657186",label:"Assign member(s)",filled:"","append-outer-icon":t.showOuterIcon?"add":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},"click:append-outer":t.open_add_new_member},scopedSlots:t._u([{key:"selection",fn:function(e){return[i("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(i){return t.remove_chip(e.index)}}},"v-chip",e.attrs,!1),[i("v-avatar",{attrs:{left:""}},[i("v-img",{attrs:{src:e.item.image_url}})],1),t._v(" "+t._s(e.item.name)+" ")],1)]}},{key:"item",fn:function(e){return[i("v-list-item",{key:e.item.id,on:{click:function(i){return t.add_to_selected(e.item)}}},[i("v-list-item-avatar",[i("v-img",{attrs:{src:e.item.image_url}})],1),i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:t._s(e.item.fullname)}}),i("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.item.job_title)}})],1),i("v-list-item-action",[t.is_item_active(e.item.id)?t._e():i("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("check_circle_outline")]),t.is_item_active(e.item.id)?i("v-icon",{attrs:{color:"success"}},[t._v("check_circle")]):t._e()],1)],1)]}}])},"v-autocomplete",t.$attrs,!1))],1)},s=[],n=(i("6762"),i("2fdb"),i("75fc")),o=i("0644"),d=i.n(o),l={name:"MembersDropdown",inheritAttrs:!1,props:{members:Array,memberItems:Array,isLoading:Boolean,multiple:{type:Boolean,default:!0},showOuterIcon:{type:Boolean,default:!1}},data:function(){return{items:[],search:null}},watch:{search:function(t){this.$emit("search",t)},memberItems:function(t){this.items=Object(n["a"])(t)}},methods:{members_selected:function(t){this.$emit("update:members",t)},is_item_active:function(t){return this.members.includes(t)},remove_chip:function(t){var e=d()(this.members);e.splice(t,1),this.$emit("update:members",e)},add_to_selected:function(t){this.is_item_active(t.id)||this.members.push(t.id)},open_add_new_member:function(){this.$event.$emit("open-new-member-dialog",!0)}}},r=l,c=(i("6f9b"),i("cd5d"),i("2877")),u=Object(c["a"])(r,a,s,!1,null,"0e7f9d3c",null);e["a"]=u.exports},bfbc:function(t,e,i){},c5f9:function(t,e,i){"use strict";var a=i("c905"),s=i.n(a);s.a},c8b5:function(t,e,i){"use strict";var a=i("fd1b"),s=i.n(a);s.a},c905:function(t,e,i){},c97a:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-text-field",t._g(t._b({attrs:{slot:"activator",value:t.value,solo:"","hide-details":"",color:"#657186",readonly:"",width:t.minWidth},slot:"activator"},"v-text-field",t.$attrs,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-date-picker",{attrs:{clearable:"",color:"#657186",max:t.max,min:t.min,"no-title":"",scrollable:""},model:{value:t.picker_date,callback:function(e){t.picker_date=e},expression:"picker_date"}},[i("v-spacer"),i("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.cancel}},[t._v("Cancel")]),i("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.save}},[t._v("OK")]),i("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.clear}},[t._v("Clear")])],1)],1)},s=[],n={name:"DatePicker",inheritAttrs:!1,props:{value:{type:String,default:null},min:{type:String,default:null},max:{type:String,default:null},minWidth:{type:String,default:"290px"}},data:function(){return{menu:!1,picker_date:null}},watch:{value:function(t){this.picker_date=t}},methods:{save:function(){this.$emit("input",this.picker_date),this.cancel()},cancel:function(){this.menu=!1},clear:function(){this.picker_date=null}}},o=n,d=(i("9891"),i("2877")),l=Object(d["a"])(o,a,s,!1,null,"11a52680",null);e["a"]=l.exports},cd5d:function(t,e,i){"use strict";var a=i("87f7"),s=i.n(a);s.a},d12a:function(t,e,i){},f324:function(t,e,i){},f348:function(t,e,i){},fd1b:function(t,e,i){}}]);
//# sourceMappingURL=chunk-23318fd1.9a45d28b.js.map