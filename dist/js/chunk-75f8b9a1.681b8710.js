(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75f8b9a1"],{"0f80":function(t,e,a){},"13ea":function(t,e,a){var n=a("03dd"),i=a("42a2"),o=a("d370"),s=a("6747"),r=a("30c9"),l=a("0d24"),c=a("eac5"),d=a("73ac"),u="[object Map]",_="[object Set]",f=Object.prototype,m=f.hasOwnProperty;function p(t){if(null==t)return!0;if(r(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||d(t)||o(t)))return!t.length;var e=i(t);if(e==u||e==_)return!t.size;if(c(t))return!n(t).length;for(var a in t)if(m.call(t,a))return!1;return!0}t.exports=p},"15b0":function(t,e,a){"use strict";var n=a("dae0"),i=a.n(n);i.a},"259d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"breadcrumb-wrapper"},[a("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[a("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:n.disabled}},[a("span",{on:{click:function(e){return t.navigate_from_breadcrumb(n)}}},[t._v(" "+t._s(n.text)+" ")])])]}}])},[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1)],1)},i=[],o={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},s=o,r=(a("15b0"),a("edab"),a("2877")),l=Object(r["a"])(s,n,i,!1,null,"adf165fe",null);e["a"]=l.exports},"29d6":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[a("breadcrumb",{attrs:{paths:t.paths}}),a("v-flex",[t.noButton?t._e():a("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click")}}},[a("v-icon",[t._v("add")])],1),t.noSortButton?t._e():a("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-sort-by")}}},[a("v-icon",[t._v("sort")])],1),t.noListButton?t._e():a("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-list-view")}}},[a("v-icon",[t._v("list")])],1),t.noGridButton?t._e():a("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-grid-view")}}},[a("v-icon",[t._v("mdi-view-dashboard")])],1),t._t("form-btn")],2)],1)},i=[],o=a("259d"),s={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:o["a"]}},r=s,l=(a("ff3c"),a("2877")),c=Object(l["a"])(r,n,i,!1,null,"0910c4a8",null);e["a"]=c.exports},"36ee":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-row",{staticClass:"py-3 px-3 grid--wrapper",attrs:{"no-gutters":""}},t._l(t.items,(function(e){return a("v-col",{key:e.user_id,attrs:{md:"3",sm:"6",xs:"12"}},[a("v-card",{staticClass:"mx-2 my-2"},[a("v-card-text",{staticClass:"px-5"},[a("v-row",[e.is_online?a("v-icon",{attrs:{small:"",title:"Online",color:"success"}},[t._v("mdi-check-circle")]):a("v-icon",{attrs:{small:""}}),a("v-spacer"),a("span",[t._v(t._s(e.job_title))]),a("v-spacer"),a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:""}},n),[a("v-icon",[t._v("settings")])],1)]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(a){return t.$emit("edit",e)}}},[a("v-list-item-subtitle",[a("v-icon",{attrs:{small:""}},[t._v("edit")]),t._v(" Edit")],1)],1),a("v-list-item",{on:{click:function(a){return t.$emit("delete",e)}}},[a("v-list-item-subtitle",[a("v-icon",{attrs:{small:""}},[t._v("delete")]),t._v(" Delete")],1)],1)],1)],1)],1),a("v-row",{staticClass:"my-2",attrs:{align:"center"}},[a("v-spacer"),a("v-avatar",{attrs:{size:"75"}},[a("v-img",{attrs:{src:e.image_url,alt:e.first_name}})],1),a("v-spacer")],1),a("v-col",{staticClass:"text-center",attrs:{md:"12"}},[a("strong",[t._v(t._s(e.fullname))])]),a("v-row",[a("v-btn",{attrs:{text:"",block:"",dense:"",small:""},on:{click:function(a){return t.navigate_to_view_profile(e)}}},[a("v-icon",{attrs:{small:"",left:"",color:"success"}},[t._v("account_circle")]),t._v(" Profile ")],1),a("v-btn",{attrs:{text:"",block:"",dense:"",small:"",disabled:""}},[a("v-icon",{attrs:{small:"",left:"",color:"indigo"}},[t._v("mdi-map-marker")]),t._v(" "+t._s(e.location)+" ")],1)],1),a("v-row",[t.showTaskCount?a("v-col",[a("h5",{staticClass:"text-center"},[t._v("Tasks")]),a("h4",{staticClass:"text-center"},[t._v(t._s(t.count(e.tasks)))])]):t._e(),t.showProjectCount?a("v-col",[a("h5",{staticClass:"text-center"},[t._v("Projects")]),a("h4",{staticClass:"text-center"},[t._v(t._s(t.count(e.projects)))])]):t._e()],1)],1)],1)],1)})),1),t.hasFooter?a("v-card-actions",{staticClass:"py-2"},[a("v-spacer"),!0===t.noMoreData?a("v-btn",{attrs:{tile:"",text:"",disabled:""}},[t._v("NO MORE DATA")]):a("v-btn",{attrs:{tile:"",text:"",loading:t.btnloading},on:{click:t.handleLoadMore}},[t._v("LOAD MORE")]),a("v-spacer")],1):t._e()],1)},i=[],o=a("7618"),s=(a("ac6a"),a("8615"),{name:"VueGrid",props:{items:Array,permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0},noMoreData:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},showTaskCount:{type:Boolean,default:!0},showProjectCount:{type:Boolean,default:!0}},data:function(){return{btnloading:!1}},computed:{logged_user:function(){return this.$store.getters.user}},created:function(){var t=this;this.$event.$on("btnloading_off",(function(e){return t.btnloading=!1}))},methods:{handle_action:function(t){this.item&&this.$emit(t,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.can.view},handleLoadMore:function(){this.btnloading=!0,this.$emit("load-more")},navigate_to_view_profile:function(t){var e=Object.values(t.user_roles);e[0].indexOf("client")>=0||e[0].indexOf("agent")>=0?this.$router.push("/dashboard/clients/profile/".concat(t.user_id)):this.$router.push("/dashboard/team/profile/".concat(t.user_id))},count:function(t){return"object"===Object(o["a"])(t)?t.length:t}}}),r=s,l=(a("6224"),a("2877")),c=Object(l["a"])(r,n,i,!1,null,null,null);e["a"]=c.exports},"4c37":function(t,e,a){},6224:function(t,e,a){"use strict";var n=a("f063"),i=a.n(n);i.a},dae0:function(t,e,a){},edab:function(t,e,a){"use strict";var n=a("f3a9"),i=a.n(n);i.a},f063:function(t,e,a){},f1d4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"teams-page"},[a("table-header",{attrs:{paths:t.paths,noListButton:!1,noGridButton:!1},on:{click:function(e){t.add_dialog=!0},"click-list-view":function(e){return t.setPreferredView("list")},"click-grid-view":function(e){return t.setPreferredView("grid")}}}),a("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{indeterminate:!0}}),a("teams-dialog",{ref:"add_dialog",attrs:{title:"Add New Member",dialog:t.add_dialog},on:{"update:dialog":function(e){t.add_dialog=e},save:function(e){return t.add_item("add_new_team",e)}}}),a("teams-dialog",{ref:"edit_dialog",attrs:{title:"Edit Member",dialog:t.edit_dialog,"fields-to-edit":t.edit_item,"is-edit-dialog":t.edit_dialog},on:{"update:dialog":function(e){t.edit_dialog=e},save:function(e){return t.update_item("update_team",e)}}}),a("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Member","text-content":"Are you sure you want to delete this member?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:function(e){return t.delete_item("delete_team",e)}}}),a("delete-dialog",{attrs:{"open-dialog":t.bulk_delete_dialog,title:"Delete Members","text-content":"Are you sure you want to delete these members? This can't be undone."},on:{"update:openDialog":function(e){t.bulk_delete_dialog=e},"update:open-dialog":function(e){t.bulk_delete_dialog=e},delete:function(e){return t.bulk_delete("bulk_delete_member")}}}),"list"===t.view?a("VueTable",{key:t.componentKey,attrs:{items:t.items,headers:t.headers,showRowActions:!0,icon:"widgets",title:"Members",noMoreData:t.noMoreData,showSelect:!0},on:{"load-more":t.load_more_users,"delete-selected":function(e){return t.open_bulk_delete_dialog(e)}},scopedSlots:t._u([{key:"row-slot",fn:function(e){var n=e.item;return[a("td",{on:{click:function(e){return t.navigate_to_view_profile(n)}}},[a("v-avatar",{attrs:{size:"30",color:"teal"}},[a("v-img",{attrs:{src:n.image_url,title:n.fullname},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("span",{staticClass:"white--text headline"},[t._v("U")])]},proxy:!0}],null,!0)})],1),t._v(" "+t._s(n.fullname)+" ")],1),a("td",[t._v(t._s(n.job_title))]),a("td",[t._v(t._s(n.location))]),a("td",[t._v(t._s(n.tasks))]),a("td",[t._v(t._s(n.projects))]),a("Actions",{attrs:{item:n,permissions:t.$_permissions.get("hq_members")},on:{delete:function(e){return t.open_delete_dialog(n)},edit:function(e){return t.open_edit_dialog(n)},view:function(e){return t.navigate_to_view_profile(n.id)}}})]}},{key:"empty-slot",fn:function(){return[a("v-btn",{attrs:{tile:"",text:"",outlined:""},on:{click:function(e){t.add_dialog=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("add")]),t._v(" Add Member")],1)]},proxy:!0}],null,!1,3937545689)}):a("VueGrid",{key:t.componentKey,attrs:{items:t.items,permissions:t.$_permissions.get("hq_members"),noMoreData:t.noMoreData},on:{"load-more":t.load_more_users,delete:t.open_delete_dialog,edit:t.open_edit_dialog}})],1)},i=[],o=(a("8615"),a("ac6a"),a("e06e")),s=(a("13ea"),a("1be9")),r=a("36ee"),l=a("0ebe"),c=a("29d6"),d=a("5b70"),u=a("23ca"),_=a("ee09"),f={name:"Teams",mixins:[o["a"]],components:{VueTable:l["a"],TeamsDialog:u["a"],TableHeader:c["a"],DeleteDialog:d["a"],Actions:_["a"],VueGrid:r["a"]},data:function(){return{paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Teams",disabled:!0,router_name:null}],sortList:[{title:"Sort by member"},{title:"Sort by position"},{title:"Sort by location"},{title:"Sort by total hours"},{title:"Sort by total amount"}],headers:[{text:"Member",align:"left",value:"name"},{text:"Position",value:"position"},{text:"Location",value:"location"},{text:"Tasks",value:"tasks"},{text:"Projects",value:"projects"},{text:"Action",value:"actions",sortable:!1,align:"center",width:"140px"}],table_config:{route_name:"team",add_message:"New Member added successfully!",update_message:"Member updated successfully!",delete_message:"Member deleted successfully!",refresh_table_message:"Table refreshed",refresh_table_api_name:"paginate_teams_table"}}},created:function(){this.view=this.getPreferredView(),this.load_users()},methods:{load_users:function(){var t=this;this.loading=!0,s["a"].get("api/company/teams?page=1").then((function(e){var a=e.data;t.items=a.data,t.pagination.current=a.current_page,t.pagination.total=a.last_page,t.hasMoreData()})).finally((function(){t.loading=!1,t.$event.$emit("btnloading_off",!1)}))},load_more_users:function(){var t=this;this.loading=!0,s["a"].get("api/company/teams?page=".concat(this.pagination.current+1)).then((function(e){var a=e.data;a.data.forEach((function(e){t.items.push(e)})),t.pagination.current=a.current_page,t.pagination.total=a.last_page,t.hasMoreData()})).finally((function(){t.loading=!1,t.$event.$emit("btnloading_off",!1)}))},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},tasks_text:function(t){return t.tasks.length?t.tasks.length:"No tasks assigned"},projects_text:function(t){return t.projects.length?t.projects.length:"No projects assigned"},go_to_groups_page:function(){this.$router.push({path:"settings?tab=groups"})},navigate_to_view_profile:function(t){var e=Object.values(t.user_roles);e[0].indexOf("client")>=0||e[0].indexOf("agent")>=0?this.$router.push("/dashboard/clients/profile/".concat(t.user_id)):this.$router.push("/dashboard/team/profile/".concat(t.user_id))}}},m=f,p=(a("f7c6"),a("2877")),v=Object(p["a"])(m,n,i,!1,null,null,null);e["default"]=v.exports},f3a9:function(t,e,a){},f7c6:function(t,e,a){"use strict";var n=a("0f80"),i=a.n(n);i.a},ff3c:function(t,e,a){"use strict";var n=a("4c37"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-75f8b9a1.681b8710.js.map