{"version":3,"sources":["webpack:///./src/modules/Reports/Reports.vue?5d13","webpack:///./src/modules/Reports/api.js","webpack:///./src/modules/Reports/components/ReportEditDialog.vue?5ea7","webpack:///src/modules/Reports/components/ReportEditDialog.vue","webpack:///./src/modules/Reports/components/ReportEditDialog.vue?1ec3","webpack:///./src/modules/Reports/components/ReportEditDialog.vue","webpack:///./src/modules/Reports/components/ReportAddDialog.vue?07e4","webpack:///src/modules/Reports/components/ReportAddDialog.vue","webpack:///./src/modules/Reports/components/ReportAddDialog.vue?119c","webpack:///./src/modules/Reports/components/ReportAddDialog.vue","webpack:///./src/modules/Reports/Reports.js","webpack:///./src/modules/Reports/Reports.js?2bb2","webpack:///./src/modules/Reports/Reports.vue","webpack:///./src/modules/Reports/Reports.scss?d678"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","reports","length","attrs","is_screen_medium_and_down","model","value","callback","$$v","reports_selected","expression","_l","report","i","key","getIconFromUrl","_v","_s","title","btn","scopedSlots","_u","fn","ref","menu","on","tooltip","_g","_b","Object","assign","open_dialog","$event","open_add_report_via_template","_e","openEditDialog","id","openDeleteDialog","url","props","template","canIframe","iframe_loaded","image","description","proxy","deleteDialog","deleteReport","add_new_report","reportUpdated","add_report_via_template","handleSaveReportViaTemplate","activeReport","edit_report_via_template","handleUpdateReportViaTemplate","staticRenderFns","reportId","request","delete","updateReport","payload","put","saveReportViaTemplate","post","updateReportViaTemplate","close_dialog","trim","validate_url","link","slot","is_disabled","on_dialog_save","component","name","mixins","is_screen_utils","components","CustomDialog","ReportsList","TableHeader","ReportsSection","DeleteDialog","ReportsEditDialog","ReportsAddDialog","ReportViaTemplate","Response","Number","String","data","paths","text","disabled","route","loading","iframeSrc","valid_url","activateSave","deleteReportId","reportIdToEdit","computed","calculated_btn","created","loadReports","mounted","$emit","methods","makeRequestTo","get_reports","then","finally","$refs","dialog","index","editDialog","$store","commit","event","$nextTick","target","validity","valid","domain","URL","host","previewRowUrl","push","apiTo","findIndex","r","splice","index1","item"],"mappings":"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","file":"js/chunk-c2559d1e.ce559ece.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reports\"},[(_vm.reports.length > 0)?_c('div',{staticClass:\"body-wrapper\"},[_c('div',{staticClass:\"reports-inner\"},[_c('v-tabs',{staticClass:\"reports-tab\",attrs:{\"grow\":\"\",\"next-icon\":\"mdi-arrow-right-bold-circle-outline\",\"prev-icon\":\"mdi-arrow-left-bold-circle-outline\",\"show-arrows\":_vm.is_screen_medium_and_down},model:{value:(_vm.reports_selected),callback:function ($$v) {_vm.reports_selected=$$v},expression:\"reports_selected\"}},[_vm._l((_vm.reports),function(report,i){return _c('v-tab',{key:i,staticClass:\"text-none\"},[_c('img',{staticClass:\"tab-img mr-2\",attrs:{\"src\":_vm.getIconFromUrl(report)}}),_vm._v(\" \"+_vm._s(report.title)+\" \")])}),_vm._l((_vm.calculated_btn),function(btn){return _c('v-tab',{key:btn,staticClass:\"reports-tab\"},[_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar menu = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar tooltip = ref.on;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"text-none align-self-center ma-0\",attrs:{\"block\":\"\",\"tile\":\"\",\"text\":\"\"}},'v-btn',attrs,false),Object.assign({}, tooltip, menu)),[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"#8090aa\"}},[_vm._v(\"mdi-plus-circle-multiple-outline \")]),_vm._v(\" Add Report \")],1)]}}],null,true)},[_c('span',[_vm._v(\"Add Report\")])])]}}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":_vm.open_dialog}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via link \")],1)],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open_add_report_via_template(null)}}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via template \")],1)],1)],1)],1)],1)})],2),_c('v-tabs-items',{model:{value:(_vm.reports_selected),callback:function ($$v) {_vm.reports_selected=$$v},expression:\"reports_selected\"}},_vm._l((_vm.reports),function(report,i){return _c('v-tab-item',{key:i},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',[_c('div',{staticClass:\"reports-actions\"},[_c('v-spacer'),(_vm.reports.length >= 3)?_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar menu = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar tooltip = ref.on;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"mx-1\",attrs:{\"fab\":\"\"}},'v-icon',attrs,false),Object.assign({}, tooltip, menu)),[_vm._v(\" mdi-plus-circle-multiple-outline \")])]}}],null,true)},[_c('span',[_vm._v(\"Add Report\")])])]}}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":_vm.open_dialog}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via link \")],1)],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open_add_report_via_template(null)}}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via template \")],1)],1)],1)],1):_vm._e(),_c('v-icon',{staticClass:\"mx-1\",attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.openEditDialog(report, report.id)}}},[_vm._v(\" mdi-circle-edit-outline \")]),_c('v-icon',{staticClass:\"mx-1\",attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.openDeleteDialog(report.id)}}},[_vm._v(\" mdi-delete-circle-outline \")])],1),_c('div',{staticClass:\"reports-content\"},[_c('div',{staticClass:\"site-preview\"},[(report.url === 'template')?_c('Response',{attrs:{\"items\":report.props.template}}):(report.props && report.props.canIframe)?_c('ReportsSection',{attrs:{\"iframeSrc\":report.url},on:{\"iframe-loaded\":_vm.iframe_loaded}}):(report.props && report.props.image)?_c('v-card',{staticClass:\"mx-auto\",attrs:{\"flat\":\"\"}},[_c('v-list-item',[_c('v-list-item-content',[_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"warning\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_vm._v(\" We are unable to load the site content because of the website restrictions. \")]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{attrs:{\"href\":report.url,\"target\":\"_blank\"}},[_vm._v(\" Go to Site \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right-bold\")])],1)],1)],1)],1)],1)],1),_c('v-img',{staticClass:\"white--text align-end\",attrs:{\"src\":report.props.image}},[_c('v-card-title',[_vm._v(_vm._s(report.props.title))])],1),_c('v-card-subtitle',{staticClass:\"pb-0 headline\"},[_vm._v(\" \"+_vm._s(report.props.title)+\" \")]),_c('v-card-text',{staticClass:\"text--primary\"},[_c('div',{staticClass:\"subtitle\"},[_vm._v(_vm._s(report.props.description))])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"orange\",\"text\":\"\",\"href\":report.url,\"target\":\"_blank\"}},[_vm._v(\" Go to Site \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right-bold\")])],1)],1)],1):_c('Empty',{attrs:{\"icon\":\"mdi-link-off\",\"headline\":\"\"},scopedSlots:_vm._u([{key:\"extra\",fn:function(){return [_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"warning\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_vm._v(\" We are unable to load the site content because of the website restrictions. \")]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{attrs:{\"href\":report.url,\"target\":\"_blank\"}},[_vm._v(\" Go to Site \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right-bold\")])],1)],1)],1)],1)]},proxy:true}],null,true)})],1)])])],1)],1)}),1)],1)]):_c('div',{staticClass:\"body-wrapper\"},[_c('Empty',{attrs:{\"headline\":\"No reports yet\",\"icon\":\"mdi-alpha-r-box-outline\"},scopedSlots:_vm._u([{key:\"extra\",fn:function(){return [_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar menu = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar tooltip = ref.on;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"large\":\"\",\"dark\":\"\",\"color\":\"#3b589e\"}},'v-btn',attrs,false),Object.assign({}, tooltip, menu)),[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-multiple-outline\")]),_vm._v(\" Add Report \")],1)]}}],null,true)},[_c('span',[_vm._v(\"Add Report\")])])]}}])},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":_vm.open_dialog}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via link \")],1)],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open_add_report_via_template(null)}}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via template \")],1)],1)],1)],1)]},proxy:true}])})],1),_c('DeleteDialog',{attrs:{\"open-dialog\":_vm.deleteDialog,\"title\":\"Delete Report\",\"text-content\":\"Are you sure you want to delete this report?\"},on:{\"update:openDialog\":function($event){_vm.deleteDialog=$event},\"update:open-dialog\":function($event){_vm.deleteDialog=$event},\"delete\":_vm.deleteReport}}),_c('ReportsAddDialog',{ref:\"dialog\",attrs:{\"id\":_vm.id},on:{\"report-added\":_vm.add_new_report}}),_c('ReportsEditDialog',{ref:\"editDialog\",attrs:{\"id\":_vm.id},on:{\"report-updated\":_vm.reportUpdated}}),_c('report-via-template',{attrs:{\"isEdit\":false,\"open-dialog\":_vm.add_report_via_template},on:{\"save\":_vm.handleSaveReportViaTemplate,\"update:openDialog\":function($event){_vm.add_report_via_template=$event},\"update:open-dialog\":function($event){_vm.add_report_via_template=$event}}}),_c('report-via-template',{attrs:{\"isEdit\":true,\"title\":\"Edit Report\",\"report\":_vm.activeReport,\"open-dialog\":_vm.edit_report_via_template},on:{\"save\":_vm.handleUpdateReportViaTemplate,\"update:openDialog\":function($event){_vm.edit_report_via_template=$event},\"update:open-dialog\":function($event){_vm.edit_report_via_template=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/services/axios_instance'\r\n\r\nexport default {\r\n    deleteReport(reportId) {\r\n        return request.delete(`api/report/${reportId}`)\r\n    },\r\n    updateReport(reportId, payload) {\r\n        return request.put(`api/report/${reportId}`, payload)\r\n    },\r\n    saveReportViaTemplate(payload) {\r\n        return request.post(`api/report/via-template`, payload)\r\n    },\r\n    updateReportViaTemplate(id, payload) {\r\n        return request.put(`api/report/${id}/via-template`, payload)\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('custom-dialog',{ref:\"dialog\",attrs:{\"title\":\"Edit Link\",\"button1-text\":\"Cancel\"},on:{\"button1\":_vm.close_dialog},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('v-layout',{staticClass:\"custom-dialog\",attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"dialog__textfield d-field\",attrs:{\"label\":\"Title\",\"filled\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"prepend-icon\":\"text_fields\",\"color\":\"#657186\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"title\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"dialog__link d-field\",attrs:{\"pattern\":\"https://.*\",\"type\":\"url\",\"prepend-icon\":\"link\",\"label\":\"https://\",\"clearable\":\"\",\"filled\":\"\",\"hide-details\":\"\",\"color\":\"#657186\"},on:{\"keydown\":_vm.validate_url},model:{value:(_vm.link),callback:function ($$v) {_vm.link=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"link\"}})],1)],1)]},proxy:true}])},[_c('template',{slot:\"button2\"},[_c('v-btn',{attrs:{\"disabled\":_vm.is_disabled},on:{\"click\":_vm.on_dialog_save}},[_vm._v(\"Save\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <custom-dialog ref=\"dialog\" title=\"Edit Link\" button1-text=\"Cancel\" @button1=\"close_dialog\">\r\n        <template #content>\r\n            <v-layout wrap class=\"custom-dialog\">\r\n                <v-flex xs12>\r\n                    <v-text-field v-model.trim=\"title\" class=\"dialog__textfield d-field\" label=\"Title\" filled clearable hide-details prepend-icon=\"text_fields\" color=\"#657186\" />\r\n                </v-flex>\r\n                <v-flex xs12>\r\n                    <v-text-field class=\"dialog__link d-field\" pattern=\"https://.*\" type=\"url\" v-model.trim=\"link\" prepend-icon=\"link\" label=\"https://\" clearable @keydown=\"validate_url\" filled hide-details color=\"#657186\" />\r\n                </v-flex>\r\n            </v-layout>\r\n        </template>\r\n        <template slot=\"button2\">\r\n            <v-btn @click=\"on_dialog_save\" :disabled=\"is_disabled\">Save</v-btn>\r\n        </template>\r\n    </custom-dialog>\r\n</template>\r\n<script>\r\nimport CustomDialog from '@/common/BaseComponents/CustomDialog/CustomDialog.vue'\r\nimport apiTo from '../api'\r\n\r\nexport default {\r\n    components: {\r\n        CustomDialog\r\n    },\r\n    props: {\r\n        id: [Number, String]\r\n    },\r\n    data: () => ({\r\n        link: '',\r\n        title: '',\r\n        valid_url: false,\r\n        reportId: null,\r\n        reportIndex: null\r\n    }),\r\n\r\n    computed: {\r\n        is_disabled() {\r\n            return !this.link || !this.valid_url || !this.title\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        open_dialog({ id, url, title }, index) {\r\n            this.link = url\r\n            this.title = title\r\n            this.reportId = id\r\n            this.reportIndex = index\r\n            this.$refs.dialog.open_dialog()\r\n            this.valid_url = true\r\n        },\r\n        close_dialog() {\r\n            this.$refs.dialog.close_dialog()\r\n        },\r\n        clear_and_close() {\r\n            this.close_dialog()\r\n            Object.assign(this.$data, this.$options.data.apply(this))\r\n        },\r\n        validate_url(event) {\r\n            this.$nextTick(() => {\r\n                this.valid_url = event.target.validity.valid\r\n            })\r\n        },\r\n        on_dialog_save() {\r\n            this.$store.commit('set_custom_loader', true)\r\n            apiTo\r\n                .updateReport(this.reportId, {\r\n                    url: this.link,\r\n                    title: this.title\r\n                })\r\n                .then(({ data }) => {\r\n                    this.$emit('report-updated', { data, index: this.reportIndex })\r\n                    this.$event.$emit(\r\n                        'open_snackbar',\r\n                        'Report successfully updated.',\r\n                        'success'\r\n                    )\r\n                    this.clear_and_close()\r\n                })\r\n                .finally(() => this.$store.commit('set_custom_loader', false))\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportEditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportEditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportEditDialog.vue?vue&type=template&id=0fcb62ce&\"\nimport script from \"./ReportEditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportEditDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('custom-dialog',{ref:\"dialog\",attrs:{\"title\":\"Add Link\",\"button1-text\":\"Cancel\"},on:{\"button1\":_vm.close_dialog},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('v-layout',{staticClass:\"custom-dialog\",attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"dialog__textfield d-field\",attrs:{\"label\":\"Title\",\"filled\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"prepend-icon\":\"text_fields\",\"color\":\"#657186\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"title\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"dialog__link d-field\",attrs:{\"pattern\":\"https://.*\",\"type\":\"url\",\"prepend-icon\":\"link\",\"label\":\"https://\",\"clearable\":\"\",\"filled\":\"\",\"hide-details\":\"\",\"color\":\"#657186\"},on:{\"keydown\":_vm.validate_url},model:{value:(_vm.link),callback:function ($$v) {_vm.link=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"link\"}})],1)],1)]},proxy:true}])},[_c('template',{slot:\"button2\"},[_c('v-btn',{attrs:{\"disabled\":_vm.is_disabled},on:{\"click\":_vm.on_dialog_save}},[_vm._v(\"Save\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <custom-dialog ref=\"dialog\" title=\"Add Link\" button1-text=\"Cancel\" @button1=\"close_dialog\">\r\n        <template #content>\r\n            <v-layout wrap class=\"custom-dialog\">\r\n                <v-flex xs12>\r\n                    <v-text-field v-model.trim=\"title\" class=\"dialog__textfield d-field\" label=\"Title\" filled clearable hide-details prepend-icon=\"text_fields\" color=\"#657186\" />\r\n                </v-flex>\r\n                <v-flex xs12>\r\n                    <v-text-field class=\"dialog__link d-field\" pattern=\"https://.*\" type=\"url\" v-model.trim=\"link\" prepend-icon=\"link\" label=\"https://\" clearable @keydown=\"validate_url\" filled hide-details color=\"#657186\" />\r\n                </v-flex>\r\n            </v-layout>\r\n        </template>\r\n        <template slot=\"button2\">\r\n            <v-btn @click=\"on_dialog_save\" :disabled=\"is_disabled\">Save</v-btn>\r\n        </template>\r\n    </custom-dialog>\r\n</template>\r\n<script>\r\nimport CustomDialog from '@/common/BaseComponents/CustomDialog/CustomDialog.vue'\r\nimport makeRequestTo from '@/services/makeRequestTo'\r\n\r\nexport default {\r\n    components: {\r\n        CustomDialog\r\n    },\r\n    props: {\r\n        id: [Number, String]\r\n    },\r\n    data: () => ({\r\n        link: '',\r\n        title: '',\r\n        valid_url: false\r\n    }),\r\n\r\n    computed: {\r\n        is_disabled() {\r\n            return !this.link || !this.valid_url || !this.title\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        open_dialog() {\r\n            this.$refs.dialog.open_dialog()\r\n        },\r\n        close_dialog() {\r\n            this.$refs.dialog.close_dialog()\r\n        },\r\n        clear_and_close() {\r\n            this.close_dialog()\r\n            Object.assign(this.$data, this.$options.data.apply(this))\r\n        },\r\n        validate_url(event) {\r\n            this.$nextTick(() => {\r\n                this.valid_url = event.target.validity.valid\r\n            })\r\n        },\r\n        on_dialog_save() {\r\n            this.$store.commit('set_custom_loader', true)\r\n            makeRequestTo\r\n                .add_new_report({\r\n                    url: this.link,\r\n                    title: this.title\r\n                })\r\n                .then(({ data }) => {\r\n                    this.$emit('report-added', data)\r\n                    this.$event.$emit(\r\n                        'open_snackbar',\r\n                        'Report successfully added.',\r\n                        'success'\r\n                    )\r\n                    this.clear_and_close()\r\n                })\r\n                .finally(() => this.$store.commit('set_custom_loader', false))\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportAddDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportAddDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportAddDialog.vue?vue&type=template&id=9bb742d4&\"\nimport script from \"./ReportAddDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportAddDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","//TODO DRY, uses the same code as ReportsTab\r\nimport makeRequestTo from '@/services/makeRequestTo'\r\nimport apiTo from './api'\r\nimport {is_screen_utils} from '@/global_utils/is_screen_utils'\r\n//Components\r\nimport CustomDialog from '@/common/BaseComponents/CustomDialog/CustomDialog.vue'\r\nimport ReportsList from './components/ReportsList/ReportsList.vue'\r\nimport TableHeader from '@/common/TableHeader.vue'\r\nimport ReportsSection from './components/ReportsSection.vue'\r\nimport DeleteDialog from '@/common/DeleteDialog.vue'\r\nimport ReportsEditDialog from './components/ReportEditDialog.vue'\r\nimport ReportsAddDialog from './components/ReportAddDialog.vue'\r\nimport ReportViaTemplate from \"./components/ReportViaTemplate.vue\";\r\nimport Response from \"@/modules/Forms-Builder/components/Builder/Response.vue\";\r\n\r\nexport default {\r\n    name: 'Reports',\r\n    mixins: [is_screen_utils],\r\n    components: {\r\n        CustomDialog,\r\n        ReportsList,\r\n        TableHeader,\r\n        ReportsSection,\r\n        DeleteDialog,\r\n        ReportsEditDialog,\r\n        ReportsAddDialog,\r\n        ReportViaTemplate,\r\n        Response\r\n    },\r\n\r\n    props: {\r\n        id: [Number, String]\r\n    },\r\n\r\n    data: () => ({\r\n        paths: [\r\n            {text: 'Dashboard', disabled: false, route: {name: 'default-content'}},\r\n            {text: 'Reports', disabled: true, route: null}\r\n        ],\r\n        reports: [],\r\n        loading: false,\r\n        iframeSrc: null,\r\n        link: '',\r\n        title: '',\r\n        valid_url: false,\r\n        activateSave: false,\r\n        activeReport: null,\r\n        deleteDialog: false,\r\n        deleteReportId: null,\r\n        reportIdToEdit: null,\r\n        reports_selected: null,\r\n        add_report_via_template: false,\r\n        edit_report_via_template: false,\r\n    }),\r\n\r\n    computed: {\r\n        calculated_btn() {\r\n            if (this.reports.length >= 3) return 0\r\n            else if (this.reports.length === 2) return 1\r\n            else if (this.reports.length === 1) return 2\r\n            else return 3\r\n        }\r\n    },\r\n    created() {\r\n        this.loadReports()\r\n    },\r\n    mounted() {\r\n        this.$event.$emit('path-change', this.paths)\r\n    },\r\n    methods: {\r\n        loadReports() {\r\n            this.loading = true\r\n            makeRequestTo.get_reports()\r\n                .then(({data}) => {\r\n                    this.reports = data.data\r\n                })\r\n                .finally(() => (this.loading = false))\r\n        },\r\n        open_dialog() {\r\n            this.$refs.dialog.open_dialog()\r\n        },\r\n        openDeleteDialog(index) {\r\n            this.deleteReportId = index\r\n            this.deleteDialog = true\r\n        },\r\n\r\n        openEditDialog(report, index) {\r\n            if (report.url === 'template') {\r\n                this.activeReport = report\r\n                this.edit_report_via_template = true\r\n            } else {\r\n                this.$refs.editDialog.open_dialog(report, index)\r\n            }\r\n        },\r\n\r\n        iframe_loaded() {\r\n            this.activateSave = true\r\n            this.$store.commit('set_custom_loader', false)\r\n        },\r\n\r\n        validate_url(event) {\r\n            this.$nextTick(() => {\r\n                this.valid_url = event.target.validity.valid\r\n            })\r\n        },\r\n\r\n        getIconFromUrl(report) {\r\n            let domain = report.url !== 'template' ? new URL(report.url).host : 'crm.dashcards.com'\r\n            return `https://www.google.com/s2/favicons?domain=${domain}&alt=feed`\r\n        },\r\n        previewRowUrl(report) {\r\n            this.reports_selected = this.reports.length - 1\r\n        },\r\n\r\n        add_new_report(report) {\r\n            this.reports.push(report)\r\n            this.previewRowUrl(report)\r\n            this.$event.$emit('btnloading_off', false)\r\n        },\r\n\r\n        deleteReport() {\r\n            this.$store.commit('set_custom_loader', true)\r\n            apiTo\r\n                .deleteReport(this.deleteReportId)\r\n                .then(() => {\r\n                    const index = this.reports.findIndex(\r\n                        r => r.id === this.deleteReportId\r\n                    )\r\n                    if (~index) {\r\n                        this.reports.splice(index, 1)\r\n                        this.activeReport = null\r\n                        this.$event.$emit('open_snackbar', 'Report deleted successfully')\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    this.deleteDialog = false\r\n                    this.$store.commit('set_custom_loader', false)\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n\r\n        reportUpdated({data, index}) {\r\n            // this.$set(this.reports, index, data)\r\n            let index1 = this.reports.findIndex(i => i.id === data.id)\r\n            if (~index1) {\r\n                this.reports.splice(index1, 1, data)\r\n            }\r\n            this.$event.$emit('btnloading_off', false)\r\n        },\r\n        open_add_report_via_template(item) {\r\n            this.add_report_via_template = true\r\n        },\r\n        handleSaveReportViaTemplate(data) {\r\n            this.$store.commit('set_custom_loader', true)\r\n            apiTo.saveReportViaTemplate(data)\r\n                .then(({data}) => {\r\n                    this.reports.push(data)\r\n                    this.previewRowUrl(data)\r\n                    this.add_report_via_template = false\r\n                })\r\n                .finally(() => {\r\n                    this.$store.commit('set_custom_loader', false)\r\n                })\r\n        },\r\n        handleUpdateReportViaTemplate(data) {\r\n            this.$store.commit('set_custom_loader', true)\r\n            apiTo.updateReportViaTemplate(this.activeReport.id, data)\r\n                .then(({data}) => {\r\n                    let index = this.reports.findIndex(i => i.id === data.id)\r\n                    if (~index) {\r\n                        this.reports.splice(index, 1, data)\r\n                        this.previewRowUrl(data)\r\n                    }\r\n                    this.edit_report_via_template = false\r\n                })\r\n                .finally(() => {\r\n                    this.$store.commit('set_custom_loader', false)\r\n                })\r\n        }\r\n\r\n    }\r\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./Reports.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./Reports.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reports.vue?vue&type=template&id=894bcd02&scoped=true&\"\nimport script from \"./Reports.js?vue&type=script&lang=js&\"\nexport * from \"./Reports.js?vue&type=script&lang=js&\"\nimport style0 from \"./Reports.scss?vue&type=style&index=0&id=894bcd02&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"894bcd02\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./Reports.scss?vue&type=style&index=0&id=894bcd02&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./Reports.scss?vue&type=style&index=0&id=894bcd02&scoped=true&lang=scss&\""],"sourceRoot":""}