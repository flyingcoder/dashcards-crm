(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bce7d22"],{"09d8":function(t,e,i){"use strict";var o=i("53f8"),n=i.n(o);n.a},"386b":function(t,e,i){var o=i("5ca1"),n=i("79e5"),a=i("be13"),l=/"/g,s=function(t,e,i,o){var n=String(a(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(o).replace(l,"&quot;")+'"'),s+">"+n+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),o(o.P+o.F*n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",i)}},"53f8":function(t,e,i){},5709:function(t,e,i){},"57e5":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{"justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?i("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):i("v-card",{staticClass:"custom__dialog"},[i("v-card-title",{staticClass:"dialog__header"},[t._t("entire-header",[t._t("title",[i("span",{staticClass:"dialog__title"},[t._v(t._s(t.title))])]),t._t("cancel-icon",[i("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:""},on:{click:t.close_dialog}},[i("v-icon",[t._v("close")])],1)])])],2),i("v-card-text",{staticClass:"dialog__body"},[t._t("content",[t._v(" "+t._s(t.content)+" ")])],2),i("v-card-actions",{staticClass:"dialog__actions"},[t._t("entire-actions",[t._t("button1",[i("v-btn",{on:{click:t.button1clicked}},[t._v(t._s(t.button1Text))])]),t._t("button2",[i("v-btn",{attrs:{loading:t.btnloading},on:{click:t.button2clicked}},[t._v(t._s(t.button2Text))])])])],2)],1)],1)],1)},n=[],a={props:{title:{type:String,default:"Default Modal Title"},content:{type:String,default:"Default Modal Text Content"},button1Text:{type:String,default:"Cancel"},button2Text:{type:String,default:"Delete"},open:Boolean,value:Boolean},data:function(){return{dialog:!1,loading:!1,btnloading:!1}},mounted:function(){var t=this;this.$event.$on("btnloading_off",(function(e){return t.btnloading=e}))},watch:{value:{handler:function(t){this.dialog=t},immediate:!0},open:function(t){this.dialog=t},dialog:function(t){this.$emit("update:open",t),this.$emit("input",t)}},methods:{button1clicked:function(){this.$emit("button1")},button2clicked:function(){this.btnloading=!0,this.$emit("button2")},open_dialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.close_dialog()},activate_loading:function(){this.loading=!0},disable_loading:function(){this.loading=!1}}},l=a,s=(i("aab6"),i("5bdc"),i("2877")),r=Object(s["a"])(l,o,n,!1,null,"37adf598",null);e["a"]=r.exports},"5b70":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("custom-dialog",{attrs:{title:t.title,content:t.textContent,"button1-text":t.cancelButtonText,"button2-text":t.deleteButtonText,open:t.open},on:{"update:open":function(e){t.open=e},button1:t.cancel_clicked,button2:t.delete_clicked}})],1)},n=[],a=i("57e5"),l={components:{CustomDialog:a["a"]},props:{title:{type:String,default:"Default Modal Title"},textContent:{type:String,default:"Default Modal Text Content"},cancelButtonText:{type:String,default:"Cancel"},deleteButtonText:{type:String,default:"Delete"},openDialog:Boolean},data:function(){return{open:!1}},watch:{openDialog:function(t){this.open=t},open:function(t){this.$emit("update:openDialog",t)}},methods:{cancel_clicked:function(){this.open=!1},delete_clicked:function(){this.$emit("delete")},showDialog:function(){this.open=!0},closeDialog:function(){this.open=!1}}},s=l,r=i("2877"),c=Object(r["a"])(s,o,n,!1,null,null,null);e["a"]=c.exports},"5bdc":function(t,e,i){"use strict";var o=i("877e"),n=i.n(o);n.a},"781e":function(t,e,i){},"79b8":function(t,e,i){"use strict";var o=i("b64b"),n=i.n(o);n.a},"877e":function(t,e,i){},aab6:function(t,e,i){"use strict";var o=i("781e"),n=i.n(o);n.a},b54a:function(t,e,i){"use strict";i("386b")("link",(function(t){return function(e){return t(this,"a","href",e)}}))},b64b:function(t,e,i){},c4d9:function(t,e,i){"use strict";var o=i("5709"),n=i.n(o);n.a},fe8b:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"reports__tab",attrs:{wrap:""}},[i("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{indeterminate:!0}}),i("ReportsDialog",{ref:"dialog",attrs:{id:t.id},on:{"report-added":t.add_new_report}}),i("ReportsEditDialog",{ref:"editDialog",attrs:{id:t.id},on:{"report-updated":t.reportUpdated}}),i("DeleteDialog",{attrs:{"open-dialog":t.deleteDialog,title:"Delete Report","text-content":"Are you sure you want to delete this template?"},on:{"update:openDialog":function(e){t.deleteDialog=e},"update:open-dialog":function(e){t.deleteDialog=e},delete:t.deleteReport}}),t.has_permission?i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[i("v-btn",{attrs:{color:"indigo",dark:"",right:"",icon:"",title:"Add New Report"},on:{click:t.open_dialog}},[i("v-icon",[t._v("add")])],1)],1):t._e(),t.reports.length||t.loading?i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",md3:t.has_permission||!t.reports.length}},[t.reports.length?i("reports-list",{attrs:{reports:t.reports,"active-report":t.active_report,loading:t.loading},on:{"row-clicked":t.preview_row_url,edit:t.openEditDialog,delete:t.openDeleteDialog}}):t._e()],1),t.has_permission&&t.reports.length?i("v-flex",{attrs:{xs12:"",md9:""}},[i("div",{staticClass:"body-wrapper"},[i("ReportsSection",{attrs:{iframe_src:t.iframe_src},on:{"iframe-loaded":t.iframeLoaded}})],1)]):t._e()],1):i("v-flex",{staticClass:"empty-reports",attrs:{xs12:"",md12:""}},[i("div",{staticClass:"empty-content"},[i("div",{staticClass:"empty-svg"},[i("svg",{attrs:{viewBox:"0 0 250 250"}},[i("path",{attrs:{d:"M57 59l150 0 0 -7c0,-4 -1,-8 -4,-10 -3,-3 -6,-5 -10,-5l-164 0c-4,0 -8,2 -10,5 -3,2 -5,6 -5,10l0 112c0,4 2,7 5,10 2,2 6,4 10,4l0 0 0 -92c0,-7 3,-14 8,-19 5,-5 12,-8 20,-8zm129 23l21 0c4,0 7,1 10,3l0 0c2,3 3,6 3,10l0 98c0,3 -1,7 -3,9l0 0c-3,2 -6,4 -10,4l-21 0c-4,0 -7,-2 -9,-4 -3,-2 -4,-6 -4,-9l0 -98c0,-4 1,-7 4,-10 2,-2 5,-3 9,-3zm-116 72l21 0c4,0 7,1 9,4 3,2 4,5 4,9l0 26c0,3 -1,7 -4,9 -2,2 -5,4 -9,4l-21 0c-4,0 -7,-2 -10,-4 -2,-2 -3,-6 -3,-9l0 -26c0,-4 1,-7 3,-9 3,-3 6,-4 10,-4zm21 13l-21 0 0 25 21 0 0 -25zm37 -62l21 0c4,0 7,1 9,3 3,3 4,6 4,10l0 75c0,3 -1,7 -4,9 -2,2 -5,4 -9,4l-21 0c-4,0 -7,-2 -10,-4 -2,-2 -3,-6 -3,-9l0 -75c0,-4 1,-7 3,-10 3,-2 6,-3 10,-3zm21 13l-21 0 0 74 21 0 0 -74zm58 -23l-21 0 0 97 21 0 0 -97zm14 -36l0 0c8,0 15,3 20,8 5,5 8,12 8,19l0 112c0,8 -3,15 -8,20 -5,5 -12,8 -20,8l-164 0c-8,0 -15,-3 -20,-8 -5,-5 -8,-12 -8,-20l0 -7 0 0c-8,0 -15,-3 -20,-8 -5,-5 -8,-12 -8,-19l0 -112c0,-8 3,-15 8,-20 5,-5 12,-8 20,-8l164 0c8,0 15,3 20,8 5,5 8,12 8,20l0 7zm0 13l-164 0c-4,0 -7,2 -10,4 -3,3 -4,6 -4,10l0 112c0,4 1,8 4,10 3,3 6,5 10,5l164 0c4,0 8,-2 10,-5 3,-2 5,-6 5,-10l0 -112c0,-4 -2,-7 -5,-10 -2,-2 -6,-4 -10,-4z"}})])]),i("div",{staticClass:"empty-btn"},[i("v-btn",{attrs:{large:"",dark:"",color:"#3b589e"},on:{click:t.open_dialog}},[t._v("Add Report ")])],1)])])],1)},n=[],a=(i("20d6"),i("c5f6"),i("d4e9")),l=i("1be9"),s={add_project_report:function(t,e){return l["a"].post("api/projects/".concat(t,"/report"),e)},updateProjectReport:function(t,e,i){return l["a"].put("api/projects/".concat(t,"/report/").concat(e),i)},deleteProjectReport:function(t,e){return l["a"].delete("api/projects/".concat(t,"/report/").concat(e))}},r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reports-list"},[i("div",{staticClass:"reports-list-title"},[t._v("Reports List")]),i("div",{staticClass:"reports-content"},[i("v-layout",{staticClass:"table-header"},[i("v-flex",{staticClass:"reports-id",attrs:{xs3:""}},[t._v("#")]),i("v-flex",{staticClass:"reports-title",attrs:{xs9:""}},[t._v("Title")])],1),t.loading?i("v-progress-linear",{attrs:{indeterminate:!0}}):t.loading||t.reports.length?i("div",{staticClass:"list-content"},t._l(t.reports,(function(e,o){return i("v-layout",{key:e.id,staticClass:"report-item align-center",class:{active:t.activeReport&&t.activeReport.id===e.id},on:{click:function(e){return t.preview_row_url(o)}}},[i("v-flex",{staticClass:"reports-id",attrs:{xs3:""}},[t._v(t._s(o+1))]),i("v-flex",{staticClass:"reports-title",attrs:{xs9:""}},[t._v(t._s(e.title))]),i("v-btn",{attrs:{icon:""},on:{click:function(i){return i.stopPropagation(),t.actionClicked(e,o,"edit")}}},[i("v-icon",{attrs:{color:"indigo"}},[t._v("edit")])],1),i("v-btn",{attrs:{icon:""},on:{click:function(i){return i.stopPropagation(),t.actionClicked(e,o,"delete")}}},[t._v(" Û†ÅøÛ†ÅøÛ†Åø"),i("span",{staticStyle:{"font-size":"20px"}},[t._v("üóô")])])],1)})),1):i("h3",{staticClass:"no-data"},[t._v("No Data")])],1)])},c=[],d={props:{loading:Boolean,reports:Array,activeReport:Object},created:function(){this.reports.length&&this.preview_row_url(0)},methods:{preview_row_url:function(t){this.$emit("row-clicked",this.reports[t])},actionClicked:function(t,e,i){this.$emit(i,{report:t,index:e})}}},u=d,p=(i("c4d9"),i("2877")),f=Object(p["a"])(u,r,c,!1,null,"5c1ffc2d",null),_=f.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("custom-dialog",{ref:"dialog",attrs:{title:"Add Link","button1-text":"Cancel"},on:{button1:t.close_dialog},scopedSlots:t._u([{key:"content",fn:function(){return[i("v-layout",{staticClass:"custom-dialog",attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{staticClass:"dialog__link d-field",attrs:{pattern:"https://.*",type:"url","prepend-icon":"link",label:"https://",clearable:"",box:"","hide-details":"",color:"#657186"},on:{keydown:t.validate_url},model:{value:t.link,callback:function(e){t.link="string"===typeof e?e.trim():e},expression:"link"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Title",box:"",clearable:"","hide-details":"","prepend-icon":"text_fields",color:"#657186"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1)],1)]},proxy:!0}])},[i("template",{slot:"button2"},[i("v-btn",{attrs:{disabled:t.is_disabled},on:{click:t.on_dialog_save}},[t._v("Save")])],1)],2)},v=[],h=(i("b54a"),i("57e5")),m={components:{CustomDialog:h["a"]},props:{id:[Number,String]},data:function(){return{link:"",title:"",valid_url:!1}},computed:{is_disabled:function(){return!this.link||!this.valid_url||!this.title}},methods:{open_dialog:function(){this.$refs.dialog.open_dialog()},close_dialog:function(){this.$refs.dialog.close_dialog()},clear_and_close:function(){this.close_dialog(),Object.assign(this.$data,this.$options.data.apply(this))},validate_url:function(t){var e=this;this.$nextTick((function(){e.valid_url=t.target.validity.valid}))},on_dialog_save:function(){var t=this;this.$store.commit("set_custom_loader",!0),s.add_project_report(this.id,{url:this.link,title:this.title}).then((function(e){var i=e.data;t.$emit("report-added",i),t.clear_and_close()})).finally((function(){return t.$store.commit("set_custom_loader",!1)}))}}},b=m,x=Object(p["a"])(b,g,v,!1,null,null,null),k=x.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"reports__body"},[t.loaded?t._e():i("v-progress-linear",{attrs:{indeterminate:!0}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"reports-content"},[t.iframe_src?i("div",{staticClass:"site-preview"},[i("iframe",{attrs:{src:t.iframe_src,frameborder:"0",width:"100%",height:"800"},on:{load:t.load}})]):t._e()])],1)},C=[],$={props:{iframe_src:String},data:function(){return{loaded:!1}},methods:{load:function(){this.loaded=!0}}},w=$,D=(i("09d8"),Object(p["a"])(w,y,C,!1,null,"8dd3d110",null)),R=D.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("custom-dialog",{ref:"dialog",attrs:{title:"Edit Link","button1-text":"Cancel"},on:{button1:t.close_dialog},scopedSlots:t._u([{key:"content",fn:function(){return[i("v-layout",{staticClass:"custom-dialog",attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{staticClass:"dialog__link d-field",attrs:{pattern:"https://.*",type:"url","prepend-icon":"link",label:"https://",clearable:"",box:"","hide-details":"",color:"#657186"},on:{keydown:t.validate_url},model:{value:t.link,callback:function(e){t.link="string"===typeof e?e.trim():e},expression:"link"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Title",box:"",clearable:"","hide-details":"","prepend-icon":"text_fields",color:"#657186"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1)],1)]},proxy:!0}])},[i("template",{slot:"button2"},[i("v-btn",{attrs:{disabled:t.is_disabled},on:{click:t.on_dialog_save}},[t._v("Save")])],1)],2)},S=[],T={components:{CustomDialog:h["a"]},props:{id:[Number,String]},data:function(){return{link:"",title:"",valid_url:!1,reportId:null,reportIndex:null}},computed:{is_disabled:function(){return!this.link||!this.valid_url||!this.title}},methods:{open_dialog:function(t,e){var i=t.id,o=t.url,n=t.title;this.link=o,this.title=n,this.reportId=i,this.reportIndex=e,this.$refs.dialog.open_dialog(),this.valid_url=!0},close_dialog:function(){this.$refs.dialog.close_dialog()},clear_and_close:function(){this.close_dialog(),Object.assign(this.$data,this.$options.data.apply(this))},validate_url:function(t){var e=this;this.$nextTick((function(){e.valid_url=t.target.validity.valid}))},on_dialog_save:function(){var t=this;this.$store.commit("set_custom_loader",!0),s.updateProjectReport(this.id,this.reportId,{url:this.link,title:this.title}).then((function(e){var i=e.data;t.$emit("report-updated",{data:i,index:t.reportIndex}),t.clear_and_close()})).finally((function(){return t.$store.commit("set_custom_loader",!1)}))}}},E=T,I=Object(p["a"])(E,j,S,!1,null,null,null),O=I.exports,z=i("5b70"),B={components:{ReportsList:_,ReportsDialog:k,ReportsSection:R,ReportsEditDialog:O,DeleteDialog:z["a"]},props:{id:[Number,String]},data:function(){return{reports:[],loading:!1,iframe_loading:!0,iframe_src:null,activate_save:!1,active_report:null,reportIdToEdit:null,deleteDialog:!1,deleteReportId:null}},computed:{has_permission:function(){return!!this.$store.getters.user.is_admin||this.$_permissions.get("hq_reports")}},created:function(){var t=this;this.loading=!0,a["a"].get_project_reports(this.id).then((function(e){var i=e.data;return t.reports=i.data})).finally((function(){return t.loading=!1}))},methods:{iframeLoaded:function(){console.log("this"),this.iframe_loading=!1},open_dialog:function(){this.$refs.dialog.open_dialog()},add_new_report:function(t){this.reports.push(t)},preview_row_url:function(t){this.iframe_src=t.url,this.active_report=t},openEditDialog:function(t){var e=t.report,i=t.index;this.$refs.editDialog.open_dialog(e,i)},openDeleteDialog:function(t){var e=t.report;this.deleteReportId=e.id,this.deleteDialog=!0},reportUpdated:function(t){var e=t.data,i=t.index;this.$set(this.reports,i,e)},deleteReport:function(){var t=this;this.$store.commit("set_custom_loader",!0),s.deleteProjectReport(this.id,this.deleteReportId).then((function(){var e=t.reports.findIndex((function(e){return e.id===t.deleteReportId}));~e&&(t.reports.splice(e,1),t.$event.$emit("open_snackbar","Report deleted successfully"))})).finally((function(){t.deleteDialog=!1,t.$store.commit("set_custom_loader",!1)}))}}},L=B,N=(i("79b8"),Object(p["a"])(L,o,n,!1,null,"6965688e",null));e["default"]=N.exports}}]);
//# sourceMappingURL=chunk-1bce7d22.3f62a32b.js.map