(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4efbecc9"],{"0af2":function(t,e,n){},"0b20":function(t,e,n){},"29d6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-header"},[t._t("prepends"),t.hasSearch?n("v-text-field",{attrs:{dense:"",outlined:"",clearable:"","clear-icon":"mdi-close-circle-outline",solo:"",flat:"","append-icon":"search","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e(),t.noButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"add__btn ml-2",on:{click:function(e){return t.$emit("click")}}},"v-icon",o,!1),i),[t._v(" mdi-plus-circle-outline ")])]}}],null,!1,832533837)},[n("span",[t._v("Create new")])]),t._t("center"),t.noSortButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",on:{click:function(e){return t.$emit("click-sort-by")}}},"v-icon",o,!1),i),[t._v(" sort ")])]}}],null,!1,247375115)},[n("span",[t._v("Sort")])]),t.noListButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",attrs:{color:"list"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-list-view")}}},"v-icon",o,!1),i),[t._v(" mdi-view-list ")])]}}],null,!1,3129698352)},[n("span",[t._v("List view")])]),t.noGridButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,o=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"add__btn ml-2",attrs:{color:"grid"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-grid-view")}}},"v-icon",o,!1),i),[t._v(" mdi-view-grid ")])]}}],null,!1,61101394)},[n("span",[t._v("Grid view")])]),t._t("form-btn")],2)},o=[],s={name:"TableHeader",props:{hasSearch:{type:Boolean,default:!1},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0,keyword:"",debounce:null}},watch:{keyword:function(t){var e=this;clearTimeout(this.debounce),this.debounce=setTimeout((function(){e.$emit("search",t)}),600)}},computed:{activeView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"}}},a=s,c=(n("d893"),n("2877")),l=Object(c["a"])(a,i,o,!1,null,"32f7f82b",null);e["a"]=l.exports},"2e26":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-details"},[n("TableHeader",{attrs:{paths:t.paths},on:{click:t.addNewQuestion}}),n("CustomDialog",{attrs:{title:"Select service"},scopedSlots:t._u([{key:"cancel-icon",fn:function(){return[n("span")]},proxy:!0},{key:"content",fn:function(){return[n("v-select",{staticClass:"mt-3",attrs:{items:t.service.items,loading:t.service.loading,"item-text":"name","item-value":"id",solo:"",flat:"",label:"Select Service"},model:{value:t.service.selected,callback:function(e){t.$set(t.service,"selected",e)},expression:"service.selected"}})]},proxy:!0},{key:"entire-actions",fn:function(){return[n("v-btn",{staticClass:"mx-1",attrs:{to:{name:"default-content"}}},[t._v("Cancel")]),n("v-btn",{attrs:{disabled:!t.service.selected},on:{click:t.save}},[t._v("Select")])]},proxy:!0}]),model:{value:t.serviceDialog,callback:function(e){t.serviceDialog=e},expression:"serviceDialog"}}),n("div",{staticClass:"question-fields"},[t.serviceName?n("div",{staticClass:"service-name-label"},[t._v(" "+t._s(t.serviceName)+" Extra Inputs ")]):t._e(),t.serviceDialog?t._e():n("QuestionsFields",{attrs:{"service-id":t.service.selected,sections:t.dynamicSections},on:{"update:sections":function(e){t.dynamicSections=e}}})],1)],1)},o=[],s=(n("7f7f"),n("7514"),n("1be9")),a=function(){return s["a"].get("api/services?all=true")},c=function(t){return s["a"].get("api/forms/project-details/".concat(t))},l=function(t){return s["a"].post("api/forms/project-details",t)},r=n("29d6"),d=n("57e5"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-fields"},[t._l(t.dynamicSections,(function(e,i){return n("v-layout",{key:i,attrs:{group:""}},[n("v-flex",{attrs:{xs12:""}},[n("div",{staticClass:"field"},[n("v-layout",{attrs:{"align-center":""}},[n("v-flex",{staticClass:"pr-5",attrs:{xs7:""}},[n("v-text-field",{attrs:{label:e.questionField.placeholder},model:{value:e.questionField.text,callback:function(n){t.$set(e.questionField,"text",n)},expression:"section.questionField.text"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-select",{attrs:{value:e.selected,items:e.items,"return-object":""},on:{change:function(e){return t.dropdownChanged(i,e)}}})],1),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{attrs:{round:"",icon:""},on:{click:function(e){return t.removeQuestion(i)}}},[n("v-icon",[t._v("delete")])],1)],1)],1),e.shortAnswer.show?[n("v-layout",[n("v-text-field",{attrs:{label:"Descriptions"},model:{value:e.shortAnswer.text,callback:function(n){t.$set(e.shortAnswer,"text",n)},expression:"section.shortAnswer.text"}})],1),n("v-layout",[n("v-text-field",{attrs:{disabled:"",label:"Short Answer"}})],1)]:e.longAnswer.show?[n("v-layout",[n("v-textarea",{attrs:{label:"Descriptions"},model:{value:e.longAnswer.text,callback:function(n){t.$set(e.longAnswer,"text",n)},expression:"section.longAnswer.text"}})],1),n("v-layout",[n("v-textarea",{attrs:{disabled:"",label:"Long Answer"}})],1)]:[n("v-layout",{staticClass:"default-field",attrs:{"align-center":""}},[n("v-flex",{attrs:{xs1:""}},[n("v-icon",[t._v(t._s(e.selected.icon))])],1),n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"Default Text"},on:{keyup:function(n){if(!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;e.newFieldText&&t.addNewField(i)}},model:{value:e.newFieldText,callback:function(n){t.$set(e,"newFieldText","string"===typeof n?n.trim():n)},expression:"section.newFieldText"}})],1),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{attrs:{icon:"",outlined:"",color:"indigo",disabled:!e.newFieldText},on:{click:function(e){return t.addNewField(i)}}},[n("v-icon",[t._v("add")])],1)],1)],1),t._l(e.fields,(function(o,s){return n("v-layout",{key:s,staticClass:"field",attrs:{"align-center":""}},[e.selected.showIcon?n("v-flex",{attrs:{xs1:""}},[n("v-icon",[t._v(t._s(e.selected.icon))])],1):t._e(),n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{readonly:""},model:{value:o.text,callback:function(e){t.$set(o,"text","string"===typeof e?e.trim():e)},expression:"field.text"}})],1),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{attrs:{icon:"",outlined:"",color:"indigo"},on:{click:function(e){return t.deleteField(i,s)}}},[n("v-icon",[t._v("delete")])],1)],1)],1)}))]],2)])],1)})),t.dynamicSections.length?n("v-btn",{staticClass:"btn-save",on:{click:t.save}},[t._v("Save")]):t._e()],2)},v=[],f=(n("c5f6"),n("0644")),h=n.n(f),_={props:{sections:Array,serviceId:[Number,String]},data:function(){return{dynamicSections:[]}},watch:{sections:{handler:function(t){this.dynamicSections=h()(t)},immediate:!0}},methods:{addNewField:function(t){var e=h()(this.dynamicSections),n=1,i=e[t].selected.icon,o=e[t].newFieldText,s=e[t].fields.reduce((function(t,e){return Math.max(t,e.id)}),0);s>n&&(n=s),e[t].fields.push({id:n,icon:i,text:o}),e[t].newFieldText=null,this.dynamicSections=e},deleteField:function(t,e){var n=h()(this.dynamicSections);n[t].fields.splice(e,1),this.dynamicSections=n},dropdownChanged:function(t,e){var n=h()(this.dynamicSections),i=this.defaultSection();"short_answer"===e.value?i.shortAnswer.show=!0:"paragraph"===e.value&&(i.longAnswer.show=!0),i.selected=e,n[t]=i,this.dynamicSections=n},defaultSection:function(){return{type:"Q",questionField:{placeholder:"Question",text:""},items:[{id:1,text:"Short Answer",value:"short_answer",icon:"short_text",showIcon:!1},{id:2,text:"Paragraph",value:"paragraph",icon:"format_align_center",showIcon:!1},{id:3,text:"Multiple Choice",value:"multiple_choice",icon:"radio_button_unchecked",showIcon:!0},{id:4,text:"Checkboxes",value:"checkboxes",icon:"check_box",showIcon:!0},{id:5,text:"Dropdown",value:"dropdown",icon:"arrow_drop_down_circle",showIcon:!0}],selected:{id:3,text:"Multiple Choice",value:"multiple_choice",icon:"radio_button_unchecked"},fields:[],shortAnswer:{show:!1,text:null},longAnswer:{show:!1,text:null},newFieldText:null}},save:function(){var t=this;l({service_id:this.serviceId,fields:this.dynamicSections}).then((function(e){t.$event.$emit("open_snackbar","Project details fields updated","success",1e4)})).catch((function(e){t.$event.$emit("open_snackbar","${error}","error",1e4)}))},removeQuestion:function(t){this.dynamicSections.splice(t,1),this.$emit("update:sections",this.dynamicSections)}}},p=_,m=(n("7381"),n("2877")),b=Object(m["a"])(p,u,v,!1,null,"29e78c4a",null),x=b.exports,g={name:"ProjectDetails",components:{TableHeader:r["a"],CustomDialog:d["a"],QuestionsFields:x},data:function(){return{paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Forms",disabled:!1,router_name:"forms"},{text:"Project Details",disabled:!0,router_name:null}],serviceDialog:!0,service:{loading:!1,items:[],selected:null},dynamicSections:[],serviceName:""}},created:function(){this.getServices()},methods:{getServices:function(){var t=this;this.service.loading=!0,a().then((function(e){var n=e.data;return t.service.items=n})).finally((function(){return t.service.loading=!1}))},save:function(){var t=this,e=this.service.items.find((function(e){return e.id===t.service.selected}));this.serviceName=e.name||"",c(this.service.selected).then((function(e){var n=e.data;return t.dynamicSections=JSON.parse(n.questions)})).finally((function(){return t.serviceDialog=!1}))},addNewQuestion:function(){this.dynamicSections.push({type:"Q",questionField:{placeholder:"Question",text:""},items:[{id:1,text:"Short Answer",value:"short_answer",icon:"short_text",showIcon:!1},{id:2,text:"Paragraph",value:"paragraph",icon:"format_align_center",showIcon:!1},{id:3,text:"Multiple Choice",value:"multiple_choice",icon:"radio_button_unchecked",showIcon:!0},{id:4,text:"Checkboxes",value:"checkboxes",icon:"check_box",showIcon:!0},{id:5,text:"Dropdown",value:"dropdown",icon:"arrow_drop_down_circle",showIcon:!0}],selected:{id:3,text:"Multiple Choice",value:"multiple_choice",icon:"radio_button_unchecked"},fields:[],shortAnswer:{show:!1,text:null},longAnswer:{show:!1,text:null},newFieldText:null})}}},w=g,y=(n("8262"),Object(m["a"])(w,i,o,!1,null,"4e6aa5e6",null));e["default"]=y.exports},"45ec":function(t,e,n){},"57e5":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":t.maxWidth,scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?n("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):n("v-card",{staticClass:"custom__dialog"},[n("div",{staticClass:"dialog__header"},[t._t("entire-header",[t._t("title",[n("h3",{staticClass:"dialog__title"},[t._v(t._s(t.title))])]),t._t("extra-buttons"),t._t("cancel-icon",[n("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:"",depressed:""},on:{click:t.close_dialog}},[n("v-icon",[t._v("close")])],1)])]),t._t("below-title")],2),n("v-card-text",{staticClass:"dialog__body"},[t._t("content",[n("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t.hasFooter?n("v-card-actions",{staticClass:"dialog__actions"},[t._t("entire-actions",[t._t("extras"),t._t("button1",[n("v-btn",{attrs:{disabled:t.btnloading},on:{click:t.button1clicked}},[t._v(t._s(t.button1Text))])]),t._t("button2",[n("v-btn",{attrs:{loading:t.btnloading,disabled:t.mainBtnDisabled},on:{click:t.button2clicked}},[t._v(" "+t._s(t.button2Text)+" ")])])])],2):t._e()],1)],1)],1)},o=[],s=(n("c5f6"),{props:{title:{type:String,default:""},content:{type:String,default:""},button1Text:{type:String,default:"Cancel"},button2Text:{type:String,default:"Delete"},open:Boolean,value:Boolean,mainBtnDisabled:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},maxWidth:{type:[Number,String],default:"600px"}},data:function(){return{dialog:!1,loading:!1,btnloading:!1}},mounted:function(){var t=this;this.$event.$on("btnloading_off",(function(e){t.btnloading=!1}))},watch:{value:{handler:function(t){this.dialog=t},immediate:!0},open:function(t){this.dialog=t,this.btnloading=!1},dialog:function(t){this.$emit("update:open",t),this.$emit("input",t)}},methods:{button1clicked:function(){this.$emit("button1"),this.close_dialog()},button2clicked:function(){this.btnloading=!0,this.$emit("button2")},open_dialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1,this.btnloading=!1,this.$emit("click:close",!0),this.$emit("click-close",!0)},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.close_dialog()},activate_loading:function(){this.loading=!0},disable_loading:function(){this.loading=!1}}}),a=s,c=(n("a947"),n("9084"),n("2877")),l=Object(c["a"])(a,i,o,!1,null,"249058b6",null);e["a"]=l.exports},"5aef":function(t,e,n){},7381:function(t,e,n){"use strict";var i=n("5aef"),o=n.n(i);o.a},8262:function(t,e,n){"use strict";var i=n("bf11"),o=n.n(i);o.a},9084:function(t,e,n){"use strict";var i=n("0b20"),o=n.n(i);o.a},a947:function(t,e,n){"use strict";var i=n("45ec"),o=n.n(i);o.a},bf11:function(t,e,n){},d893:function(t,e,n){"use strict";var i=n("0af2"),o=n.n(i);o.a}}]);
//# sourceMappingURL=chunk-4efbecc9.dc48c64d.js.map