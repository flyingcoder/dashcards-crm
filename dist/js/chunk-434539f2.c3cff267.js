(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-434539f2"],{"0926":function(t,e,i){"use strict";var o=i("28b0"),a=i.n(o);a.a},"0d94":function(t,e,i){},1060:function(t,e,i){"use strict";var o=i("eae5"),a=i.n(o);a.a},1911:function(t,e,i){"use strict";var o=i("c9bd"),a=i.n(o);a.a},"1f22":function(t,e,i){},"24e1":function(t,e,i){},"28b0":function(t,e,i){},"2b03":function(t,e,i){"use strict";var o=i("1f22"),a=i.n(o);a.a},3319:function(t,e,i){},"35a3":function(t,e,i){},"524b":function(t,e,i){"use strict";var o=i("3319"),a=i.n(o);a.a},6514:function(t,e,i){"use strict";var o=i("992a"),a=i.n(o);a.a},"7a19":function(t,e,i){"use strict";var o=i("b296"),a=i.n(o);a.a},"7b66":function(t,e,i){},"867a":function(t,e,i){},9107:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{"no-gutters":"","justify-center":""}},[i("v-dialog",{attrs:{fullscreen:"",persistent:"","no-click-animation":"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.view_invoice_dialog,callback:function(e){t.view_invoice_dialog=e},expression:"view_invoice_dialog"}},[t.item?i("v-card",{staticClass:"invoice__dialog mx-auto",attrs:{outlined:""}},[i("v-toolbar",{attrs:{color:"#3b589e",dark:""}},[i("v-icon",[t._v("list")]),i("v-toolbar-title",[t._v("Invoice : "+t._s(t.item.title))]),i("v-spacer"),i("v-btn",{attrs:{icon:""},on:{click:function(e){t.view_invoice_dialog=!1}}},[i("v-icon",[t._v("close")])],1)],1),i("v-container",{staticClass:"invoice-viewbox"},[i("hr",{staticClass:"mb-4"}),i("v-row",{attrs:{"no-gutters":"","justify-space-between":""}},[i("v-col",{attrs:{md:"7"}},[i("v-img",{attrs:{src:t.item.company_logo},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("span",{staticClass:"blue--text headline"},[t._v("No Image Available")])]},proxy:!0}],null,!1,2790391449)})],1),i("v-col",{attrs:{md:"5"}},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{md:"6",sm:"6"}},[t._v("Invoice ID")]),i("v-col",{attrs:{md:"6",sm:"6"}},[t._v(": "+t._s(t.item.id))]),i("v-col",{attrs:{md:"6",sm:"6"}},[t._v("Created")]),i("v-col",{attrs:{md:"6",sm:"6"}},[t._v(": "+t._s(t.item.created_at))]),i("v-col",{attrs:{md:"6",sm:"6"}},[t._v("Due ")]),i("v-col",{attrs:{md:"6",sm:"6"}},[t._v(": "+t._s(t.item.due_date))]),i("v-col",{attrs:{md:"6",sm:"6"}},[t._v("Type ")]),i("v-col",{attrs:{md:"6",sm:"6"}},[t._v(": "+t._s(t.item.type))])],1)],1)],1),i("v-row",{staticClass:"mt-2",attrs:{"no-gutters":"","justify-space-between":""}},[i("v-col",{attrs:{md:"6"}},[t._v(" Billed From:"),i("br"),t._v(" "+t._s(t.item.billed_from)+" ")]),i("v-col",{attrs:{md:"6"}},[t._v(" Billed To:"),i("br"),t._v(" "+t._s(t.item.billed_to)+" ")])],1),i("v-row",{staticClass:"py-3",attrs:{"no-gutters":"","justify-space-center":""}},[i("v-flex",[t._v(t._s(t.item.title))])],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.item.items,"hide-default-footer":"","hide-default-footer":""},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",[t._v(t._s(e.index+1))]),i("td",[t._v(t._s(e.item.descriptions))]),i("td",[t._v(t._s(e.item.rate))]),i("td",[t._v(t._s(e.item.hours))]),i("td",[t._v(t._s(e.item.amount))])]}}],null,!1,3088991679)}),i("v-row",{staticClass:"my-2 py-3",attrs:{"no-gutters":""}},[i("v-flex",{attrs:{xs12:"",md12:""}},[t._v("Total : "+t._s(t.item.total_amount))]),i("v-flex",{attrs:{xs12:"",md12:""}},[t._v("Tax : "+t._s(t.item.tax))]),i("v-flex",{attrs:{xs12:"",md12:""}},[t._v("Discount : "+t._s(t.item.discount))])],1),t.item.terms?i("v-row",{staticClass:"my-2 py-3",attrs:{"no-gutters":""}},[i("v-flex",{attrs:{xs12:"",md12:""}},[t._v("Terms : "+t._s(t.item.terms))])],1):t._e()],1)],1):t._e()],1)],1)},a=[],s={props:{item:Object,open:Boolean},data:function(){return{loading:!1,list_items:[],headers:[{text:"#",align:"left",sortable:!1,width:"20px"},{text:"Descriptions",align:"left",sortable:!1,value:"descriptions"},{text:"Rate",value:"rate",align:"left",sortable:!1},{text:"Hours",value:"hours",align:"left",sortable:!1},{text:"Amount",value:"amount",align:"left",sortable:!1}]}},computed:{view_invoice_dialog:{get:function(){return this.open},set:function(t){this.$emit("close",t)}}}},n=s,r=(i("0926"),i("2877")),l=Object(r["a"])(n,o,a,!1,null,"663c2f82",null);e["a"]=l.exports},9719:function(t,e,i){"use strict";var o=i("0d94"),a=i.n(o);a.a},"992a":function(t,e,i){},"9a39":function(t,e,i){"use strict";var o=i("24e1"),a=i.n(o);a.a},a7a4:function(t,e,i){"use strict";var o=i("ce4f"),a=i.n(o);a.a},af51:function(t,e,i){"use strict";var o=i("b50dc"),a=i.n(o);a.a},b011:function(t,e,i){"use strict";var o=i("e10a"),a=i.n(o);a.a},b296:function(t,e,i){},b50dc:function(t,e,i){},c04c:function(t,e,i){"use strict";var o=i("867a"),a=i.n(o);a.a},c4e2:function(t,e,i){},c97a:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-text-field",t._g(t._b({attrs:{slot:"activator",value:t.value,solo:"","hide-details":"",color:"#657186",readonly:""},slot:"activator"},"v-text-field",t.$attrs,!1),o))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[i("v-date-picker",{attrs:{clearable:"",color:"#657186",max:t.max,min:t.min,"no-title":"",scrollable:""},model:{value:t.picker_date,callback:function(e){t.picker_date=e},expression:"picker_date"}},[i("v-spacer"),i("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.cancel}},[t._v("Cancel")]),i("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.save}},[t._v("OK")]),i("v-btn",{attrs:{text:"",outlined:"",color:"#657186"},on:{click:t.clear}},[t._v("Clear")])],1)],1)},a=[],s={name:"DatePicker",inheritAttrs:!1,props:{value:{type:String,default:null},min:{type:String,default:null},max:{type:String,default:null}},data:function(){return{menu:!1,picker_date:null}},watch:{value:function(t){this.picker_date=t}},methods:{save:function(){this.$emit("input",this.picker_date),this.cancel()},cancel:function(){this.menu=!1},clear:function(){this.picker_date=null}}},n=s,r=(i("d6cd"),i("2877")),l=Object(r["a"])(n,o,a,!1,null,"88623ac2",null);e["a"]=l.exports},c9bd:function(t,e,i){},ce4f:function(t,e,i){},d669:function(t,e,i){"use strict";var o=i("c4e2"),a=i.n(o);a.a},d6cd:function(t,e,i){"use strict";var o=i("7b66"),a=i.n(o);a.a},df11:function(t,e,i){"use strict";var o=i("35a3"),a=i.n(o);a.a},e10a:function(t,e,i){},e6d3:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var o=i("1be9"),a={get_invoices:function(t){return o["a"].get("api/invoice?page=".concat(t))},delete_invoice:function(t){return o["a"].delete("api/invoice/".concat(t))},create_invoice:function(t){return o["a"].post("api/invoice",t)},update_invoice:function(t,e){return o["a"].post("api/invoice/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}})},get_all_projects:function(){return o["a"].get("api/projects?all=true")},get_projects_tasks:function(t){return o["a"].get("api/projects/".concat(t,"/tasks-for-invoice"))}}},e93d:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invoice-dialog"},[i("v-layout",{attrs:{"justify-center":""}},[i("v-dialog",{attrs:{fullscreen:"",persistent:"","no-click-animation":"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.invoice_dialog,callback:function(e){t.invoice_dialog=e},expression:"invoice_dialog"}},[i("DialogToolbar",{on:{created:function(e){return t.$emit("created",e)},updated:function(e){return t.$emit("updated",e)}}}),i("div",{staticClass:"content"},[i("v-container",{staticStyle:{"max-width":"900px"},attrs:{fluid:""}},[i("v-layout",{staticClass:"first-row info-section",attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("TopLeft")],1),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("TopRight")],1)],1),i("v-layout",{staticClass:"second-row",attrs:{wrap:""}},[i("TableSection")],1),i("v-layout",{staticClass:"third-row additional-info-section",attrs:{wrap:"","justify-space-between":""}},[i("v-flex",{staticClass:"left-content",attrs:{sm6:"",xs12:""}},[i("BottomLeft")],1),i("v-flex",{staticClass:"right-content",attrs:{sm6:"",xs12:""}},[i("BottomRight")],1)],1)],1)],1)],1)],1)],1)},a=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),n=i("2f62"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dialog"},[i("v-toolbar",{attrs:{dark:"",color:"#3b589e",height:"60"}},[i("v-toolbar-title",{staticClass:"dialog-title"},["view"===t.dialog.type?[i("v-btn",{attrs:{icon:"",title:"download"}},[i("v-icon",[t._v("cloud_download")])],1),"client"===t.user.role?[i("v-btn",{attrs:{text:"",dark:"",outlined:""}},[t._v("Pay")])]:[i("v-btn",{attrs:{text:"",dark:"",outlined:""}},[t._v("Remind")])]]:i("span",[t._v(t._s(t.toolbar.title))])],2),i("v-spacer"),i("v-toolbar-items",{staticClass:"dialog-send"},["view"!==t.dialog.type?i("v-btn",{attrs:{disabled:!t.can_submit,text:""},on:{click:t.save_invoice}},[t._v(" Submit ")]):t._e(),i("v-btn",{attrs:{icon:"",dark:""},on:{click:t.close_dialog}},[i("v-icon",[t._v("close")])],1)],1)],1)],1)},l=[],c=(i("6762"),i("2fdb"),i("e6d3"));function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var v={computed:u({},Object(n["c"])("invoice",["toolbar","can_create_invoice","can_edit_invoice","dialog","invoice"]),{},Object(n["c"])(["user"]),{can_submit:function(){return"create"===this.dialog.type?this.can_create_invoice:"edit"===this.dialog.type&&this.can_edit_invoice}}),methods:u({},Object(n["d"])("invoice",["set_dialog","revert_invoice"]),{save_invoice:function(){this.can_submit&&("create"===this.dialog.type&&this.create_invoice(),"edit"===this.dialog.type&&this.update_invoice())},create_invoice:function(){var t=this;c["a"].create_invoice(this.get_invoice()).then((function(e){var i=e.data;return t.$emit("created",i)})).finally((function(){t.$store.commit("invoice/reset_state")}))},update_invoice:function(){var t=this;c["a"].update_invoice(this.get_invoice(),this.invoice.invoice_id).then((function(e){var i=e.data;return t.$emit("updated",i)})).finally((function(){t.$store.commit("invoice/reset_state")}))},get_invoice:function(){var t=new FormData;t.append("company_logo",this.invoice.company_logo),t.append("project_id",this.invoice.selected_project||0),t.append("type",this.invoice.type),t.append("title",this.invoice.title),t.append("billed_to",this.invoice.billed_to),t.append("billed_from",this.invoice.billed_from),t.append("date",this.invoice.date),t.append("due_date",this.invoice.due_date),t.append("total_amount",this.invoice.total_amount),t.append("items",JSON.stringify(this.invoice.rows)),t.append("terms",this.invoice.terms),t.append("notes",this.invoice.notes);var e=this.calculate_field(this.invoice,"tax"),i=this.calculate_field(this.invoice,"discount"),o=this.calculate_field(this.invoice,"shipping");return t.append("tax",0==e?0:e.value),t.append("discount",0==i?0:i.value),t.append("shipping",0==o?0:o.value),t.append("symbol",0==e?"":e.symbol),t},calculate_field:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t[e].show&&i?{value:t[e].value,symbol:t[e].symbol}:t[e].show&&!i?{value:t[e].value}:0},close_dialog:function(){["view","edit"].includes(this.dialog.type)&&this.revert_invoice(),this.set_dialog({type:null,open:!1})}})},p=v,f=(i("1060"),i("2877")),_=Object(f["a"])(p,r,l,!1,null,"f3349548",null),m=_.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left__side"},["view"!==t.dialog.type||t.image_preview?i("div",{staticClass:"add__logo_box",on:{click:function(e){"view"!==t.dialog.type&&t.$refs.hidden_input.click()}}},[t.image_preview?i("img",{staticClass:"image-preview",attrs:{src:t.image_preview}}):i("span",{staticClass:"text"},[t._v("+ Add Your Logo")]),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.image_preview&&"view"!==t.dialog.type,expression:"image_preview && dialog.type !== 'view'"}],staticClass:"button",attrs:{outlined:""}},[t._v("Remove")]),i("input",{ref:"hidden_input",staticClass:"hidden-input",attrs:{type:"file",accept:"image/*"},on:{change:t.file_selected}})],1):t._e(),i("div",{staticClass:"bill__from"},[t._m(0),i("v-text-field",{staticClass:"textfield",attrs:{disabled:"view"===t.dialog.type,label:"Who is this invoice from",solo:"","hide-details":"",color:"#657186",flat:""},model:{value:t.billed_from,callback:function(e){t.billed_from=e},expression:"billed_from"}})],1),i("div",{staticClass:"bill__to"},[t._m(1),i("v-text-field",{staticClass:"textfield",attrs:{disabled:"view"===t.dialog.type,label:"Who is this invoice to",solo:"","hide-details":"",color:"#657186",flat:""},model:{value:t.billed_to,callback:function(e){t.billed_to=e},expression:"billed_to"}})],1)])},h=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form__label"},[t._v("Bill From: "),i("span",{staticClass:"required"},[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form__label"},[t._v("Bill To: "),i("span",{staticClass:"required"},[t._v("*")])])}],g=i("7618"),y=i("1be9");function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var x={data:function(){return{image_preview:null}},computed:O({},Object(n["c"])("invoice",["company_logo","dialog"]),{billed_to:{get:function(){return this.$store.getters["invoice/billed_to"]},set:function(t){this.$store.commit("invoice/set_billed_to",t)}},billed_from:{get:function(){return this.$store.getters["invoice/billed_from"]},set:function(t){this.$store.commit("invoice/set_billed_from",t)}}}),watch:{company_logo:function(t){var e=this;if(t)if("object"===Object(g["a"])(t)){var i=new FileReader;i.onload=function(t){e.image_preview=t.target.result},i.readAsDataURL(t)}else this.image_preview=t;else this.image_preview=null}},methods:{file_selected:function(t){var e=this;if(t.target.files&&t.target.files[0]){var i=new FormData;i.append("file",t.target.files[0]),y["a"].post("api/file/image-upload",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var i=t.data;e.$store.commit("invoice/set_company_logo",i.url)}))}}}},j=x,C=(i("b011"),i("2b03"),Object(f["a"])(j,b,h,!1,null,"249622fe",null)),k=C.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"right__side",attrs:{column:"","align-end":"",wrap:""}},[i("div",{staticClass:"invoice__title"},[i("v-text-field",{staticClass:"titlefield",attrs:{disabled:"view"===t.dialog.type,color:"#657186",solo:"","hide-details":"",flat:"",placeholder:"Add Invoice Title *"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1),"create"!==t.dialog.type?i("div",{staticClass:"field"},[i("div",{staticClass:"field__label"},[t._v("Invoice ID:")]),i("v-text-field",{staticClass:"textfield",attrs:{disabled:"view"===t.dialog.type||"edit"===t.dialog.type,color:"#657186",solo:"","hide-details":"",flat:"",placeholder:"#",value:t.invoice_id}})],1):t._e(),i("div",{staticClass:"invoice__type field"},[i("div",{staticClass:"field__label"},[t._v(" "+t._s("view"===t.dialog.type?"Type:":"Select Type:")+" ")]),i("v-select",{staticClass:"textfield",attrs:{disabled:"view"===t.dialog.type,solo:"","hide-details":"",color:"#657186",flat:"",items:["hourly","monthly"],placeholder:"Select Invoice Type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),"hourly"===t.type?i("div",{staticClass:"field"},[i("div",{staticClass:"field__label"},[t._v(" "+t._s("view"===t.dialog.type?"Project:":"Select Project:")+" ")]),i("v-select",{staticClass:"textfield",attrs:{disabled:"view"===t.dialog.type,solo:"","hide-details":"",color:"#657186",flat:"",items:t.projects,value:t.selected_project,"item-text":"title","item-value":"id",placeholder:"Select Project"},on:{change:function(e){return t.set_selected_project(e)}}})],1):t._e(),i("div",{staticClass:"invoice__dates"},[i("div",{staticClass:"created__date"},[i("div",{staticClass:"field__label"},[t._v(" Invoice Date:"),i("span",{staticClass:"required"},[t._v("*")])]),"view"===t.dialog.type?i("v-text-field",{staticClass:"textfield",attrs:{value:t.date,flat:"",solo:"","hide-details":"",color:"#657186",disabled:""}}):i("date-picker",{staticClass:"textfield",attrs:{solo:"","hide-details":"",color:"#657186",flat:"",placeholder:"Select Date",value:t.date,max:t.due_date},on:{input:function(e){return t.update_date({date:e,field:"date"})}}})],1),i("div",{staticClass:"due__date"},[i("div",{staticClass:"field__label"},[t._v("Due Date:"),i("span",{staticClass:"required"},[t._v("*")])]),"view"===t.dialog.type?i("v-text-field",{staticClass:"textfield",attrs:{value:t.due_date,flat:"",solo:"","hide-details":"",color:"#657186",disabled:""}}):i("date-picker",{staticClass:"textfield",attrs:{solo:"","hide-details":"",color:"#657186",flat:"",placeholder:"Select Date",value:t.due_date,min:t.date},on:{input:function(e){return t.update_date({date:e,field:"due_date"})}}})],1)])])},D=[],$=i("c97a");function S(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function E(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?S(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var T={components:{DatePicker:$["a"]},computed:E({},Object(n["c"])("invoice",["projects","selected_project","due_date","date","dialog","invoice_id","type"]),{title:{get:function(){return this.$store.getters["invoice/title"]},set:function(t){this.$store.commit("invoice/set_title",t)}},type:{get:function(){return this.$store.getters["invoice/type"]},set:function(t){this.set_type(t)}}}),watch:{type:function(t){"monthly"===t&&this.type_changed_to_monthly()}},methods:E({},Object(n["b"])("invoice",["type_changed_to_monthly"]),{},Object(n["d"])("invoice",["init_date","set_type","set_selected_project","update_date"]))},N=T,R=(i("d669"),i("a7a4"),Object(f["a"])(N,P,D,!1,null,"82938602",null)),B=R.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"second-row table-section"},[t._m(0),i("div",{staticClass:"table-body"},["view"!==t.dialog.type?i("div",{staticClass:"active row"},[i("v-text-field",{staticClass:"textfield",attrs:{label:"Descriptions",solo:"",flat:"",color:"#657186","hide-details":""},model:{value:t.active_row.descriptions,callback:function(e){t.$set(t.active_row,"descriptions","string"===typeof e?e.trim():e)},expression:"active_row.descriptions"}}),i("v-text-field",{staticClass:"textfield",attrs:{min:"0",type:"number",label:"Rate",solo:"",flat:"",color:"#657186","hide-details":""},model:{value:t.active_row.rate,callback:function(e){t.$set(t.active_row,"rate",t._n("string"===typeof e?e.trim():e))},expression:"active_row.rate"}}),i("v-text-field",{staticClass:"textfield",attrs:{min:"0",type:"number",label:"Hours",solo:"",flat:"",color:"#657186","hide-details":""},model:{value:t.active_row.hours,callback:function(e){t.$set(t.active_row,"hours",t._n("string"===typeof e?e.trim():e))},expression:"active_row.hours"}}),i("v-text-field",{staticClass:"textfield",attrs:{label:"Amount",solo:"",flat:"",color:"#657186","hide-details":"",value:t.calculate_amount(t.active_row),disabled:""}}),i("v-btn",{staticClass:"action",attrs:{color:"#1fb868",outlined:"",icon:"",disabled:t.should_disable},on:{click:t.add_new_row}},[i("v-icon",[t._v("add")])],1)],1):t._e(),t._l(t.rows,(function(e,o){return i("div",{key:o,staticClass:"row"},[i("v-text-field",{staticClass:"textfield",attrs:{label:"Descriptions",solo:"",flat:"",color:"#657186","hide-details":"",disabled:"view"===t.dialog.type,value:e.descriptions},on:{input:function(e){return t.row_updated("descriptions",e,o)}}}),i("v-text-field",{staticClass:"textfield",attrs:{min:"0",type:"number",label:"Rate",solo:"",flat:"",color:"#657186","hide-details":"",disabled:"view"===t.dialog.type,value:e.rate},on:{input:function(e){return t.row_updated("rate",e,o)}}}),i("v-text-field",{staticClass:"textfield",attrs:{min:"0",type:"number",label:"Hours",solo:"",flat:"",color:"#657186","hide-details":"",disabled:"view"===t.dialog.type,value:e.hours},on:{input:function(e){return t.row_updated("hours",e,o)}}}),i("v-text-field",{staticClass:"textfield",attrs:{label:"Amount",solo:"",flat:"",color:"#657186","hide-details":"",value:e.amount,disabled:""}}),"view"!==t.dialog.type?i("v-btn",{staticClass:"action",attrs:{color:"#ff7f7c",outlined:"",icon:""},on:{click:function(e){return t.delete_row(o)}}},[i("v-icon",[t._v("delete")])],1):t._e()],1)}))],2)])},A=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-headers"},[i("div",{staticClass:"column"},[t._v("Description"),i("span",{staticClass:"required"},[t._v("*")])]),i("div",{staticClass:"column"},[t._v("Rate"),i("span",{staticClass:"required"},[t._v("*")])]),i("div",{staticClass:"column"},[t._v("Hours"),i("span",{staticClass:"required"},[t._v("*")])]),i("div",{staticClass:"column"},[t._v("Amount"),i("span",{staticClass:"required"},[t._v("*")])])])}];i("c5f6");function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var L={data:function(){return{active_row:{descriptions:"",rate:"",hours:""}}},computed:q({},Object(n["c"])("invoice",["dialog","rows","selected_project"]),{should_disable:function(){var t=this.active_row,e=t.descriptions,i=t.rate,o=t.hours;return!e||!i||!o}}),watch:{selected_project:function(t){t&&this.fetch_projects_tasks(t)}},methods:{calculate_amount:function(t){return t.rate*t.hours},add_new_row:function(){var t=this.active_row,e=t.descriptions,i=t.rate,o=t.hours,a=this.calculate_amount(this.active_row);this.$store.commit("invoice/add_new_row",{descriptions:e,rate:i,hours:o,amount:a}),this.active_row={descriptions:"",rate:"",hours:""}},delete_row:function(t){this.$store.commit("invoice/delete_row",t)},row_updated:function(t,e,i){var o=q({},this.rows[i]);o[t]=Number(e),o.amount=o.hours*o.rate,this.$store.commit("invoice/update_row",{row:o,index:i})},fetch_projects_tasks:function(t){var e=this;this.$store.commit("set_custom_loader",!0),c["a"].get_projects_tasks(t).then((function(t){var i=t.data;return e.$store.dispatch("invoice/set_table_rows",i)})).finally((function(){return e.$store.commit("set_custom_loader",!1)}))}}},H=L,J=(i("9a39"),i("af51"),Object(f["a"])(H,F,A,!1,null,"50cdfea8",null)),W=J.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-side"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEmptyField("view"===t.dialog.type,t.notes),expression:"!isEmptyField(dialog.type === 'view', notes)"}],staticClass:"notes"},[i("div",{staticClass:"field__label"},[t._v("Notes")]),i("v-textarea",{staticClass:"textarea__field",attrs:{label:"Notes - any revelant information not already covered",value:t.notes,disabled:"view"===t.dialog.type,flat:"",solo:"","hide-details":"",color:"#657186"},on:{input:function(e){return t.update_textarea(e,"notes")}}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEmptyField("view"===t.dialog.type,t.terms),expression:"!isEmptyField(dialog.type === 'view', terms)"}],staticClass:"Terms"},[i("div",{staticClass:"field__label"},[t._v("Terms")]),i("v-textarea",{staticClass:"textarea__field",attrs:{label:"Terms and conditions - late fees, payment methods, delivery schedule",value:t.terms,disabled:"view"===t.dialog.type,flat:"",solo:"","hide-details":"",color:"#657186"},on:{input:function(e){return t.update_textarea(e,"terms")}}})],1)])},U=[];function Y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var G={data:function(){return{}},computed:z({},Object(n["c"])("invoice",["notes","terms","dialog"])),methods:{update_textarea:function(t,e){this.$store.commit("invoice/set_textarea",{new_val:t,field:e})},isEmptyField:function(t,e){if(t&&!e)return!0}}},M=G,Q=(i("1911"),i("524b"),Object(f["a"])(M,K,U,!1,null,"166753f7",null)),V=Q.exports,X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right-side"},[i("h3",{staticClass:"subtotal"},[t._v("Subtotal: "+t._s(t.subtotal)+" $")]),i("field",{attrs:{title:"Tax","symbol-type":"tax_symbol",symbol:t.tax.symbol,value:t.tax.value,classes:["tax","field"],show:t.tax.show,disabled:"view"===t.dialog.type},on:{input:function(e){return t.set_field({new_val:e,field:"tax"})},"toggle-symbol":function(e){return t.toggle_symbol("tax")},toggle_visibility:function(e){return t.toggle_visibility({new_val:e,field:"tax"})}}}),i("field",{attrs:{title:"Discount","symbol-type":"discount_symbol",symbol:t.discount.symbol,value:t.discount.value,classes:["discount","field"],show:t.discount.show,readonly:"view"===t.dialog.type},on:{input:function(e){return t.set_field({new_val:e,field:"discount"})},"toggle-symbol":function(e){return t.toggle_symbol("discount")},toggle_visibility:function(e){return t.toggle_visibility({new_val:e,field:"discount"})}}}),i("field",{attrs:{"no-symbol":"",title:"Shipping",value:t.shipping.value,classes:["shipping","field"],show:t.shipping.show,readolny:"view"===t.dialog.type},on:{input:function(e){return t.set_field({new_val:e,field:"shipping"})},toggle_visibility:function(e){return t.toggle_visibility({new_val:e,field:"shipping"})}}}),"view"!==t.dialog.type?i("div",{staticClass:"fields-to-add"},[i("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.discount.show,expression:"!discount.show"}],staticClass:"btn mr-1",attrs:{color:"#3b589e",dark:""},on:{click:function(e){return t.toggle_visibility({new_val:!t.discount.show,field:"discount"})}}},[i("v-icon",[t._v("add")]),t._v(" Discount ")],1),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.tax.show,expression:"!tax.show"}],staticClass:"btn mr-1",attrs:{color:"#3b589e",dark:""},on:{click:function(e){return t.toggle_visibility({new_val:!t.tax.show,field:"tax"})}}},[i("v-icon",[t._v("add")]),t._v(" Tax ")],1),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.shipping.show,expression:"!shipping.show"}],staticClass:"btn mr-1",attrs:{color:"#3b589e",dark:""},on:{click:function(e){return t.toggle_visibility({new_val:!t.shipping.show,field:"shipping"})}}},[i("v-icon",[t._v("add")]),t._v(" Shipping ")],1)],1):t._e(),i("h2",{staticClass:"total"},[t._v("Total: "+t._s(t.total)+" $")])],1)},Z=[],tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.classes},[i("div",{staticClass:"field__label"},[t._v(t._s(t.title))]),i("v-text-field",{staticClass:"textfield",attrs:{text:"","hide-details":"",color:"657186",solo:"",type:"number",min:"0",value:t.value},on:{input:function(e){return t.$emit("input",e)}},scopedSlots:t._u([t.noSymbol?null:{key:"append",fn:function(){return[i("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.symbol))])]},proxy:!0}],null,!0)},[t.noSymbol?t._e():i("v-tooltip",{staticClass:"toggle-btn",attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{icon:"",color:"#657186",text:""},on:{click:function(e){return t.$emit("toggle-symbol",t.symbolType)}}},o),[i("v-icon",[t._v("compare_arrows")])],1)]}}],null,!1,3112006633)},[i("span",[t._v("Toggle "+t._s(t.title))])])],1),i("v-btn",{staticClass:"ml-1",attrs:{outlined:"",color:"#ff7f7c",icon:""},on:{click:function(e){return t.$emit("toggle_visibility",!t.show)}}},[i("v-icon",[t._v("delete")])],1)],1)},et=[],it={props:{title:String,show:Boolean,classes:Array,value:[String,Number],symbol:String,symbolType:String,noSymbol:Boolean}},ot=it,at=(i("df11"),i("7a19"),Object(f["a"])(ot,tt,et,!1,null,"5987a288",null)),st=at.exports;function nt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function rt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var lt={components:{Field:st},computed:rt({},Object(n["c"])("invoice",["rows","tax","discount","shipping","dialog"]),{subtotal:function(){return this.rows.length?this.rows.reduce((function(t,e){return t+e.amount}),0):"0"},total:function(){var t=Number(this.subtotal);return this.discount.show&&("%"===this.discount.symbol?t-=Number(this.subtotal*this.discount.value/100):t-=Number(this.discount.value)),this.tax.show&&("%"===this.tax.symbol?t+=Number(this.subtotal*this.tax.value/100):t+=Number(this.tax.value)),this.shipping.show&&(t+=Number(this.shipping.value)),t}}),watch:{total:function(t){this.$store.commit("invoice/set_total_amount",t)}},methods:rt({},Object(n["d"])("invoice",["toggle_visibility","set_field","toggle_symbol"]))},ct=lt,dt=(i("9719"),i("c04c"),Object(f["a"])(ct,X,Z,!1,null,"140d8580",null)),ut=dt.exports;function vt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function pt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):vt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ft={components:{DialogToolbar:m,TopLeft:k,TopRight:B,TableSection:W,BottomLeft:V,BottomRight:ut},props:{type:String},data:function(){return{copied_invoice:null}},computed:pt({},Object(n["c"])("invoice",["dialog"]),{invoice_dialog:function(){return this.dialog.open&&this.dialog.type===this.type}}),methods:pt({},Object(n["d"])("invoice",["set_dialog"]))},_t=ft,mt=(i("6514"),Object(f["a"])(_t,o,a,!1,null,"2be69883",null));e["a"]=mt.exports},eae5:function(t,e,i){}}]);
//# sourceMappingURL=chunk-434539f2.c3cff267.js.map