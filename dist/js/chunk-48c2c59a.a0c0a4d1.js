(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48c2c59a"],{"174f":function(t,e,i){},"18a2":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"milestone"},[i("milestone-dialog",{ref:"add_dialog",attrs:{dialog:t.add_dialog,dialogTitle:"Add Milestone"},on:{"update:dialog":function(e){t.add_dialog=e},save:function(e){return t.add_item("add_new_milestone",e,t.dynamic_api)}}}),i("milestone-dialog",{ref:"edit_dialog",attrs:{dialog:t.edit_dialog,dialogTitle:"Edit Milestone","is-edit-dialog":t.edit_dialog,"fields-to-edit":t.edit_item},on:{"update:dialog":function(e){t.edit_dialog=e},save:function(e){return t.update_item("edit_milestone",e,t.dynamic_api)}}}),i("delete-dialog",{attrs:{"open-dialog":t.bulk_delete_dialog,title:"Delete Milestone","text-content":"This will also deletes all tasks associated with this milestones. <br>Are you sure you want to delete this milestones?"},on:{"update:openDialog":function(e){t.bulk_delete_dialog=e},"update:open-dialog":function(e){t.bulk_delete_dialog=e},delete:function(e){return t.bulk_delete_via_url(t.dynamic_bulk_delete_api)}}}),i("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Milestone","text-content":"This will also deletes all tasks associated with this milestone. <br>Are you sure you want to delete this milestone?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:function(e){return t.delete_item("delete_milestone",t.dynamic_api)}}}),i("v-layout",[i("v-flex",{attrs:{xs12:""}},[i("VueTable",{key:t.componentKey,attrs:{items:t.items,headers:t.headers,showRowActions:!0,title:t.template_name,loading:t.loading,noMoreData:t.noMoreData},on:{"load-more":t.load_more,"delete-selected":function(e){return t.open_bulk_delete_dialog(e)}},scopedSlots:t._u([{key:"row-slot",fn:function(e){var n=e.item;return[i("td",{staticClass:"text-xs-left text-cap clickable-td",on:{click:function(e){return t.navigate_to_milestone_page(n)}}},[t._v(" "+t._s(t._f("ucwords")(n.title))+" ")]),i("td",{staticClass:"text-xs-left text-cap"},[t._v(t._s(n.tasks_count))]),i("td",{staticClass:"text-xs-left text-cap"},[t._v(t._s(n.status))]),i("td",{staticClass:"text-xs-left"},[t._v(t._s(0!==n.days&&n.days?n.days:"Not set"))]),i("Actions",{attrs:{item:n,permissions:t.$_permissions.get("hq_milestones")},on:{edit:function(e){return t.open_edit_dialog(n)},delete:function(e){return t.open_delete_dialog(n)},view:function(e){return t.navigate_to_milestone_page(n)}}})]}},{key:"empty-slot",fn:function(){return[i("v-btn",{attrs:{dark:"",color:"#3b589e"},on:{click:function(e){t.add_dialog=!0}}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-plus-circle-outline")]),t._v(" Add Milestone ")],1)]},proxy:!0}])},[i("template",{slot:"header-toolbar"},[i("table-header",{on:{click:function(e){t.add_dialog=!0}}})],1)],2)],1)],1)],1)},a=[],o=(i("7f7f"),i("c5f6"),i("e06e")),l=i("0ebe"),s=i("ee09"),d=i("5b70"),c=i("29d6"),u=i("602d"),r=i("d4e9"),_={name:"Milestone",mixins:[o["a"]],components:{VueTable:l["a"],MilestoneDialog:u["a"],DeleteDialog:d["a"],TableHeader:c["a"],Actions:s["a"]},props:{id:[Number,String]},data:function(){return{template_name:"",paths:[{text:"Dashboard",disabled:!1,route:{name:"default-content"}},{text:"Templates",disabled:!1,route:{name:"templates"}},{text:"Milestones",disabled:!0}],headers:[{text:"Title",value:"title"},{text:"Tasks",value:"tasks_count",width:100},{text:"Status",value:"status",width:100},{text:"Days",value:"days",width:100},{text:"Action",value:"action",align:"center",width:180,sortable:!1}],table_config:{route_name:"templates/milestone",add_message:"New Milestone added successfully!",update_message:"Milestone updated successfully!",delete_message:"Milestone deleted successfully!"}}},computed:{dynamic_api:function(){return"api/template/".concat(this.id,"/milestone")},dynamic_bulk_delete_api:function(){return"api/template/".concat(this.id,"/milestone/bulk-delete")}},created:function(){var t=this;this.fill_table_via_url(this.dynamic_api),r["a"].get_milestones("api/template/".concat(this.id)).then((function(e){var i=e.data;return t.template_name=i.name})).finally((function(){return t.loading=!1}))},mounted:function(){this.$event.$emit("path-change",this.paths)},methods:{navigate_to_milestone_page:function(t){this.$router.push({name:"templates/milestone/task",params:{milestone_id:t.id,template_id:this.id}})},load_more:function(){this.load_more_via_url(this.dynamic_api)}}},p=_,f=(i("ecad"),i("2877")),v=Object(f["a"])(p,n,a,!1,null,"8a482284",null);e["default"]=v.exports},"29d6":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-header"},[t._t("prepends"),t.noButton?t._e():i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"add__btn ml-2",on:{click:function(e){return t.$emit("click")}}},"v-icon",a,!1),n),[t._v(" mdi-plus-circle-outline ")])]}}],null,!1,832533837)},[i("span",[t._v("Create new")])]),t._t("center"),t.noSortButton?t._e():i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",on:{click:function(e){return t.$emit("click-sort-by")}}},"v-icon",a,!1),n),[t._v(" sort ")])]}}],null,!1,247375115)},[i("span",[t._v("Sort")])]),t.noListButton?t._e():i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",attrs:{color:"list"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-list-view")}}},"v-icon",a,!1),n),[t._v(" mdi-view-list ")])]}}],null,!1,3129698352)},[i("span",[t._v("List view")])]),t.noGridButton?t._e():i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"add__btn ml-2",attrs:{fab:"",color:"grid"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-grid-view")}}},"v-icon",a,!1),n),[t._v(" mdi-view-grid ")])]}}],null,!1,965392321)},[i("span",[t._v("Grid view")])]),t._t("form-btn")],2)},a=[],o={name:"TableHeader",props:{noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},computed:{activeView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"}}},l=o,s=(i("3bac"),i("2877")),d=Object(s["a"])(l,n,a,!1,null,"0976c0ba",null);e["a"]=d.exports},"3bac":function(t,e,i){"use strict";var n=i("a6a8"),a=i.n(n);a.a},"3e53":function(t,e,i){"use strict";var n=i("a38d"),a=i.n(n);a.a},"57e5":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{"justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":t.maxWidth,scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?i("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):i("v-card",{staticClass:"custom__dialog"},[i("div",{staticClass:"dialog__header"},[t._t("entire-header",[t._t("title",[i("h3",{staticClass:"dialog__title"},[t._v(t._s(t.title))])]),t._t("extra-buttons"),t._t("cancel-icon",[i("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:"",depressed:""},on:{click:t.close_dialog}},[i("v-icon",[t._v("close")])],1)])]),t._t("below-title")],2),i("v-card-text",{staticClass:"dialog__body"},[t._t("content",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t.hasFooter?i("v-card-actions",{staticClass:"dialog__actions"},[t._t("entire-actions",[t._t("extras"),t._t("button1",[i("v-btn",{attrs:{disabled:t.btnloading},on:{click:t.button1clicked}},[t._v(t._s(t.button1Text))])]),t._t("button2",[i("v-btn",{attrs:{loading:t.btnloading,disabled:t.mainBtnDisabled},on:{click:t.button2clicked}},[t._v(t._s(t.button2Text))])])])],2):t._e()],1)],1)],1)},a=[],o=(i("c5f6"),{props:{title:{type:String,default:""},content:{type:String,default:""},button1Text:{type:String,default:"Cancel"},button2Text:{type:String,default:"Delete"},open:Boolean,value:Boolean,mainBtnDisabled:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},maxWidth:{type:[Number,String],default:"600px"}},data:function(){return{dialog:!1,loading:!1,btnloading:!1}},mounted:function(){var t=this;this.$event.$on("btnloading_off",(function(e){t.btnloading=!1}))},watch:{value:{handler:function(t){this.dialog=t},immediate:!0},open:function(t){this.dialog=t,this.btnloading=!1},dialog:function(t){this.$emit("update:open",t),this.$emit("input",t)}},methods:{button1clicked:function(){this.$emit("button1"),this.close_dialog()},button2clicked:function(){this.btnloading=!0,this.$emit("button2")},open_dialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1,this.btnloading=!1,this.$emit("click:close",!0)},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.close_dialog()},activate_loading:function(){this.loading=!0},disable_loading:function(){this.loading=!1}}}),l=o,s=(i("f436"),i("5882"),i("2877")),d=Object(s["a"])(l,n,a,!1,null,"17401548",null);e["a"]=d.exports},5882:function(t,e,i){"use strict";var n=i("5c1e"),a=i.n(n);a.a},"5b70":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("custom-dialog",{attrs:{title:t.title,content:t.textContent,"button1-text":t.cancelButtonText,"button2-text":t.deleteButtonText,open:t.open},on:{"update:open":function(e){t.open=e},button1:t.cancel_clicked,button2:t.delete_clicked},scopedSlots:t._u([{key:"content",fn:function(){return[t._t("content",[i("v-banner",{attrs:{"two-line":"",outlined:"",tile:"",flat:""}},[i("v-icon",{attrs:{slot:"icon","x-large":"",color:"red accent-4"},slot:"icon"},[t._v(" mdi-alert-octagram ")]),i("p",{staticClass:"subtitle-1",domProps:{innerHTML:t._s(t.textContent)}})],1)])]},proxy:!0}],null,!0)})],1)},a=[],o=i("57e5"),l={components:{CustomDialog:o["a"]},props:{title:{type:String,default:"Default Modal Title"},textContent:{type:String,default:"Default Modal Text Content"},cancelButtonText:{type:String,default:"Cancel"},deleteButtonText:{type:String,default:"Yes, Delete"},openDialog:Boolean},data:function(){return{open:!1}},watch:{openDialog:function(t){this.open=t},open:function(t){this.$emit("update:openDialog",t)}},methods:{cancel_clicked:function(){this.open=!1},delete_clicked:function(){this.$emit("delete")},showDialog:function(){this.open=!0},closeDialog:function(){this.open=!1}}},s=l,d=i("2877"),c=Object(d["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports},"5c1e":function(t,e,i){},"602d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("custom-dialog",{ref:"dialog",attrs:{title:t.dialogTitle,open:t.open},on:{"update:open":function(e){t.open=e},button1:t.cancel},scopedSlots:t._u([{key:"button2",fn:function(){return[i("v-btn",{attrs:{disabled:t.disabled_btn,loading:t.btnloading},on:{click:t.save}},[t._v("Save")])]},proxy:!0}])},[i("template",{slot:"content"},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{dense:"",label:"Milestone Title *",filled:"",counter:"","hide-details":"auto",maxlength:"60"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-select",{staticClass:"dialog__selectfield d-field",attrs:{dense:"",label:"Status *",items:["Active","Inactive"],filled:"","hide-details":"auto"},model:{value:t.status,callback:function(e){t.status="string"===typeof e?e.trim():e},expression:"status"}})],1),i("v-col",[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{dense:"",label:t.days_label,type:"number",filled:"",min:"1","hide-details":"auto",disabled:t.disabled},model:{value:t.days,callback:function(e){t.days=t._n(e)},expression:"days"}})],1),i("v-col",{attrs:{cols:"5"}},[i("v-checkbox",{staticClass:"mx-2",attrs:{label:"No Specific Days"},model:{value:t.disabled,callback:function(e){t.disabled=e},expression:"disabled"}})],1)],1)],1)],1)],1)],2)},a=[],o=i("57e5"),l={name:"MilestoneDialog",components:{CustomDialog:o["a"]},props:{dialog:Boolean,dialogTitle:String,isEditDialog:Boolean,fieldsToEdit:{type:Object,default:function(){}}},data:function(){return{open:!1,title:null,status:"Active",days_init_value:1,disabled:!1,btnloading:!1}},computed:{days:{get:function(){return this.days_init_value},set:function(t){parseInt(t)<1?this.days_init_value=1:this.days_init_value=t}},days_label:function(){return this.disabled?"Days":"Days *"},disabled_btn:function(){return!this.title||!this.status}},watch:{dialog:function(t){this.open=t,this.btnloading=!1},open:function(t){this.$emit("update:dialog",t)},fieldsToEdit:{handler:function(t){this.isEditDialog&&this.update_fields(t)},deep:!0}},methods:{cancel:function(){this.open=!1},save:function(){var t={title:this.title,status:this.status,days:this.disabled?0:this.days};this.btnloading=!0,this.$emit("save",t),console.log(t)},update_fields:function(t){var e=t.fields,i=Object.assign({},e);this.title=i.title,this.status=i.status,this.days=this.disabled?0:i.days,console.log(i)},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.cancel()}}},s=l,d=(i("3e53"),i("2877")),c=Object(d["a"])(s,n,a,!1,null,"303d9f35",null);e["a"]=c.exports},"7e7e":function(t,e,i){"use strict";var n=i("174f"),a=i.n(n);a.a},a38d:function(t,e,i){},a6a8:function(t,e,i){},b320:function(t,e,i){},b709:function(t,e,i){},ecad:function(t,e,i){"use strict";var n=i("b320"),a=i.n(n);a.a},ee09:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{staticClass:"table-actions",attrs:{align:"center"}},[t.hasEdit?i("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_edit,expression:"can_edit"}],attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("edit")}}},n),[i("v-icon",[t._v(t._s(t.editIcon))])],1)]}}],null,!1,4170341451)},[i("span",[t._v("Edit")])]):t._e(),t.hasView?i("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_view,expression:"can_view"}],attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("view")}}},n),[i("v-icon",[t._v(t._s(t.viewIcon))])],1)]}}],null,!1,701816587)},[i("span",[t._v("View")])]):t._e(),t.hasDelete?i("v-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.can_delete,expression:"can_delete"}],attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("delete")}}},n),[i("v-icon",[t._v(t._s(t.deleteIcon))])],1)]}}],null,!1,4164065227)},[i("span",[t._v("Delete")])]):t._e(),t._t("extra")],2)},a=[],o={props:{item:{type:Object,default:null},permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},editIcon:{type:String,default:"mdi-circle-edit-outline"},viewIcon:{type:String,default:"mdi-eye-circle-outline"},deleteIcon:{type:String,default:"mdi-delete-circle-outline"},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0}},computed:{logged_user:function(){return this.$store.getters.user}},methods:{handle_action:function(t){this.item&&this.$emit(t,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.view}}},l=o,s=(i("7e7e"),i("2877")),d=Object(s["a"])(l,n,a,!1,null,null,null);e["a"]=d.exports},f436:function(t,e,i){"use strict";var n=i("b709"),a=i.n(n);a.a}}]);
//# sourceMappingURL=chunk-48c2c59a.a0c0a4d1.js.map