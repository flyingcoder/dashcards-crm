{"version":3,"sources":["webpack:///./src/common/TableHeader.vue?875e","webpack:///src/common/TableHeader.vue","webpack:///./src/common/TableHeader.vue?1330","webpack:///./src/common/TableHeader.vue","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/croppie/croppie.js","webpack:///./node_modules/core-js/modules/es6.regexp.search.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_same-value.js","webpack:///./src/common/BaseComponents/Loader.vue?8ef2","webpack:///src/common/BaseComponents/Loader.vue","webpack:///./src/common/BaseComponents/Loader.vue?932e","webpack:///./src/common/BaseComponents/Loader.vue","webpack:///./src/common/CropImage.vue?53e4","webpack:///src/common/CropImage.vue","webpack:///./src/common/CropImage.vue?7674","webpack:///./src/common/CropImage.vue","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/toNumber.js","webpack:///./src/common/TableHeader.vue?21ca","webpack:///./src/common/BaseComponents/Loader.vue?2394","webpack:///./src/services/list-functionality/methods.js","webpack:///./src/services/list-functionality/list-functionality.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","noButton","_e","attrs","scopedSlots","_u","key","fn","ref","on","_g","_b","$event","$emit","_v","noSortButton","noListButton","activeView","noGridButton","_t","staticRenderFns","component","fails","module","exports","method","arg","call","root","factory","self","Promise","a","b","apply","arguments","c","TypeError","_state","_value","_deferreds","i","e","f","d","push","k","onFulfilled","onRejected","reject","resolve","then","g","length","h","j","setTimeout","setImmediate","l","Array","isArray","Object","prototype","toString","all","slice","constructor","race","_setImmediateFn","window","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","Event","HTMLCanvasElement","toBlob","defineProperty","value","callback","type","quality","binStr","atob","toDataURL","split","len","arr","Uint8Array","charCodeAt","Blob","CSS_TRANS_ORG","CSS_TRANSFORM","CSS_USERSELECT","cssPrefixes","emptyStyles","createElement","style","EXIF_NORM","EXIF_FLIP","vendorPrefix","prop","capProp","toUpperCase","getExifOffset","ornt","rotate","indexOf","index","offset","deepExtend","destination","source","property","clone","object","debounce","func","wait","immediate","timeout","context","args","later","callNow","clearTimeout","dispatchChange","element","initEvent","dispatchEvent","fireEvent","css","el","styles","val","tmp","addClass","classList","add","className","removeClass","remove","replace","setAttributes","setAttribute","num","v","parseInt","loadImage","src","doExif","img","Image","opacity","_resolve","removeAttribute","match","onload","EXIF","getData","onerror","ev","naturalImageDimensions","w","naturalWidth","naturalHeight","orient","getExifOrientation","x","width","height","TRANSLATE_OPTS","suffix","Transform","y","scale","parseFloat","parse","fromMatrix","fromString","vals","substring","values","translate","Croppie","globals","TransformOrigin","exifdata","Orientation","drawCanvas","canvas","orientation","ctx","getContext","save","Math","PI","drawImage","restore","_create","boundary","viewport","overlay","bw","bh","contClass","customViewportClass","options","useCanvas","enableOrientation","_hasExif","data","elements","preview","isNaN","appendChild","customClass","_initDraggable","enableZoom","_initializeZoom","enableResize","_initializeResize","enableExif","direction","originalX","originalY","maxWidth","maxHeight","vr","hr","wrap","isDragging","minSize","mouseDown","button","preventDefault","overlayRect","getBoundingClientRect","pageX","pageY","currentTarget","touches","addEventListener","mouseMove","mouseUp","body","deltaX","deltaY","newHeight","newWidth","_updateOverlay","_updateZoomLimits","_updateCenterPoint","_triggerUpdate","removeEventListener","resizeControls","_setZoomerVal","z","zoomer","fix","max","min","zoomerWrap","change","_onZoom","origin","viewportRect","transform","scroll","delta","targetZoom","mouseWheelZoom","ctrlKey","wheelDelta","_currentZoom","step","display","showZoomer","ui","vpRect","applyCss","transCss","enforceBoundary","boundaries","_getVirtualBoundaries","transBoundaries","oBoundaries","maxX","minX","maxY","minY","_debouncedOverlay","vpWidth","vpHeight","centerFromBoundaryX","clientWidth","centerFromBoundaryY","clientHeight","imgRect","curImgWidth","curImgHeight","halfWidth","halfHeight","originMinX","originMaxX","originMinY","originMaxY","vpData","pc","top","left","center","adj","cx","cy","tx","ty","newCss","originalDistance","assignTransformCoordinates","bottom","right","toggleGrabState","keyDown","zoom","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","shiftKey","keyCode","enableKeyMovement","movement","parseKeyDown","keyMove","setZoom","touch1","touch2","dist","sqrt","boundRect","imgData","get","_isVisible","update","$","Prototype","trigger","offsetHeight","offsetWidth","_updatePropertiesFromImage","initialZoom","cssReset","transformReset","originReset","isVisible","bound","_originalImageWidth","_originalImageHeight","points","_bindPoints","_centerImage","initial","defaultInitialZoom","minW","minH","minZoom","maxZoom","boundaryData","boundZoom","pointsWidth","vpOffset","originTop","originLeft","transformTop","transformLeft","imgDim","vpDim","boundDim","vpLeft","vpTop","_transferImageToCanvas","customOrientation","clearRect","_getCanvas","circle","canvasWidth","outputWidth","canvasHeight","outputHeight","backgroundColor","fillStyle","fillRect","sx","sy","sWidth","sHeight","dx","dy","dWidth","dHeight","abs","globalCompositeOperation","beginPath","arc","closePath","fill","_getHtmlResult","div","url","_getBase64Result","format","_getBlobResult","blob","_replaceImage","parentNode","forEach","replaceChild","_bind","cb","hasExif","relative","natDim","rect","aspectRatio","imgAspectRatio","x0","y0","x1","y1","map","p","decimalPoints","toFixed","_get","widthDiff","heightDiff","x2","y2","Infinity","Number","NEGATIVE_INFINITY","RESULT_DEFAULTS","RESULT_FORMATS","_result","prom","opts","resultType","size","ratio","toLowerCase","_refresh","_rotate","deg","_destroy","removeChild","jQuery","croppie","ot","singleInst","result","bind","each","isFunction","removeData","Error","defaults","tagName","origImage","replacementDiv","bindOpts","orientationControls","enabled","leftClass","rightClass","refresh","destroy","anObject","sameValue","regExpExec","defined","SEARCH","$search","maybeCallNative","regexp","O","RegExp","String","res","done","rx","S","previousLastIndex","lastIndex","now","Date","$export","aFunction","toObject","$sort","sort","test","P","F","comparefn","is","props","_m","isObject","toNumber","FUNC_ERROR_TEXT","nativeMax","nativeMin","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","valueOf","isBinary","methods","resetPagination","pagination","current","total","noMoreData","clear_selected","selected","add_item","api_name","item","dynamic_api","makeRequestTo","response","new_items","reverse","new_item","items","$refs","add_dialog","clear_and_close","table_config","add_message","finally","extract_per_page","string","starts","search","calc_per_page_items","page_rows","total_rows","includes","update_item","edit_item","id","findIndex","data_item","splice","fields","edit_dialog","update_message","delete_item","delete_item_id","delete_dialog","delete_message","bulk_delete","payload","ids","ii","bulk_delete_dialog","message","bulk_delete_via_url","request","delete","open_edit_dialog","$set","open_delete_dialog","open_bulk_delete_dialog","fill_table","nested_response","loading","items_response","current_page","last_page","hasMoreData","fill_table_via_url","page","per_page","$store","getters","load_more_on_table","scrollToBottom","load_more_via_url","fill_table_with_data","add_table_rows","rows","changeSort","column","sortBy","descending","refresh_table","query","refresh_table_api_name","refresh_table_message","update_table_actions","rows_per_page","componentKey","toggleAll","setPreferredView","view","localStorage","setItem","getPreferredView","getItem","wrapper","getElementsByClassName","scrollTop","scrollHeight","_debounce","list_functionality","mixins","permissionDialog","show_delete_selected","selected_ids","btnloading","watch","new_val","api_query","old_query","new_per_page","old_per_page","$router","name","route_name","query_for_sorting"],"mappings":"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","file":"js/chunk-5d3f3a36.daddad2a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-header\"},[(!_vm.noButton)?_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"add__btn ml-2\",attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.$emit('click')}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-plus-circle-outline \")])]}}],null,false,1461341858)},[_c('span',[_vm._v(\"Create new\")])]):_vm._e(),(!_vm.noSortButton)?_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"view-btn add__btn ml-2\",attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.$emit('click-sort-by')}}},'v-icon',attrs,false),on),[_vm._v(\" sort \")])]}}],null,false,3915684996)},[_c('span',[_vm._v(\"Sort\")])]):_vm._e(),(!_vm.noListButton)?_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"view-btn add__btn ml-2\",attrs:{\"fab\":\"\",\"color\":_vm.activeView === 'list' ? 'primary' : ''},on:{\"click\":function($event){return _vm.$emit('click-list-view')}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-view-list \")])]}}],null,false,1833920323)},[_c('span',[_vm._v(\"List view\")])]):_vm._e(),(!_vm.noGridButton)?_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"add__btn ml-2\",attrs:{\"fab\":\"\",\"color\":_vm.activeView === 'grid' ? 'primary' : ''},on:{\"click\":function($event){return _vm.$emit('click-grid-view')}}},'v-icon',attrs,false),on),[_vm._v(\" mdi-view-grid \")])]}}],null,false,965392321)},[_c('span',[_vm._v(\"Grid view\")])]):_vm._e(),_vm._t(\"form-btn\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"table-header\">\r\n        <v-tooltip top v-if=\"!noButton\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-icon v-bind=\"attrs\" v-on=\"on\" fab class=\"add__btn ml-2\" @click=\"$emit('click')\">\r\n                    mdi-plus-circle-outline\r\n                </v-icon>\r\n            </template>\r\n            <span>Create new</span>\r\n        </v-tooltip>\r\n        <v-tooltip top v-if=\"!noSortButton\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-icon v-bind=\"attrs\" v-on=\"on\" fab class=\"view-btn add__btn ml-2\" @click=\"$emit('click-sort-by')\">\r\n                    sort\r\n                </v-icon>\r\n            </template>\r\n            <span>Sort</span>\r\n        </v-tooltip>\r\n        <v-tooltip top v-if=\"!noListButton\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-icon v-bind=\"attrs\" v-on=\"on\" fab :color=\"activeView === 'list' ? 'primary' : ''\"\r\n                        class=\"view-btn add__btn ml-2\" @click=\"$emit('click-list-view')\"\r\n                >\r\n                    mdi-view-list\r\n                </v-icon>\r\n            </template>\r\n            <span>List view</span>\r\n        </v-tooltip>\r\n        <v-tooltip top v-if=\"!noGridButton\">\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-icon v-bind=\"attrs\" v-on=\"on\" fab :color=\"activeView === 'grid' ? 'primary' : ''\"\r\n                        class=\"add__btn ml-2\" @click=\"$emit('click-grid-view')\"\r\n                >\r\n                    mdi-view-grid\r\n                </v-icon>\r\n            </template>\r\n            <span>Grid view</span>\r\n        </v-tooltip>\r\n        <slot name=\"form-btn\" />\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n    export default {\r\n        name: 'TableHeader',\r\n        props: {\r\n            // paths: { type: Array, default: [] },\r\n            noButton: {type: Boolean, default: false},\r\n            noListButton: {type: Boolean, default: true},\r\n            noGridButton: {type: Boolean, default: true},\r\n            noSortButton: {type: Boolean, default: true}\r\n        },\r\n        data() {\r\n            return {\r\n                fab: true\r\n            }\r\n        },\r\n        computed: {\r\n            activeView() {\r\n                return window.localStorage.getItem('bzk_prefer_view') || 'list'\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    @import '~@/sass/variables';\r\n\r\n    .table-header {\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: wrap;\r\n    }\r\n\r\n    .add__btn.v-icon {\r\n        color: $btnGray;\r\n\r\n        &:hover {\r\n            color: $textDark;\r\n        }\r\n    }\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableHeader.vue?vue&type=template&id=bb5f40ae&scoped=true&\"\nimport script from \"./TableHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./TableHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableHeader.vue?vue&type=style&index=0&id=bb5f40ae&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb5f40ae\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","/*************************\r\n * Croppie\r\n * Copyright 2019\r\n * Foliotek\r\n * Version: 2.6.4\r\n *************************/\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(factory);\r\n    } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\r\n        // CommonJS\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals\r\n        root.Croppie = factory();\r\n    }\r\n}(typeof self !== 'undefined' ? self : this, function () {\r\n\r\n    /* Polyfills */\r\n    if (typeof Promise !== 'function') {\r\n        /*! promise-polyfill 3.1.0 */\r\n        !function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\"object\"!==typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!==typeof a)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void k(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(a&&(\"object\"===typeof a||\"function\"===typeof a)){var c=a.then;if(\"function\"===typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\"function\"===typeof a?a:null,this.onRejected=\"function\"===typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=setTimeout,k=\"function\"===typeof setImmediate&&setImmediate||function(a){j(a,1)},l=Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)};c.prototype[\"catch\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\"object\"===typeof g||\"function\"===typeof g)){var h=g.then;if(\"function\"===typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\"object\"===typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){k=a},\"undefined\"!==typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)}(this);\r\n    }\r\n\r\n    if ( typeof window.CustomEvent !== \"function\" ) {\r\n        (function(){\r\n            function CustomEvent ( event, params ) {\r\n                params = params || { bubbles: false, cancelable: false, detail: undefined };\r\n                var evt = document.createEvent( 'CustomEvent' );\r\n                evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\r\n                return evt;\r\n            }\r\n            CustomEvent.prototype = window.Event.prototype;\r\n            window.CustomEvent = CustomEvent;\r\n        }());\r\n    }\r\n\r\n    if (!HTMLCanvasElement.prototype.toBlob) {\r\n        Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\r\n            value: function (callback, type, quality) {\r\n                var binStr = atob( this.toDataURL(type, quality).split(',')[1] ),\r\n                len = binStr.length,\r\n                arr = new Uint8Array(len);\r\n\r\n                for (var i=0; i<len; i++ ) {\r\n                    arr[i] = binStr.charCodeAt(i);\r\n                }\r\n\r\n                callback( new Blob( [arr], {type: type || 'image/png'} ) );\r\n            }\r\n        });\r\n    }\r\n    /* End Polyfills */\r\n\r\n    var cssPrefixes = ['Webkit', 'Moz', 'ms'],\r\n        emptyStyles = document.createElement('div').style,\r\n        EXIF_NORM = [1,8,3,6],\r\n        EXIF_FLIP = [2,7,4,5],\r\n        CSS_TRANS_ORG,\r\n        CSS_TRANSFORM,\r\n        CSS_USERSELECT;\r\n\r\n    function vendorPrefix(prop) {\r\n        if (prop in emptyStyles) {\r\n            return prop;\r\n        }\r\n\r\n        var capProp = prop[0].toUpperCase() + prop.slice(1),\r\n            i = cssPrefixes.length;\r\n\r\n        while (i--) {\r\n            prop = cssPrefixes[i] + capProp;\r\n            if (prop in emptyStyles) {\r\n                return prop;\r\n            }\r\n        }\r\n    }\r\n\r\n    CSS_TRANSFORM = vendorPrefix('transform');\r\n    CSS_TRANS_ORG = vendorPrefix('transformOrigin');\r\n    CSS_USERSELECT = vendorPrefix('userSelect');\r\n\r\n    function getExifOffset(ornt, rotate) {\r\n        var arr = EXIF_NORM.indexOf(ornt) > -1 ? EXIF_NORM : EXIF_FLIP,\r\n            index = arr.indexOf(ornt),\r\n            offset = (rotate / 90) % arr.length;// 180 = 2%4 = 2 shift exif by 2 indexes\r\n\r\n        return arr[(arr.length + index + (offset % arr.length)) % arr.length];\r\n    }\r\n\r\n    // Credits to : Andrew Dupont - http://andrewdupont.net/2009/08/28/deep-extending-objects-in-javascript/\r\n    function deepExtend(destination, source) {\r\n        destination = destination || {};\r\n        for (var property in source) {\r\n            if (source[property] && source[property].constructor && source[property].constructor === Object) {\r\n                destination[property] = destination[property] || {};\r\n                deepExtend(destination[property], source[property]);\r\n            } else {\r\n                destination[property] = source[property];\r\n            }\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    function clone(object) {\r\n        return deepExtend({}, object);\r\n    }\r\n\r\n    function debounce(func, wait, immediate) {\r\n        var timeout;\r\n        return function () {\r\n            var context = this, args = arguments;\r\n            var later = function () {\r\n                timeout = null;\r\n                if (!immediate) func.apply(context, args);\r\n            };\r\n            var callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) func.apply(context, args);\r\n        };\r\n    }\r\n\r\n    function dispatchChange(element) {\r\n        if (\"createEvent\" in document) {\r\n            var evt = document.createEvent(\"HTMLEvents\");\r\n            evt.initEvent(\"change\", false, true);\r\n            element.dispatchEvent(evt);\r\n        }\r\n        else {\r\n            element.fireEvent(\"onchange\");\r\n        }\r\n    }\r\n\r\n    //http://jsperf.com/vanilla-css\r\n    function css(el, styles, val) {\r\n        if (typeof (styles) === 'string') {\r\n            var tmp = styles;\r\n            styles = {};\r\n            styles[tmp] = val;\r\n        }\r\n\r\n        for (var prop in styles) {\r\n            el.style[prop] = styles[prop];\r\n        }\r\n    }\r\n\r\n    function addClass(el, c) {\r\n        if (el.classList) {\r\n            el.classList.add(c);\r\n        }\r\n        else {\r\n            el.className += ' ' + c;\r\n        }\r\n    }\r\n\r\n    function removeClass(el, c) {\r\n        if (el.classList) {\r\n            el.classList.remove(c);\r\n        }\r\n        else {\r\n            el.className = el.className.replace(c, '');\r\n        }\r\n    }\r\n\r\n    function setAttributes(el, attrs) {\r\n        for (var key in attrs) {\r\n            el.setAttribute(key, attrs[key]);\r\n        }\r\n    }\r\n\r\n    function num(v) {\r\n        return parseInt(v, 10);\r\n    }\r\n\r\n    /* Utilities */\r\n    function loadImage(src, doExif) {\r\n        var img = new Image();\r\n        img.style.opacity = '0';\r\n        return new Promise(function (resolve, reject) {\r\n            function _resolve() {\r\n                img.style.opacity = '1';\r\n                setTimeout(function () {\r\n                    resolve(img);\r\n                }, 1);\r\n            }\r\n\r\n            img.removeAttribute('crossOrigin');\r\n            if (src.match(/^https?:\\/\\/|^\\/\\//)) {\r\n                img.setAttribute('crossOrigin', 'anonymous');\r\n            }\r\n\r\n            img.onload = function () {\r\n                if (doExif) {\r\n                    EXIF.getData(img, function () {\r\n                        _resolve();\r\n                    });\r\n                }\r\n                else {\r\n                    _resolve();\r\n                }\r\n            };\r\n            img.onerror = function (ev) {\r\n                img.style.opacity = 1;\r\n                setTimeout(function () {\r\n                    reject(ev);\r\n                }, 1);\r\n            };\r\n            img.src = src;\r\n        });\r\n    }\r\n\r\n    function naturalImageDimensions(img, ornt) {\r\n        var w = img.naturalWidth;\r\n        var h = img.naturalHeight;\r\n        var orient = ornt || getExifOrientation(img);\r\n        if (orient && orient >= 5) {\r\n            var x= w;\r\n            w = h;\r\n            h = x;\r\n        }\r\n        return { width: w, height: h };\r\n    }\r\n\r\n    /* CSS Transform Prototype */\r\n    var TRANSLATE_OPTS = {\r\n        'translate3d': {\r\n            suffix: ', 0px'\r\n        },\r\n        'translate': {\r\n            suffix: ''\r\n        }\r\n    };\r\n    var Transform = function (x, y, scale) {\r\n        this.x = parseFloat(x);\r\n        this.y = parseFloat(y);\r\n        this.scale = parseFloat(scale);\r\n    };\r\n\r\n    Transform.parse = function (v) {\r\n        if (v.style) {\r\n            return Transform.parse(v.style[CSS_TRANSFORM]);\r\n        }\r\n        else if (v.indexOf('matrix') > -1 || v.indexOf('none') > -1) {\r\n            return Transform.fromMatrix(v);\r\n        }\r\n        else {\r\n            return Transform.fromString(v);\r\n        }\r\n    };\r\n\r\n    Transform.fromMatrix = function (v) {\r\n        var vals = v.substring(7).split(',');\r\n        if (!vals.length || v === 'none') {\r\n            vals = [1, 0, 0, 1, 0, 0];\r\n        }\r\n\r\n        return new Transform(num(vals[4]), num(vals[5]), parseFloat(vals[0]));\r\n    };\r\n\r\n    Transform.fromString = function (v) {\r\n        var values = v.split(') '),\r\n            translate = values[0].substring(Croppie.globals.translate.length + 1).split(','),\r\n            scale = values.length > 1 ? values[1].substring(6) : 1,\r\n            x = translate.length > 1 ? translate[0] : 0,\r\n            y = translate.length > 1 ? translate[1] : 0;\r\n\r\n        return new Transform(x, y, scale);\r\n    };\r\n\r\n    Transform.prototype.toString = function () {\r\n        var suffix = TRANSLATE_OPTS[Croppie.globals.translate].suffix || '';\r\n        return Croppie.globals.translate + '(' + this.x + 'px, ' + this.y + 'px' + suffix + ') scale(' + this.scale + ')';\r\n    };\r\n\r\n    var TransformOrigin = function (el) {\r\n        if (!el || !el.style[CSS_TRANS_ORG]) {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            return;\r\n        }\r\n        var css = el.style[CSS_TRANS_ORG].split(' ');\r\n        this.x = parseFloat(css[0]);\r\n        this.y = parseFloat(css[1]);\r\n    };\r\n\r\n    TransformOrigin.prototype.toString = function () {\r\n        return this.x + 'px ' + this.y + 'px';\r\n    };\r\n\r\n    function getExifOrientation (img) {\r\n        return img.exifdata && img.exifdata.Orientation ? num(img.exifdata.Orientation) : 1;\r\n    }\r\n\r\n    function drawCanvas(canvas, img, orientation) {\r\n        var width = img.width,\r\n            height = img.height,\r\n            ctx = canvas.getContext('2d');\r\n\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n\r\n        ctx.save();\r\n        switch (orientation) {\r\n          case 2:\r\n             ctx.translate(width, 0);\r\n             ctx.scale(-1, 1);\r\n             break;\r\n\r\n          case 3:\r\n              ctx.translate(width, height);\r\n              ctx.rotate(180*Math.PI/180);\r\n              break;\r\n\r\n          case 4:\r\n              ctx.translate(0, height);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 5:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(90*Math.PI/180);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 6:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(90*Math.PI/180);\r\n              ctx.translate(0, -height);\r\n              break;\r\n\r\n          case 7:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.rotate(-90*Math.PI/180);\r\n              ctx.translate(-width, height);\r\n              ctx.scale(1, -1);\r\n              break;\r\n\r\n          case 8:\r\n              canvas.width = height;\r\n              canvas.height = width;\r\n              ctx.translate(0, width);\r\n              ctx.rotate(-90*Math.PI/180);\r\n              break;\r\n        }\r\n        ctx.drawImage(img, 0,0, width, height);\r\n        ctx.restore();\r\n    }\r\n\r\n    /* Private Methods */\r\n    function _create() {\r\n        var self = this,\r\n            contClass = 'croppie-container',\r\n            customViewportClass = self.options.viewport.type ? 'cr-vp-' + self.options.viewport.type : null,\r\n            boundary, img, viewport, overlay, bw, bh;\r\n\r\n        self.options.useCanvas = self.options.enableOrientation || _hasExif.call(self);\r\n        // Properties on class\r\n        self.data = {};\r\n        self.elements = {};\r\n\r\n        boundary = self.elements.boundary = document.createElement('div');\r\n        viewport = self.elements.viewport = document.createElement('div');\r\n        img = self.elements.img = document.createElement('img');\r\n        overlay = self.elements.overlay = document.createElement('div');\r\n\r\n        if (self.options.useCanvas) {\r\n            self.elements.canvas = document.createElement('canvas');\r\n            self.elements.preview = self.elements.canvas;\r\n        }\r\n        else {\r\n            self.elements.preview = img;\r\n        }\r\n\r\n        addClass(boundary, 'cr-boundary');\r\n        boundary.setAttribute('aria-dropeffect', 'none');\r\n        bw = self.options.boundary.width;\r\n        bh = self.options.boundary.height;\r\n        css(boundary, {\r\n            width: (bw + (isNaN(bw) ? '' : 'px')),\r\n            height: (bh + (isNaN(bh) ? '' : 'px'))\r\n        });\r\n\r\n        addClass(viewport, 'cr-viewport');\r\n        if (customViewportClass) {\r\n            addClass(viewport, customViewportClass);\r\n        }\r\n        css(viewport, {\r\n            width: self.options.viewport.width + 'px',\r\n            height: self.options.viewport.height + 'px'\r\n        });\r\n        viewport.setAttribute('tabindex', 0);\r\n\r\n        addClass(self.elements.preview, 'cr-image');\r\n        setAttributes(self.elements.preview, { 'alt': 'preview', 'aria-grabbed': 'false' });\r\n        addClass(overlay, 'cr-overlay');\r\n\r\n        self.element.appendChild(boundary);\r\n        boundary.appendChild(self.elements.preview);\r\n        boundary.appendChild(viewport);\r\n        boundary.appendChild(overlay);\r\n\r\n        addClass(self.element, contClass);\r\n        if (self.options.customClass) {\r\n            addClass(self.element, self.options.customClass);\r\n        }\r\n\r\n        _initDraggable.call(this);\r\n\r\n        if (self.options.enableZoom) {\r\n            _initializeZoom.call(self);\r\n        }\r\n\r\n        // if (self.options.enableOrientation) {\r\n        //     _initRotationControls.call(self);\r\n        // }\r\n\r\n        if (self.options.enableResize) {\r\n            _initializeResize.call(self);\r\n        }\r\n    }\r\n\r\n    // function _initRotationControls () {\r\n    //     var self = this,\r\n    //         wrap, btnLeft, btnRight, iLeft, iRight;\r\n\r\n    //     wrap = document.createElement('div');\r\n    //     self.elements.orientationBtnLeft = btnLeft = document.createElement('button');\r\n    //     self.elements.orientationBtnRight = btnRight = document.createElement('button');\r\n\r\n    //     wrap.appendChild(btnLeft);\r\n    //     wrap.appendChild(btnRight);\r\n\r\n    //     iLeft = document.createElement('i');\r\n    //     iRight = document.createElement('i');\r\n    //     btnLeft.appendChild(iLeft);\r\n    //     btnRight.appendChild(iRight);\r\n\r\n    //     addClass(wrap, 'cr-rotate-controls');\r\n    //     addClass(btnLeft, 'cr-rotate-l');\r\n    //     addClass(btnRight, 'cr-rotate-r');\r\n\r\n    //     self.elements.boundary.appendChild(wrap);\r\n\r\n    //     btnLeft.addEventListener('click', function () {\r\n    //         self.rotate(-90);\r\n    //     });\r\n    //     btnRight.addEventListener('click', function () {\r\n    //         self.rotate(90);\r\n    //     });\r\n    // }\r\n\r\n    function _hasExif() {\r\n        return this.options.enableExif && window.EXIF;\r\n    }\r\n\r\n    function _initializeResize () {\r\n        var self = this;\r\n        var wrap = document.createElement('div');\r\n        var isDragging = false;\r\n        var direction;\r\n        var originalX;\r\n        var originalY;\r\n        var minSize = 50;\r\n        var maxWidth;\r\n        var maxHeight;\r\n        var vr;\r\n        var hr;\r\n\r\n        addClass(wrap, 'cr-resizer');\r\n        css(wrap, {\r\n            width: this.options.viewport.width + 'px',\r\n            height: this.options.viewport.height + 'px'\r\n        });\r\n\r\n        if (this.options.resizeControls.height) {\r\n            vr = document.createElement('div');\r\n            addClass(vr, 'cr-resizer-vertical');\r\n            wrap.appendChild(vr);\r\n        }\r\n\r\n        if (this.options.resizeControls.width) {\r\n            hr = document.createElement('div');\r\n            addClass(hr, 'cr-resizer-horisontal');\r\n            wrap.appendChild(hr);\r\n        }\r\n\r\n        function mouseDown(ev) {\r\n            if (ev.button !== undefined && ev.button !== 0) return;\r\n\r\n            ev.preventDefault();\r\n            if (isDragging) {\r\n                return;\r\n            }\r\n\r\n            var overlayRect = self.elements.overlay.getBoundingClientRect();\r\n\r\n            isDragging = true;\r\n            originalX = ev.pageX;\r\n            originalY = ev.pageY;\r\n            direction = ev.currentTarget.className.indexOf('vertical') !== -1 ? 'v' : 'h';\r\n            maxWidth = overlayRect.width;\r\n            maxHeight = overlayRect.height;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                originalX = touches.pageX;\r\n                originalY = touches.pageY;\r\n            }\r\n\r\n            window.addEventListener('mousemove', mouseMove);\r\n            window.addEventListener('touchmove', mouseMove);\r\n            window.addEventListener('mouseup', mouseUp);\r\n            window.addEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = 'none';\r\n        }\r\n\r\n        function mouseMove(ev) {\r\n            var pageX = ev.pageX;\r\n            var pageY = ev.pageY;\r\n\r\n            ev.preventDefault();\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                pageX = touches.pageX;\r\n                pageY = touches.pageY;\r\n            }\r\n\r\n            var deltaX = pageX - originalX;\r\n            var deltaY = pageY - originalY;\r\n            var newHeight = self.options.viewport.height + deltaY;\r\n            var newWidth = self.options.viewport.width + deltaX;\r\n\r\n            if (direction === 'v' && newHeight >= minSize && newHeight <= maxHeight) {\r\n                css(wrap, {\r\n                    height: newHeight + 'px'\r\n                });\r\n\r\n                self.options.boundary.height += deltaY;\r\n                css(self.elements.boundary, {\r\n                    height: self.options.boundary.height + 'px'\r\n                });\r\n\r\n                self.options.viewport.height += deltaY;\r\n                css(self.elements.viewport, {\r\n                    height: self.options.viewport.height + 'px'\r\n                });\r\n            }\r\n            else if (direction === 'h' && newWidth >= minSize && newWidth <= maxWidth) {\r\n                css(wrap, {\r\n                    width: newWidth + 'px'\r\n                });\r\n\r\n                self.options.boundary.width += deltaX;\r\n                css(self.elements.boundary, {\r\n                    width: self.options.boundary.width + 'px'\r\n                });\r\n\r\n                self.options.viewport.width += deltaX;\r\n                css(self.elements.viewport, {\r\n                    width: self.options.viewport.width + 'px'\r\n                });\r\n            }\r\n\r\n            _updateOverlay.call(self);\r\n            _updateZoomLimits.call(self);\r\n            _updateCenterPoint.call(self);\r\n            _triggerUpdate.call(self);\r\n            originalY = pageY;\r\n            originalX = pageX;\r\n        }\r\n\r\n        function mouseUp() {\r\n            isDragging = false;\r\n            window.removeEventListener('mousemove', mouseMove);\r\n            window.removeEventListener('touchmove', mouseMove);\r\n            window.removeEventListener('mouseup', mouseUp);\r\n            window.removeEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = '';\r\n        }\r\n\r\n        if (vr) {\r\n            vr.addEventListener('mousedown', mouseDown);\r\n            vr.addEventListener('touchstart', mouseDown);\r\n        }\r\n\r\n        if (hr) {\r\n            hr.addEventListener('mousedown', mouseDown);\r\n            hr.addEventListener('touchstart', mouseDown);\r\n        }\r\n\r\n        this.elements.boundary.appendChild(wrap);\r\n    }\r\n\r\n    function _setZoomerVal(v) {\r\n        if (this.options.enableZoom) {\r\n            var z = this.elements.zoomer,\r\n                val = fix(v, 4);\r\n\r\n            z.value = Math.max(parseFloat(z.min), Math.min(parseFloat(z.max), val)).toString();\r\n        }\r\n    }\r\n\r\n    function _initializeZoom() {\r\n        var self = this,\r\n            wrap = self.elements.zoomerWrap = document.createElement('div'),\r\n            zoomer = self.elements.zoomer = document.createElement('input');\r\n\r\n        addClass(wrap, 'cr-slider-wrap');\r\n        addClass(zoomer, 'cr-slider');\r\n        zoomer.type = 'range';\r\n        zoomer.step = '0.0001';\r\n        zoomer.value = '1';\r\n        zoomer.style.display = self.options.showZoomer ? '' : 'none';\r\n        zoomer.setAttribute('aria-label', 'zoom');\r\n\r\n        self.element.appendChild(wrap);\r\n        wrap.appendChild(zoomer);\r\n\r\n        self._currentZoom = 1;\r\n\r\n        function change() {\r\n            _onZoom.call(self, {\r\n                value: parseFloat(zoomer.value),\r\n                origin: new TransformOrigin(self.elements.preview),\r\n                viewportRect: self.elements.viewport.getBoundingClientRect(),\r\n                transform: Transform.parse(self.elements.preview)\r\n            });\r\n        }\r\n\r\n        function scroll(ev) {\r\n            var delta, targetZoom;\r\n\r\n            if(self.options.mouseWheelZoom === 'ctrl' && ev.ctrlKey !== true){\r\n              return 0; \r\n            } else if (ev.wheelDelta) {\r\n                delta = ev.wheelDelta / 1200; //wheelDelta min: -120 max: 120 // max x 10 x 2\r\n            } else if (ev.deltaY) {\r\n                delta = ev.deltaY / 1060; //deltaY min: -53 max: 53 // max x 10 x 2\r\n            } else if (ev.detail) {\r\n                delta = ev.detail / -60; //delta min: -3 max: 3 // max x 10 x 2\r\n            } else {\r\n                delta = 0;\r\n            }\r\n\r\n            targetZoom = self._currentZoom + (delta * self._currentZoom);\r\n\r\n            ev.preventDefault();\r\n            _setZoomerVal.call(self, targetZoom);\r\n            change.call(self);\r\n        }\r\n\r\n        self.elements.zoomer.addEventListener('input', change);// this is being fired twice on keypress\r\n        self.elements.zoomer.addEventListener('change', change);\r\n\r\n        if (self.options.mouseWheelZoom) {\r\n            self.elements.boundary.addEventListener('mousewheel', scroll);\r\n            self.elements.boundary.addEventListener('DOMMouseScroll', scroll);\r\n        }\r\n    }\r\n\r\n    function _onZoom(ui) {\r\n        var self = this,\r\n            transform = ui ? ui.transform : Transform.parse(self.elements.preview),\r\n            vpRect = ui ? ui.viewportRect : self.elements.viewport.getBoundingClientRect(),\r\n            origin = ui ? ui.origin : new TransformOrigin(self.elements.preview);\r\n\r\n        function applyCss() {\r\n            var transCss = {};\r\n            transCss[CSS_TRANSFORM] = transform.toString();\r\n            transCss[CSS_TRANS_ORG] = origin.toString();\r\n            css(self.elements.preview, transCss);\r\n        }\r\n\r\n        self._currentZoom = ui ? ui.value : self._currentZoom;\r\n        transform.scale = self._currentZoom;\r\n        self.elements.zoomer.setAttribute('aria-valuenow', self._currentZoom);\r\n        applyCss();\r\n\r\n        if (self.options.enforceBoundary) {\r\n            var boundaries = _getVirtualBoundaries.call(self, vpRect),\r\n                transBoundaries = boundaries.translate,\r\n                oBoundaries = boundaries.origin;\r\n\r\n            if (transform.x >= transBoundaries.maxX) {\r\n                origin.x = oBoundaries.minX;\r\n                transform.x = transBoundaries.maxX;\r\n            }\r\n\r\n            if (transform.x <= transBoundaries.minX) {\r\n                origin.x = oBoundaries.maxX;\r\n                transform.x = transBoundaries.minX;\r\n            }\r\n\r\n            if (transform.y >= transBoundaries.maxY) {\r\n                origin.y = oBoundaries.minY;\r\n                transform.y = transBoundaries.maxY;\r\n            }\r\n\r\n            if (transform.y <= transBoundaries.minY) {\r\n                origin.y = oBoundaries.maxY;\r\n                transform.y = transBoundaries.minY;\r\n            }\r\n        }\r\n        applyCss();\r\n        _debouncedOverlay.call(self);\r\n        _triggerUpdate.call(self);\r\n    }\r\n\r\n    function _getVirtualBoundaries(viewport) {\r\n        var self = this,\r\n            scale = self._currentZoom,\r\n            vpWidth = viewport.width,\r\n            vpHeight = viewport.height,\r\n            centerFromBoundaryX = self.elements.boundary.clientWidth / 2,\r\n            centerFromBoundaryY = self.elements.boundary.clientHeight / 2,\r\n            imgRect = self.elements.preview.getBoundingClientRect(),\r\n            curImgWidth = imgRect.width,\r\n            curImgHeight = imgRect.height,\r\n            halfWidth = vpWidth / 2,\r\n            halfHeight = vpHeight / 2;\r\n\r\n        var maxX = ((halfWidth / scale) - centerFromBoundaryX) * -1;\r\n        var minX = maxX - ((curImgWidth * (1 / scale)) - (vpWidth * (1 / scale)));\r\n\r\n        var maxY = ((halfHeight / scale) - centerFromBoundaryY) * -1;\r\n        var minY = maxY - ((curImgHeight * (1 / scale)) - (vpHeight * (1 / scale)));\r\n\r\n        var originMinX = (1 / scale) * halfWidth;\r\n        var originMaxX = (curImgWidth * (1 / scale)) - originMinX;\r\n\r\n        var originMinY = (1 / scale) * halfHeight;\r\n        var originMaxY = (curImgHeight * (1 / scale)) - originMinY;\r\n\r\n        return {\r\n            translate: {\r\n                maxX: maxX,\r\n                minX: minX,\r\n                maxY: maxY,\r\n                minY: minY\r\n            },\r\n            origin: {\r\n                maxX: originMaxX,\r\n                minX: originMinX,\r\n                maxY: originMaxY,\r\n                minY: originMinY\r\n            }\r\n        };\r\n    }\r\n\r\n    function _updateCenterPoint(rotate) {\r\n        var self = this,\r\n            scale = self._currentZoom,\r\n            data = self.elements.preview.getBoundingClientRect(),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            transform = Transform.parse(self.elements.preview.style[CSS_TRANSFORM]),\r\n            pc = new TransformOrigin(self.elements.preview),\r\n            top = (vpData.top - data.top) + (vpData.height / 2),\r\n            left = (vpData.left - data.left) + (vpData.width / 2),\r\n            center = {},\r\n            adj = {};\r\n\r\n        if (rotate) {\r\n            var cx = pc.x;\r\n            var cy = pc.y;\r\n            var tx = transform.x;\r\n            var ty = transform.y;\r\n\r\n            center.y = cx;\r\n            center.x = cy;\r\n            transform.y = tx;\r\n            transform.x = ty;\r\n        }\r\n        else {\r\n            center.y = top / scale;\r\n            center.x = left / scale;\r\n\r\n            adj.y = (center.y - pc.y) * (1 - scale);\r\n            adj.x = (center.x - pc.x) * (1 - scale);\r\n\r\n            transform.x -= adj.x;\r\n            transform.y -= adj.y;\r\n        }\r\n\r\n        var newCss = {};\r\n        newCss[CSS_TRANS_ORG] = center.x + 'px ' + center.y + 'px';\r\n        newCss[CSS_TRANSFORM] = transform.toString();\r\n        css(self.elements.preview, newCss);\r\n    }\r\n\r\n    function _initDraggable() {\r\n        var self = this,\r\n            isDragging = false,\r\n            originalX,\r\n            originalY,\r\n            originalDistance,\r\n            vpRect,\r\n            transform;\r\n\r\n        function assignTransformCoordinates(deltaX, deltaY) {\r\n            var imgRect = self.elements.preview.getBoundingClientRect(),\r\n                top = transform.y + deltaY,\r\n                left = transform.x + deltaX;\r\n\r\n            if (self.options.enforceBoundary) {\r\n                if (vpRect.top > imgRect.top + deltaY && vpRect.bottom < imgRect.bottom + deltaY) {\r\n                    transform.y = top;\r\n                }\r\n\r\n                if (vpRect.left > imgRect.left + deltaX && vpRect.right < imgRect.right + deltaX) {\r\n                    transform.x = left;\r\n                }\r\n            }\r\n            else {\r\n                transform.y = top;\r\n                transform.x = left;\r\n            }\r\n        }\r\n\r\n        function toggleGrabState(isDragging) {\r\n          self.elements.preview.setAttribute('aria-grabbed', isDragging);\r\n          self.elements.boundary.setAttribute('aria-dropeffect', isDragging? 'move': 'none');\r\n        }\r\n\r\n        function keyDown(ev) {\r\n            var LEFT_ARROW  = 37,\r\n                UP_ARROW    = 38,\r\n                RIGHT_ARROW = 39,\r\n                DOWN_ARROW  = 40;\r\n\r\n            if (ev.shiftKey && (ev.keyCode === UP_ARROW || ev.keyCode === DOWN_ARROW)) {\r\n                var zoom;\r\n                if (ev.keyCode === UP_ARROW) {\r\n                    zoom = parseFloat(self.elements.zoomer.value) + parseFloat(self.elements.zoomer.step)\r\n                }\r\n                else {\r\n                    zoom = parseFloat(self.elements.zoomer.value) - parseFloat(self.elements.zoomer.step)\r\n                }\r\n                self.setZoom(zoom);\r\n            }\r\n            else if (self.options.enableKeyMovement && (ev.keyCode >= 37 && ev.keyCode <= 40)) {\r\n                ev.preventDefault();\r\n                var movement = parseKeyDown(ev.keyCode);\r\n\r\n                transform = Transform.parse(self.elements.preview);\r\n                document.body.style[CSS_USERSELECT] = 'none';\r\n                vpRect = self.elements.viewport.getBoundingClientRect();\r\n                keyMove(movement);\r\n            }\r\n\r\n            function parseKeyDown(key) {\r\n                switch (key) {\r\n                    case LEFT_ARROW:\r\n                        return [1, 0];\r\n                    case UP_ARROW:\r\n                        return [0, 1];\r\n                    case RIGHT_ARROW:\r\n                        return [-1, 0];\r\n                    case DOWN_ARROW:\r\n                        return [0, -1];\r\n                }\r\n            }\r\n        }\r\n\r\n        function keyMove(movement) {\r\n            var deltaX = movement[0],\r\n                deltaY = movement[1],\r\n                newCss = {};\r\n\r\n            assignTransformCoordinates(deltaX, deltaY);\r\n\r\n            newCss[CSS_TRANSFORM] = transform.toString();\r\n            css(self.elements.preview, newCss);\r\n            _updateOverlay.call(self);\r\n            document.body.style[CSS_USERSELECT] = '';\r\n            _updateCenterPoint.call(self);\r\n            _triggerUpdate.call(self);\r\n            originalDistance = 0;\r\n        }\r\n\r\n        function mouseDown(ev) {\r\n            if (ev.button !== undefined && ev.button !== 0) return;\r\n\r\n            ev.preventDefault();\r\n            if (isDragging) return;\r\n            isDragging = true;\r\n            originalX = ev.pageX;\r\n            originalY = ev.pageY;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                originalX = touches.pageX;\r\n                originalY = touches.pageY;\r\n            }\r\n            toggleGrabState(isDragging);\r\n            transform = Transform.parse(self.elements.preview);\r\n            window.addEventListener('mousemove', mouseMove);\r\n            window.addEventListener('touchmove', mouseMove);\r\n            window.addEventListener('mouseup', mouseUp);\r\n            window.addEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = 'none';\r\n            vpRect = self.elements.viewport.getBoundingClientRect();\r\n        }\r\n\r\n        function mouseMove(ev) {\r\n            ev.preventDefault();\r\n            var pageX = ev.pageX,\r\n                pageY = ev.pageY;\r\n\r\n            if (ev.touches) {\r\n                var touches = ev.touches[0];\r\n                pageX = touches.pageX;\r\n                pageY = touches.pageY;\r\n            }\r\n\r\n            var deltaX = pageX - originalX,\r\n                deltaY = pageY - originalY,\r\n                newCss = {};\r\n\r\n            if (ev.type === 'touchmove') {\r\n                if (ev.touches.length > 1) {\r\n                    var touch1 = ev.touches[0];\r\n                    var touch2 = ev.touches[1];\r\n                    var dist = Math.sqrt((touch1.pageX - touch2.pageX) * (touch1.pageX - touch2.pageX) + (touch1.pageY - touch2.pageY) * (touch1.pageY - touch2.pageY));\r\n\r\n                    if (!originalDistance) {\r\n                        originalDistance = dist / self._currentZoom;\r\n                    }\r\n\r\n                    var scale = dist / originalDistance;\r\n\r\n                    _setZoomerVal.call(self, scale);\r\n                    dispatchChange(self.elements.zoomer);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            assignTransformCoordinates(deltaX, deltaY);\r\n\r\n            newCss[CSS_TRANSFORM] = transform.toString();\r\n            css(self.elements.preview, newCss);\r\n            _updateOverlay.call(self);\r\n            originalY = pageY;\r\n            originalX = pageX;\r\n        }\r\n\r\n        function mouseUp() {\r\n            isDragging = false;\r\n            toggleGrabState(isDragging);\r\n            window.removeEventListener('mousemove', mouseMove);\r\n            window.removeEventListener('touchmove', mouseMove);\r\n            window.removeEventListener('mouseup', mouseUp);\r\n            window.removeEventListener('touchend', mouseUp);\r\n            document.body.style[CSS_USERSELECT] = '';\r\n            _updateCenterPoint.call(self);\r\n            _triggerUpdate.call(self);\r\n            originalDistance = 0;\r\n        }\r\n\r\n        self.elements.overlay.addEventListener('mousedown', mouseDown);\r\n        self.elements.viewport.addEventListener('keydown', keyDown);\r\n        self.elements.overlay.addEventListener('touchstart', mouseDown);\r\n    }\r\n\r\n    function _updateOverlay() {\r\n        if (!this.elements) return; // since this is debounced, it can be fired after destroy\r\n        var self = this,\r\n            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n            imgData = self.elements.preview.getBoundingClientRect();\r\n\r\n        css(self.elements.overlay, {\r\n            width: imgData.width + 'px',\r\n            height: imgData.height + 'px',\r\n            top: (imgData.top - boundRect.top) + 'px',\r\n            left: (imgData.left - boundRect.left) + 'px'\r\n        });\r\n    }\r\n    var _debouncedOverlay = debounce(_updateOverlay, 500);\r\n\r\n    function _triggerUpdate() {\r\n        var self = this,\r\n            data = self.get();\r\n\r\n        if (!_isVisible.call(self)) {\r\n            return;\r\n        }\r\n\r\n        self.options.update.call(self, data);\r\n        if (self.$ && typeof Prototype === 'undefined') {\r\n            self.$(self.element).trigger('update.croppie', data);\r\n        }\r\n        else {\r\n            var ev;\r\n            if (window.CustomEvent) {\r\n                ev = new CustomEvent('update', { detail: data });\r\n            } else {\r\n                ev = document.createEvent('CustomEvent');\r\n                ev.initCustomEvent('update', true, true, data);\r\n            }\r\n\r\n            self.element.dispatchEvent(ev);\r\n        }\r\n    }\r\n\r\n    function _isVisible() {\r\n        return this.elements.preview.offsetHeight > 0 && this.elements.preview.offsetWidth > 0;\r\n    }\r\n\r\n    function _updatePropertiesFromImage() {\r\n        var self = this,\r\n            initialZoom = 1,\r\n            cssReset = {},\r\n            img = self.elements.preview,\r\n            imgData,\r\n            transformReset = new Transform(0, 0, initialZoom),\r\n            originReset = new TransformOrigin(),\r\n            isVisible = _isVisible.call(self);\r\n\r\n        if (!isVisible || self.data.bound) {// if the croppie isn't visible or it doesn't need binding\r\n            return;\r\n        }\r\n\r\n        self.data.bound = true;\r\n        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n        cssReset[CSS_TRANS_ORG] = originReset.toString();\r\n        cssReset['opacity'] = 1;\r\n        css(img, cssReset);\r\n\r\n        imgData = self.elements.preview.getBoundingClientRect();\r\n\r\n        self._originalImageWidth = imgData.width;\r\n        self._originalImageHeight = imgData.height;\r\n        self.data.orientation = getExifOrientation(self.elements.img);\r\n\r\n        if (self.options.enableZoom) {\r\n            _updateZoomLimits.call(self, true);\r\n        }\r\n        else {\r\n            self._currentZoom = initialZoom;\r\n        }\r\n\r\n        transformReset.scale = self._currentZoom;\r\n        cssReset[CSS_TRANSFORM] = transformReset.toString();\r\n        css(img, cssReset);\r\n\r\n        if (self.data.points.length) {\r\n            _bindPoints.call(self, self.data.points);\r\n        }\r\n        else {\r\n            _centerImage.call(self);\r\n        }\r\n\r\n        _updateCenterPoint.call(self);\r\n        _updateOverlay.call(self);\r\n    }\r\n\r\n    function _updateZoomLimits (initial) {\r\n        var self = this,\r\n            minZoom = Math.max(self.options.minZoom, 0) || 0,\r\n            maxZoom = self.options.maxZoom || 1.5,\r\n            initialZoom,\r\n            defaultInitialZoom,\r\n            zoomer = self.elements.zoomer,\r\n            scale = parseFloat(zoomer.value),\r\n            boundaryData = self.elements.boundary.getBoundingClientRect(),\r\n            imgData = naturalImageDimensions(self.elements.img, self.data.orientation),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            minW,\r\n            minH;\r\n        if (self.options.enforceBoundary) {\r\n            minW = vpData.width / imgData.width;\r\n            minH = vpData.height / imgData.height;\r\n            minZoom = Math.max(minW, minH);\r\n        }\r\n\r\n        if (minZoom >= maxZoom) {\r\n            maxZoom = minZoom + 1;\r\n        }\r\n\r\n        zoomer.min = fix(minZoom, 4);\r\n        zoomer.max = fix(maxZoom, 4);\r\n        \r\n        if (!initial && (scale < zoomer.min || scale > zoomer.max)) {\r\n            _setZoomerVal.call(self, scale < zoomer.min ? zoomer.min : zoomer.max);\r\n        }\r\n        else if (initial) {\r\n            defaultInitialZoom = Math.max((boundaryData.width / imgData.width), (boundaryData.height / imgData.height));\r\n            initialZoom = self.data.boundZoom !== null ? self.data.boundZoom : defaultInitialZoom;\r\n            _setZoomerVal.call(self, initialZoom);\r\n        }\r\n\r\n        dispatchChange(zoomer);\r\n    }\r\n\r\n    function _bindPoints(points) {\r\n        if (points.length !== 4) {\r\n            throw \"Croppie - Invalid number of points supplied: \" + points;\r\n        }\r\n        var self = this,\r\n            pointsWidth = points[2] - points[0],\r\n            // pointsHeight = points[3] - points[1],\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            boundRect = self.elements.boundary.getBoundingClientRect(),\r\n            vpOffset = {\r\n                left: vpData.left - boundRect.left,\r\n                top: vpData.top - boundRect.top\r\n            },\r\n            scale = vpData.width / pointsWidth,\r\n            originTop = points[1],\r\n            originLeft = points[0],\r\n            transformTop = (-1 * points[1]) + vpOffset.top,\r\n            transformLeft = (-1 * points[0]) + vpOffset.left,\r\n            newCss = {};\r\n\r\n        newCss[CSS_TRANS_ORG] = originLeft + 'px ' + originTop + 'px';\r\n        newCss[CSS_TRANSFORM] = new Transform(transformLeft, transformTop, scale).toString();\r\n        css(self.elements.preview, newCss);\r\n\r\n        _setZoomerVal.call(self, scale);\r\n        self._currentZoom = scale;\r\n    }\r\n\r\n    function _centerImage() {\r\n        var self = this,\r\n            imgDim = self.elements.preview.getBoundingClientRect(),\r\n            vpDim = self.elements.viewport.getBoundingClientRect(),\r\n            boundDim = self.elements.boundary.getBoundingClientRect(),\r\n            vpLeft = vpDim.left - boundDim.left,\r\n            vpTop = vpDim.top - boundDim.top,\r\n            w = vpLeft - ((imgDim.width - vpDim.width) / 2),\r\n            h = vpTop - ((imgDim.height - vpDim.height) / 2),\r\n            transform = new Transform(w, h, self._currentZoom);\r\n\r\n        css(self.elements.preview, CSS_TRANSFORM, transform.toString());\r\n    }\r\n\r\n    function _transferImageToCanvas(customOrientation) {\r\n        var self = this,\r\n            canvas = self.elements.canvas,\r\n            img = self.elements.img,\r\n            ctx = canvas.getContext('2d');\r\n\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n\r\n        var orientation = self.options.enableOrientation && customOrientation || getExifOrientation(img);\r\n        drawCanvas(canvas, img, orientation);\r\n    }\r\n\r\n    function _getCanvas(data) {\r\n        var self = this,\r\n            points = data.points,\r\n            left = num(points[0]),\r\n            top = num(points[1]),\r\n            right = num(points[2]),\r\n            bottom = num(points[3]),\r\n            width = right-left,\r\n            height = bottom-top,\r\n            circle = data.circle,\r\n            canvas = document.createElement('canvas'),\r\n            ctx = canvas.getContext('2d'),\r\n            startX = 0,\r\n            startY = 0,\r\n            canvasWidth = data.outputWidth || width,\r\n            canvasHeight = data.outputHeight || height;\r\n\r\n        canvas.width = canvasWidth;\r\n        canvas.height = canvasHeight;\r\n\r\n        if (data.backgroundColor) {\r\n            ctx.fillStyle = data.backgroundColor;\r\n            ctx.fillRect(0, 0, canvasWidth, canvasHeight);\r\n        }\r\n\r\n        // By default assume we're going to draw the entire\r\n        // source image onto the destination canvas.\r\n        var sx = left,\r\n            sy = top,\r\n            sWidth = width,\r\n            sHeight = height,\r\n            dx = 0,\r\n            dy = 0,\r\n            dWidth = canvasWidth,\r\n            dHeight = canvasHeight;\r\n\r\n        //\r\n        // Do not go outside of the original image's bounds along the x-axis.\r\n        // Handle translations when projecting onto the destination canvas.\r\n        //\r\n\r\n        // The smallest possible source x-position is 0.\r\n        if (left < 0) {\r\n            sx = 0;\r\n            dx = (Math.abs(left) / width) * canvasWidth;\r\n        }\r\n\r\n        // The largest possible source width is the original image's width.\r\n        if (sWidth + sx > self._originalImageWidth) {\r\n            sWidth = self._originalImageWidth - sx;\r\n            dWidth =  (sWidth / width) * canvasWidth;\r\n        }\r\n\r\n        //\r\n        // Do not go outside of the original image's bounds along the y-axis.\r\n        //\r\n\r\n        // The smallest possible source y-position is 0.\r\n        if (top < 0) {\r\n            sy = 0;\r\n            dy = (Math.abs(top) / height) * canvasHeight;\r\n        }\r\n\r\n        // The largest possible source height is the original image's height.\r\n        if (sHeight + sy > self._originalImageHeight) {\r\n            sHeight = self._originalImageHeight - sy;\r\n            dHeight = (sHeight / height) * canvasHeight;\r\n        }\r\n\r\n        // console.table({ left, right, top, bottom, canvasWidth, canvasHeight, width, height, startX, startY, circle, sx, sy, dx, dy, sWidth, sHeight, dWidth, dHeight });\r\n\r\n        ctx.drawImage(this.elements.preview, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\r\n        if (circle) {\r\n            ctx.fillStyle = '#fff';\r\n            ctx.globalCompositeOperation = 'destination-in';\r\n            ctx.beginPath();\r\n            ctx.arc(canvas.width / 2, canvas.height / 2, canvas.width / 2, 0, Math.PI * 2, true);\r\n            ctx.closePath();\r\n            ctx.fill();\r\n        }\r\n        return canvas;\r\n    }\r\n\r\n    function _getHtmlResult(data) {\r\n        var points = data.points,\r\n            div = document.createElement('div'),\r\n            img = document.createElement('img'),\r\n            width = points[2] - points[0],\r\n            height = points[3] - points[1];\r\n\r\n        addClass(div, 'croppie-result');\r\n        div.appendChild(img);\r\n        css(img, {\r\n            left: (-1 * points[0]) + 'px',\r\n            top: (-1 * points[1]) + 'px'\r\n        });\r\n        img.src = data.url;\r\n        css(div, {\r\n            width: width + 'px',\r\n            height: height + 'px'\r\n        });\r\n\r\n        return div;\r\n    }\r\n\r\n    function _getBase64Result(data) {\r\n        return _getCanvas.call(this, data).toDataURL(data.format, data.quality);\r\n    }\r\n\r\n    function _getBlobResult(data) {\r\n        var self = this;\r\n        return new Promise(function (resolve) {\r\n            _getCanvas.call(self, data).toBlob(function (blob) {\r\n                resolve(blob);\r\n            }, data.format, data.quality);\r\n        });\r\n    }\r\n\r\n    function _replaceImage(img) {\r\n        if (this.elements.img.parentNode) {\r\n            Array.prototype.forEach.call(this.elements.img.classList, function(c) { img.classList.add(c); });\r\n            this.elements.img.parentNode.replaceChild(img, this.elements.img);\r\n            this.elements.preview = img; // if the img is attached to the DOM, they're not using the canvas\r\n        }\r\n        this.elements.img = img;\r\n    }\r\n\r\n    function _bind(options, cb) {\r\n        var self = this,\r\n            url,\r\n            points = [],\r\n            zoom = null,\r\n            hasExif = _hasExif.call(self);\r\n\r\n        if (typeof (options) === 'string') {\r\n            url = options;\r\n            options = {};\r\n        }\r\n        else if (Array.isArray(options)) {\r\n            points = options.slice();\r\n        }\r\n        else if (typeof (options) === 'undefined' && self.data.url) { //refreshing\r\n            _updatePropertiesFromImage.call(self);\r\n            _triggerUpdate.call(self);\r\n            return null;\r\n        }\r\n        else {\r\n            url = options.url;\r\n            points = options.points || [];\r\n            zoom = typeof(options.zoom) === 'undefined' ? null : options.zoom;\r\n        }\r\n\r\n        self.data.bound = false;\r\n        self.data.url = url || self.data.url;\r\n        self.data.boundZoom = zoom;\r\n\r\n        return loadImage(url, hasExif).then(function (img) {\r\n            _replaceImage.call(self, img);\r\n            if (!points.length) {\r\n                var natDim = naturalImageDimensions(img);\r\n                var rect = self.elements.viewport.getBoundingClientRect();\r\n                var aspectRatio = rect.width / rect.height;\r\n                var imgAspectRatio = natDim.width / natDim.height;\r\n                var width, height;\r\n\r\n                if (imgAspectRatio > aspectRatio) {\r\n                    height = natDim.height;\r\n                    width = height * aspectRatio;\r\n                }\r\n                else {\r\n                    width = natDim.width;\r\n                    height = natDim.height / aspectRatio;\r\n                }\r\n\r\n                var x0 = (natDim.width - width) / 2;\r\n                var y0 = (natDim.height - height) / 2;\r\n                var x1 = x0 + width;\r\n                var y1 = y0 + height;\r\n                self.data.points = [x0, y0, x1, y1];\r\n            }\r\n            else if (self.options.relative) {\r\n                points = [\r\n                    points[0] * img.naturalWidth / 100,\r\n                    points[1] * img.naturalHeight / 100,\r\n                    points[2] * img.naturalWidth / 100,\r\n                    points[3] * img.naturalHeight / 100\r\n                ];\r\n            }\r\n\r\n            self.data.points = points.map(function (p) {\r\n                return parseFloat(p);\r\n            });\r\n            if (self.options.useCanvas) {\r\n                _transferImageToCanvas.call(self, options.orientation);\r\n            }\r\n            _updatePropertiesFromImage.call(self);\r\n            _triggerUpdate.call(self);\r\n            cb && cb();\r\n        });\r\n    }\r\n\r\n    function fix(v, decimalPoints) {\r\n        return parseFloat(v).toFixed(decimalPoints || 0);\r\n    }\r\n\r\n    function _get() {\r\n        var self = this,\r\n            imgData = self.elements.preview.getBoundingClientRect(),\r\n            vpData = self.elements.viewport.getBoundingClientRect(),\r\n            x1 = vpData.left - imgData.left,\r\n            y1 = vpData.top - imgData.top,\r\n            widthDiff = (vpData.width - self.elements.viewport.offsetWidth) / 2, //border\r\n            heightDiff = (vpData.height - self.elements.viewport.offsetHeight) / 2,\r\n            x2 = x1 + self.elements.viewport.offsetWidth + widthDiff,\r\n            y2 = y1 + self.elements.viewport.offsetHeight + heightDiff,\r\n            scale = self._currentZoom;\r\n\r\n        if (scale === Infinity || isNaN(scale)) {\r\n            scale = 1;\r\n        }\r\n\r\n        var max = self.options.enforceBoundary ? 0 : Number.NEGATIVE_INFINITY;\r\n        x1 = Math.max(max, x1 / scale);\r\n        y1 = Math.max(max, y1 / scale);\r\n        x2 = Math.max(max, x2 / scale);\r\n        y2 = Math.max(max, y2 / scale);\r\n\r\n        return {\r\n            points: [fix(x1), fix(y1), fix(x2), fix(y2)],\r\n            zoom: scale,\r\n            orientation: self.data.orientation\r\n        };\r\n    }\r\n\r\n    var RESULT_DEFAULTS = {\r\n            type: 'canvas',\r\n            format: 'png',\r\n            quality: 1\r\n        },\r\n        RESULT_FORMATS = ['jpeg', 'webp', 'png'];\r\n\r\n    function _result(options) {\r\n        var self = this,\r\n            data = _get.call(self),\r\n            opts = deepExtend(clone(RESULT_DEFAULTS), clone(options)),\r\n            resultType = (typeof (options) === 'string' ? options : (opts.type || 'base64')),\r\n            size = opts.size || 'viewport',\r\n            format = opts.format,\r\n            quality = opts.quality,\r\n            backgroundColor = opts.backgroundColor,\r\n            circle = typeof opts.circle === 'boolean' ? opts.circle : (self.options.viewport.type === 'circle'),\r\n            vpRect = self.elements.viewport.getBoundingClientRect(),\r\n            ratio = vpRect.width / vpRect.height,\r\n            prom;\r\n\r\n        if (size === 'viewport') {\r\n            data.outputWidth = vpRect.width;\r\n            data.outputHeight = vpRect.height;\r\n        } else if (typeof size === 'object') {\r\n            if (size.width && size.height) {\r\n                data.outputWidth = size.width;\r\n                data.outputHeight = size.height;\r\n            } else if (size.width) {\r\n                data.outputWidth = size.width;\r\n                data.outputHeight = size.width / ratio;\r\n            } else if (size.height) {\r\n                data.outputWidth = size.height * ratio;\r\n                data.outputHeight = size.height;\r\n            }\r\n        }\r\n\r\n        if (RESULT_FORMATS.indexOf(format) > -1) {\r\n            data.format = 'image/' + format;\r\n            data.quality = quality;\r\n        }\r\n\r\n        data.circle = circle;\r\n        data.url = self.data.url;\r\n        data.backgroundColor = backgroundColor;\r\n\r\n        prom = new Promise(function (resolve) {\r\n            switch(resultType.toLowerCase())\r\n            {\r\n                case 'rawcanvas':\r\n                    resolve(_getCanvas.call(self, data));\r\n                    break;\r\n                case 'canvas':\r\n                case 'base64':\r\n                    resolve(_getBase64Result.call(self, data));\r\n                    break;\r\n                case 'blob':\r\n                    _getBlobResult.call(self, data).then(resolve);\r\n                    break;\r\n                default:\r\n                    resolve(_getHtmlResult.call(self, data));\r\n                    break;\r\n            }\r\n        });\r\n        return prom;\r\n    }\r\n\r\n    function _refresh() {\r\n        _updatePropertiesFromImage.call(this);\r\n    }\r\n\r\n    function _rotate(deg) {\r\n        if (!this.options.useCanvas || !this.options.enableOrientation) {\r\n            throw 'Croppie: Cannot rotate without enableOrientation && EXIF.js included';\r\n        }\r\n\r\n        var self = this,\r\n            canvas = self.elements.canvas;\r\n\r\n        self.data.orientation = getExifOffset(self.data.orientation, deg);\r\n        drawCanvas(canvas, self.elements.img, self.data.orientation);\r\n        _updateCenterPoint.call(self, true);\r\n        _updateZoomLimits.call(self);\r\n    }\r\n\r\n    function _destroy() {\r\n        var self = this;\r\n        self.element.removeChild(self.elements.boundary);\r\n        removeClass(self.element, 'croppie-container');\r\n        if (self.options.enableZoom) {\r\n            self.element.removeChild(self.elements.zoomerWrap);\r\n        }\r\n        delete self.elements;\r\n    }\r\n\r\n    if (window.jQuery) {\r\n        var $ = window.jQuery;\r\n        $.fn.croppie = function (opts) {\r\n            var ot = typeof opts;\r\n\r\n            if (ot === 'string') {\r\n                var args = Array.prototype.slice.call(arguments, 1);\r\n                var singleInst = $(this).data('croppie');\r\n\r\n                if (opts === 'get') {\r\n                    return singleInst.get();\r\n                }\r\n                else if (opts === 'result') {\r\n                    return singleInst.result.apply(singleInst, args);\r\n                }\r\n                else if (opts === 'bind') {\r\n                    return singleInst.bind.apply(singleInst, args);\r\n                }\r\n\r\n                return this.each(function () {\r\n                    var i = $(this).data('croppie');\r\n                    if (!i) return;\r\n\r\n                    var method = i[opts];\r\n                    if ($.isFunction(method)) {\r\n                        method.apply(i, args);\r\n                        if (opts === 'destroy') {\r\n                            $(this).removeData('croppie');\r\n                        }\r\n                    }\r\n                    else {\r\n                        throw 'Croppie ' + opts + ' method not found';\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                return this.each(function () {\r\n                    var i = new Croppie(this, opts);\r\n                    i.$ = $;\r\n                    $(this).data('croppie', i);\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    function Croppie(element, opts) {\r\n        if (element.className.indexOf('croppie-container') > -1) {\r\n            throw new Error(\"Croppie: Can't initialize croppie more than once\");\r\n        }\r\n        this.element = element;\r\n        this.options = deepExtend(clone(Croppie.defaults), opts);\r\n\r\n        if (this.element.tagName.toLowerCase() === 'img') {\r\n            var origImage = this.element;\r\n            addClass(origImage, 'cr-original-image');\r\n            setAttributes(origImage, {'aria-hidden' : 'true', 'alt' : '' });\r\n            var replacementDiv = document.createElement('div');\r\n            this.element.parentNode.appendChild(replacementDiv);\r\n            replacementDiv.appendChild(origImage);\r\n            this.element = replacementDiv;\r\n            this.options.url = this.options.url || origImage.src;\r\n        }\r\n\r\n        _create.call(this);\r\n        if (this.options.url) {\r\n            var bindOpts = {\r\n                url: this.options.url,\r\n                points: this.options.points\r\n            };\r\n            delete this.options['url'];\r\n            delete this.options['points'];\r\n            _bind.call(this, bindOpts);\r\n        }\r\n    }\r\n\r\n    Croppie.defaults = {\r\n        viewport: {\r\n            width: 100,\r\n            height: 100,\r\n            type: 'square'\r\n        },\r\n        boundary: { },\r\n        orientationControls: {\r\n            enabled: true,\r\n            leftClass: '',\r\n            rightClass: ''\r\n        },\r\n        resizeControls: {\r\n            width: true,\r\n            height: true\r\n        },\r\n        customClass: '',\r\n        showZoomer: true,\r\n        enableZoom: true,\r\n        enableResize: false,\r\n        mouseWheelZoom: true,\r\n        enableExif: false,\r\n        enforceBoundary: true,\r\n        enableOrientation: false,\r\n        enableKeyMovement: true,\r\n        update: function () { }\r\n    };\r\n\r\n    Croppie.globals = {\r\n        translate: 'translate3d'\r\n    };\r\n\r\n    deepExtend(Croppie.prototype, {\r\n        bind: function (options, cb) {\r\n            return _bind.call(this, options, cb);\r\n        },\r\n        get: function () {\r\n            var data = _get.call(this);\r\n            var points = data.points;\r\n            if (this.options.relative) {\r\n                points[0] /= this.elements.img.naturalWidth / 100;\r\n                points[1] /= this.elements.img.naturalHeight / 100;\r\n                points[2] /= this.elements.img.naturalWidth / 100;\r\n                points[3] /= this.elements.img.naturalHeight / 100;\r\n            }\r\n            return data;\r\n        },\r\n        result: function (type) {\r\n            return _result.call(this, type);\r\n        },\r\n        refresh: function () {\r\n            return _refresh.call(this);\r\n        },\r\n        setZoom: function (v) {\r\n            _setZoomerVal.call(this, v);\r\n            dispatchChange(this.elements.zoomer);\r\n        },\r\n        rotate: function (deg) {\r\n            _rotate.call(this, deg);\r\n        },\r\n        destroy: function () {\r\n            return _destroy.call(this);\r\n        }\r\n    });\r\n    return Croppie;\r\n}));\r\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar sameValue = require('./_same-value');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[SEARCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative($search, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var render = function (_h,_vm) {var _c=_vm._c;return (_vm.props.loading)?_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{staticClass:\"custom-loader\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\",\"size\":72}})],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\r\n    <transition name=\"fade\" v-if=\"props.loading\">\r\n        <div class=\"custom-loader\">\r\n            <v-progress-circular\r\n                    indeterminate\r\n                    color=\"primary\"\r\n                    :size=\"72\"\r\n            />\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props: {\r\n            loading: Boolean\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .custom-loader {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 2;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background: rgba(224, 224, 189, 0.57);\r\n    }\r\n\r\n    .fade-enter-active,\r\n    .fade-leave-active {\r\n        transition: opacity 0.5s;\r\n    }\r\n\r\n    .fade-enter,\r\n    .fade-leave-to {\r\n        opacity: 1;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=36abbbd3&scoped=true&functional=true&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loader.vue?vue&type=style&index=0&id=36abbbd3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"36abbbd3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"crop-image\"},[_c('div',{staticClass:\"image\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"crop-image\">\r\n        <div class=\"image\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Croppie from 'croppie'\r\n    import 'croppie/croppie.css'\r\n\r\n    export default {\r\n        props: ['image', 'options', 'result'],\r\n        data: () => ({\r\n            croppie: null\r\n        }),\r\n\r\n        mounted() {\r\n            const image = document.querySelector('.image')\r\n            this.croppie = new Croppie(image, this.options)\r\n            this.croppie.bind(this.image)\r\n        },\r\n\r\n        methods: {\r\n            get_result() {\r\n                return this.croppie.result(this.result)\r\n            },\r\n            clear_component() {\r\n                this.croppie.destroy()\r\n                Object.assign(this.$data, this.$options.data.apply(this))\r\n            }\r\n        }\r\n    }\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CropImage.vue?vue&type=template&id=3750016f&\"\nimport script from \"./CropImage.vue?vue&type=script&lang=js&\"\nexport * from \"./CropImage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHeader.vue?vue&type=style&index=0&id=bb5f40ae&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHeader.vue?vue&type=style&index=0&id=bb5f40ae&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&id=36abbbd3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&id=36abbbd3&lang=scss&scoped=true&\"","import _debounce from 'lodash/debounce'\r\nimport makeRequestTo from '@/services/makeRequestTo'\r\nimport request from '@/services/axios_instance'\r\n\r\nexport const methods = {\r\n    methods: {\r\n        resetPagination() {\r\n            this.pagination.current = 1\r\n            this.pagination.total = 0\r\n            this.noMoreData = false\r\n        },\r\n        clear_selected() {\r\n            this.selected = []\r\n            this.$event.$emit('clear_selected', [])\r\n            this.$event.$emit('btnloading_off', false)\r\n        },\r\n        add_item(api_name, item, dynamic_api = null, cb) {\r\n            makeRequestTo[api_name](item, dynamic_api)\r\n                .then(response => {\r\n                    const new_items = response.data\r\n                    if (Array.isArray(new_items)) {\r\n                        new_items.reverse().forEach(new_item => this.items.push(new_item))\r\n                    } else {\r\n                        this.items.push(new_items)\r\n                    }\r\n                    this.clear_selected()\r\n                    this.$refs.add_dialog.clear_and_close()\r\n                    this.$event.$emit('open_snackbar', this.table_config.add_message)\r\n                    if (typeof cb === 'function') {\r\n                        cb(response)\r\n                    }\r\n                })\r\n                .finally(() => this.$event.$emit('btnloading_off', false))\r\n        },\r\n\r\n        extract_per_page(string) {\r\n            const starts = string.search('per_page')\r\n            return string.substring(starts + 9, starts + 10)\r\n        },\r\n\r\n        calc_per_page_items(page_rows, total_rows) {\r\n            const items = [5, 10, 15, 20, 25]\r\n\r\n            if (!items.includes(page_rows)) items.push(page_rows)\r\n\r\n            if (!items.includes(total_rows) && total_rows <= 25)\r\n                items.push(total_rows)\r\n\r\n            return items\r\n        },\r\n\r\n        update_item(api_name, item, dynamic_api = null, cb) {\r\n            makeRequestTo[api_name](this.edit_item.id, item, dynamic_api)\r\n                .then(response => {\r\n                    const index = this.items.findIndex(\r\n                        data_item => data_item.id === response.data.id\r\n                    )\r\n                    if (~index) this.items.splice(index, 1, response.data)\r\n                    this.edit_item = {\r\n                        id: null,\r\n                        fields: null\r\n                    }\r\n                    this.edit_dialog = false\r\n                    this.clear_selected()\r\n                    this.$event.$emit('open_snackbar', this.table_config.update_message)\r\n                    if (typeof cb === 'function') {\r\n                        cb(response)\r\n                    }\r\n                })\r\n                .finally(() => this.$event.$emit('btnloading_off', false))\r\n        },\r\n\r\n        delete_item(api_name, dynamic_api = null, cb) {\r\n            makeRequestTo[api_name](this.delete_item_id, dynamic_api)\r\n                .then(() => {\r\n                    const index = this.items.findIndex(\r\n                        data_item => data_item.id === this.delete_item_id\r\n                    )\r\n                    if (~index) this.items.splice(index, 1)\r\n                    this.delete_item_id = null\r\n                    this.delete_dialog = false\r\n                    this.clear_selected()\r\n                    this.$event.$emit('open_snackbar', this.table_config.delete_message)\r\n                    if (typeof cb === 'function') {\r\n                        cb(response)\r\n                    }\r\n                })\r\n                .finally(() => this.$event.$emit('btnloading_off', false))\r\n        },\r\n        bulk_delete(api_name) {\r\n            let payload = {\r\n                ids: this.selected.map(ii => {\r\n                    return ii.id\r\n                })\r\n            };\r\n\r\n            makeRequestTo[api_name]({data: payload})\r\n                .then(({data}) => {\r\n                    this.selected.forEach(item => {\r\n                        const index = this.items.findIndex(\r\n                            data_item => data_item.id === item.id\r\n                        )\r\n                        if (~index) this.items.splice(index, 1)\r\n                    })\r\n                    this.bulk_delete_dialog = false\r\n                    this.clear_selected()\r\n                    this.$event.$emit('open_snackbar', data.message)\r\n                })\r\n                .finally(() => {\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n        bulk_delete_via_url(url) {\r\n            let payload = {\r\n                ids: this.selected.map(ii => {\r\n                    return ii.id\r\n                })\r\n            };\r\n            request\r\n                .delete(url, {data: payload})\r\n                .then(({data}) => {\r\n                    this.selected.forEach(item => {\r\n                        const index = this.items.findIndex(\r\n                            data_item => data_item.id === item.id\r\n                        )\r\n                        if (~index) this.items.splice(index, 1)\r\n                    })\r\n                    this.bulk_delete_dialog = false\r\n                    this.clear_selected()\r\n                    this.$event.$emit('open_snackbar', data.message)\r\n                })\r\n                .finally(() => {\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n        open_edit_dialog(item) {\r\n            this.edit_dialog = true\r\n            this.$set(this.edit_item, 'id', item.id)\r\n            this.$set(this.edit_item, 'fields', item)\r\n        },\r\n\r\n        open_delete_dialog(item) {\r\n            this.delete_dialog = true\r\n            this.delete_item_id = item.id\r\n        },\r\n\r\n        open_bulk_delete_dialog(items) {\r\n            this.bulk_delete_dialog = true\r\n            this.selected = items\r\n        },\r\n\r\n        fill_table(api_name, nested_response = false, dynamic_api = null) {\r\n            this.loading = true\r\n            makeRequestTo[api_name](dynamic_api)\r\n                .then(response => {\r\n                    this.items_response = response.data\r\n                    if (nested_response) {\r\n                        this.items = response.data.data\r\n                        this.pagination.current = response.data.current_page\r\n                        this.pagination.total = response.data.last_page\r\n                        this.hasMoreData()\r\n                    } else {\r\n                        this.items = response.data\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    this.clear_selected()\r\n                    this.loading = false\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n        fill_table_via_url(url, nested_response = true, cb) {\r\n            this.loading = true\r\n            let payload = {page: this.pagination.current};\r\n            if (!url.includes('per_page')) {\r\n                payload.per_page = this.$store.getters['configs/general_page_limits']\r\n            }\r\n            request\r\n                .get(url, {params: payload})\r\n                .then(response => {\r\n                    this.items_response = response.data\r\n                    if (nested_response) {\r\n                        this.items = response.data.data\r\n                        this.pagination.current = response.data.current_page\r\n                        this.pagination.total = response.data.last_page\r\n                        this.hasMoreData()\r\n                    } else {\r\n                        this.items = response.data\r\n                    }\r\n                    if (typeof cb === 'function') {\r\n                        cb(response)\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    this.clear_selected()\r\n                    this.loading = false\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n        load_more_on_table(api_name) {\r\n            this.loading = true\r\n            let payload = {page: this.pagination.current + 1};\r\n\r\n            makeRequestTo[api_name]({params: payload})\r\n                .then(({data}) => {\r\n                    this.items_response = data.data\r\n                    data.data.forEach(item => {\r\n                        this.items.push(item)\r\n                    })\r\n                    this.pagination.current = data.current_page\r\n                    this.pagination.total = data.last_page\r\n                    this.hasMoreData()\r\n                })\r\n                .finally(() => {\r\n                    this.clear_selected()\r\n                    this.loading = false\r\n                    this.scrollToBottom()\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n        load_more_via_url(url, cb) {\r\n            this.loading = true\r\n            let payload = {page: this.pagination.current + 1};\r\n            if (!url.includes('per_page')) {\r\n                payload.per_page = this.$store.getters['configs/general_page_limits']\r\n            }\r\n            request\r\n                .get(url, {params: payload})\r\n                .then(({data}) => {\r\n                    this.items_response = data.data\r\n                    data.data.forEach(item => {\r\n                        this.items.push(item)\r\n                    })\r\n                    this.pagination.current = data.current_page\r\n                    this.pagination.total = data.last_page\r\n                    this.hasMoreData()\r\n                    if (typeof cb === 'function') {\r\n                        cb(data)\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    this.clear_selected()\r\n                    this.loading = false\r\n                    this.scrollToBottom()\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n\r\n        fill_table_with_data(data) {\r\n            this.items = data\r\n        },\r\n\r\n        add_table_rows(rows, response) {\r\n            this.items = rows\r\n            this.items_response = response\r\n        },\r\n\r\n        changeSort(column) {\r\n            if (this.sort.sortBy === column) {\r\n                this.sort.descending = !this.sort.descending\r\n            } else {\r\n                this.sort.sortBy = column\r\n                this.sort.descending = false\r\n            }\r\n        },\r\n\r\n        refresh_table(query) {\r\n            makeRequestTo[this.table_config.refresh_table_api_name](query)\r\n                .then(response => {\r\n                    this.$event.$emit(\r\n                        'open_snackbar',\r\n                        this.table_config.refresh_table_message\r\n                    )\r\n                    this.loading = false\r\n                    this.clear_selected()\r\n                    this.items_response = response.data\r\n                    this.items = response.data.data\r\n                })\r\n                .finally(() => this.$event.$emit('btnloading_off', false))\r\n        },\r\n\r\n        update_table_actions(query) {\r\n            if (query.page) this.page = Number(query.page)\r\n            if (query.per_page) this.rows_per_page = Number(query.per_page)\r\n            if (query.search) this.search = query.search\r\n            if (query.sort) {\r\n                const sort = query.sort.split('|')\r\n                this.sort.sortBy = sort[0]\r\n                if (sort[1] === 'asc') this.sort.descending = false\r\n                else if (sort[1] === 'desc') this.sort.descending = true\r\n            }\r\n        },\r\n        hasMoreData() {\r\n            this.componentKey += 1\r\n            if (this.pagination.current >= this.pagination.total) {\r\n                this.noMoreData = true\r\n            }\r\n        },\r\n        toggleAll() {\r\n            if (this.selected.length) this.clear_selected()\r\n            else this.selected = this.items.slice()\r\n        },\r\n\r\n        setPreferredView(view) {\r\n            window.localStorage.setItem('bzk_prefer_view', view)\r\n            this.view = view\r\n        },\r\n\r\n        getPreferredView() {\r\n            return window.localStorage.getItem('bzk_prefer_view') || 'list'\r\n        },\r\n\r\n        scrollToBottom() {\r\n            setTimeout(() => {\r\n                const wrapper = document.getElementsByClassName(\r\n                    'v-data-table__wrapper'\r\n                )[0]\r\n                if (wrapper) {\r\n                    wrapper.scrollTop = wrapper.scrollHeight\r\n                }\r\n            }, 1)\r\n        },\r\n        debounce: _debounce(function (value) {\r\n            this.search = value\r\n        }, 500)\r\n    }\r\n}","import {methods} from './methods'\r\n\r\nexport const list_functionality = {\r\n    mixins: [methods],\r\n    data: () => ({\r\n        edit_dialog: false,\r\n        add_dialog: false,\r\n        delete_dialog: false,\r\n        permissionDialog: false,\r\n        bulk_delete_dialog: false,\r\n        loading: false,\r\n        items: [],\r\n        items_response: null,\r\n        edit_item: {\r\n            id: null,\r\n            fields: null\r\n        },\r\n        delete_item_id: null,\r\n        show_delete_selected: false,\r\n        selected_ids: [],\r\n        selected: [],\r\n        rows_per_page: null,\r\n        page: 1,\r\n        sort: {\r\n            sortBy: null,\r\n            descending: false\r\n        },\r\n        search: '',\r\n        pagination: {\r\n            current: 1,\r\n            total: 0\r\n        },\r\n        noMoreData: false,\r\n        componentKey: 1,\r\n        view: 'list',\r\n        btnloading: false\r\n    }),\r\n\r\n    watch: {\r\n        selected_ids(new_val) {\r\n            new_val.length > 0 ?\r\n                (this.show_delete_selected = true) :\r\n                (this.show_delete_selected = false)\r\n        },\r\n        api_query(query, old_query) {\r\n            const new_per_page = Number(this.extract_per_page(query))\r\n            const old_per_page = Number(this.extract_per_page(old_query)) || null\r\n\r\n            if (\r\n                this.items_response &&\r\n                this.rows_per_page === this.items.length &&\r\n                new_per_page !== old_per_page\r\n            )\r\n                return\r\n\r\n            this.$router.replace({\r\n                name: this.table_config.route_name,\r\n                query: {\r\n                    page: this.page,\r\n                    per_page: this.rows_per_page,\r\n                    search: this.search,\r\n                    sort: this.query_for_sorting\r\n                }\r\n            })\r\n            this.loading = true\r\n            this.refresh_table(query)\r\n        }\r\n    }\r\n}"],"sourceRoot":""}