(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5da6b8e"],{"0edc5":function(t,e,i){},"14e1":function(t,e,i){},"174f":function(t,e,i){},"259d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"breadcrumb-wrapper"},[i("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[i("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:n.disabled}},[i("span",{on:{click:function(e){return t.navigate_from_breadcrumb(n)}}},[t._v(" "+t._s(n.text)+" ")])])]}}])},[i("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1),t._t("extra")],2)},a=[],s={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},l=s,o=(i("5e17"),i("79a2"),i("2877")),r=Object(o["a"])(l,n,a,!1,null,"3cda09ee",null);e["a"]=r.exports},"29d6":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[i("breadcrumb",{attrs:{paths:t.paths}}),i("v-flex",[t.noButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click")}}},[i("v-icon",[t._v("add")])],1),t.noSortButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-sort-by")}}},[i("v-icon",[t._v("sort")])],1),t.noListButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-list-view")}}},[i("v-icon",[t._v("list")])],1),t.noGridButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-grid-view")}}},[i("v-icon",[t._v("mdi-view-dashboard")])],1),t._t("form-btn")],2)],1)},a=[],s=i("259d"),l={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:s["a"]}},o=l,r=(i("337a"),i("2877")),d=Object(r["a"])(o,n,a,!1,null,"b8bfd1cc",null);e["a"]=d.exports},"2c3d":function(t,e,i){"use strict";var n=i("302b"),a=i.n(n);a.a},"302b":function(t,e,i){},"337a":function(t,e,i){"use strict";var n=i("9e25"),a=i.n(n);a.a},"3c10":function(t,e,i){},"492a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"milestone-task"},[i("task-dialog",{ref:"add_dialog",attrs:{dialog:t.add_dialog,"dialog-title":"Add Task"},on:{"update:dialog":function(e){t.add_dialog=e},save:function(e){return t.add_item("add_new_task",e,t.dynamic_api)}}}),i("task-dialog",{ref:"edit_dialog",attrs:{dialog:t.edit_dialog,"dialog-title":"Edit Task","is-edit-dialog":t.edit_dialog,"fields-to-edit":t.edit_item},on:{"update:dialog":function(e){t.edit_dialog=e},save:function(e){return t.update_item("edit_task",e,t.dynamic_api)}}}),i("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Task","text-content":"Are you sure you want to delete this task?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:function(e){return t.delete_item("delete_task",t.dynamic_api)}}}),i("delete-dialog",{attrs:{"open-dialog":t.bulk_delete_dialog,title:"Delete Milestone Task","text-content":"Are you sure you want to delete these milestone tasks? This can't be undone."},on:{"update:openDialog":function(e){t.bulk_delete_dialog=e},"update:open-dialog":function(e){t.bulk_delete_dialog=e},delete:function(e){return t.bulk_delete_via_url(t.dynamic_bulk_delete_api)}}}),i("v-layout",[i("v-flex",{attrs:{xs12:""}},[i("table-header",{attrs:{paths:t.paths},on:{click:function(e){t.add_dialog=!0}}}),i("VueTable",{key:t.componentKey,attrs:{items:t.items,headers:t.headers,showRowActions:!0,loading:t.loading,title:t.table_title,noMoreData:t.noMoreData},on:{"load-more":t.load_more,"delete-selected":function(e){return t.open_bulk_delete_dialog(e)}},scopedSlots:t._u([{key:"row-slot",fn:function(e){var n=e.item;return[i("td",{staticClass:"text-xs-left text-cap"},[t._v(t._s(n.title))]),i("td",{staticClass:"text-xs-left textarea-cap desc",domProps:{innerHTML:t._s(t.short_description_text(n.description))}}),i("td",{staticClass:"text-xs-left text-cap"},[t._v(t._s(n.status))]),i("td",{staticClass:"text-xs-left"},[t._v(t._s(0===n.days?"":n.days))]),i("Actions",{attrs:{item:n,hasView:!1,permissions:t.$_permissions.get("hq_milestone_tasks")},on:{edit:function(e){return t.open_edit_dialog(n)},delete:function(e){return t.open_delete_dialog(n)},view:function(e){return t.navigate_to_milestone_page(n)}}})]}},{key:"empty-slot",fn:function(){return[i("v-btn",{attrs:{dark:"",color:"#3b589e"},on:{click:function(e){t.add_dialog=!0}}},[i("v-icon",{attrs:{left:""}},[t._v("add")]),t._v(" Add Task")],1)]},proxy:!0}])})],1)],1)],1)},a=[],s=(i("7f7f"),i("c5f6"),i("e06e")),l=i("0ebe"),o=i("ee09"),r=i("5b70"),d=i("29d6"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("custom-dialog",{ref:"dialog",attrs:{title:t.dialogTitle,open:t.open,"button2-text":"Save"},on:{"update:open":function(e){t.open=e},button1:t.cancel,button2:t.save}},[i("template",{slot:"content"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Add task title",color:"#667187",filled:"","hide-details":""},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-select",{staticClass:"dialog__selectfield d-field",attrs:{label:"Select Group",items:t.group_items,"item-text":"name","item-value":"id",color:"#667187",filled:"","hide-details":""},model:{value:t.selected_group,callback:function(e){t.selected_group="string"===typeof e?e.trim():e},expression:"selected_group"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-checkbox",{staticClass:"mx-2",attrs:{label:"No Specific Days"},model:{value:t.disabled,callback:function(e){t.disabled=e},expression:"disabled"}}),i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Add days",type:"number",min:"0",color:"#667187",filled:"","hide-details":"",disabled:t.disabled},model:{value:t.days,callback:function(e){t.days=t._n(e)},expression:"days"}})],1),i("v-flex",{attrs:{xs12:""}},[i("div",{staticClass:"dialog__textarea d-field"},[i("rich-editor",{ref:"editor",attrs:{placeholder:"Add task description"},model:{value:t.quill_editor.description,callback:function(e){t.$set(t.quill_editor,"description",e)},expression:"quill_editor.description"}})],1)])],1)],1)],2)},c=[],f=(i("a753"),i("8096"),i("14e1"),i("953d")),_=i("1be9"),p=i("57e5"),m=i("4ad3"),h={name:"TasksDialog",components:{CustomDialog:p["a"],RichEditor:m["a"],quillEditor:f["quillEditor"]},props:{dialog:Boolean,dialogTitle:String,isEditDialog:Boolean,fieldsToEdit:{type:Object,default:function(){}}},data:function(){return{open:!1,title:null,quill_editor:{description:""},status:"open",selected_group:null,group_items:[],days_init_value:1,disabled:!1}},computed:{dynamic_api:function(){return"api/projects/".concat(this.id,"/member")},days:{get:function(){return this.days_init_value},set:function(t){parseInt(t)<1?this.days_init_value=1:this.days_init_value=t}}},watch:{dialog:function(t){var e=this;t&&_["a"].get("api/groups?all=true").then((function(t){var i=t.data;return e.group_items=i})),this.open=t},open:function(t){this.$emit("update:dialog",t)},fieldsToEdit:{handler:function(t){this.isEditDialog&&this.update_fields(t)},deep:!0}},methods:{cancel:function(){this.open=!1},save:function(){var t={title:this.title,description:this.quill_editor.description,status:this.status,days:this.disabled?0:this.days,role_id:this.selected_group};this.$emit("save",t)},update_fields:function(t){var e=t.fields,i=Object.assign({},e);this.title=i.title,this.$set(this.quill_editor,"description",i.description),this.status=i.status,this.days=this.disabled?0:i.days,this.selected_group=i.role_id},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.cancel()}}},v=h,b=(i("2c3d"),i("2877")),g=Object(b["a"])(v,u,c,!1,null,"d7945c6a",null),y=g.exports,x=i("d4e9"),k={mixins:[s["a"]],components:{VueTable:l["a"],DeleteDialog:r["a"],TaskDialog:y,TableHeader:d["a"],Actions:o["a"]},props:{template_id:[Number,String],milestone_id:[Number,String]},data:function(){return{template_name:"",milestone_name:"",headers:[{text:"Title",value:"title"},{text:"Description",value:"description"},{text:"Status",value:"status"},{text:"Days",value:"days"},{text:"Action",value:"action",width:"140px",align:"center"}],table_config:{route_name:"templates/milestone/task",add_message:"New Task added successfully!",update_message:"Task updated successfully!",delete_message:"Task deleted successfully!"}}},computed:{dynamic_api:function(){return"api/milestone/".concat(this.milestone_id,"/task")},dynamic_bulk_delete_api:function(){return"api/milestone/".concat(this.milestone_id,"/task/bulk-delete")},paths:function(){return[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Templates",disabled:!1,router_name:"templates"},{text:"Milestones",disabled:!1,router_name:null,path:"/dashboard/templates/".concat(this.template_id,"/milestone")},{text:"Tasks",disabled:!0,router_name:null}]},table_title:function(){return this.milestone_name&&this.template_name?this.template_name+": "+this.milestone_name:""}},created:function(){var t=this;this.fill_table_via_url(this.dynamic_api,!0),x["a"].get_milestones("api/template/".concat(this.template_id)).then((function(e){var i=e.data;t.template_name=i.name})).finally((function(){return t.loading=!1})),x["a"].get_milestones("api/template/".concat(this.template_id,"/milestone/").concat(this.milestone_id)).then((function(e){var i=e.data;t.milestone_name=i.title})).finally((function(){return t.loading=!1}))},methods:{short_description_text:function(t){return t.length>12?t.slice(0,11)+"...":t},load_more:function(){this.load_more_via_url(this.dynamic_api)}}},w=k,q=(i("e14f"),i("c826"),Object(b["a"])(w,n,a,!1,null,"0530c825",null));e["default"]=q.exports},"5e17":function(t,e,i){"use strict";var n=i("8c6e"),a=i.n(n);a.a},"79a2":function(t,e,i){"use strict";var n=i("0edc5"),a=i.n(n);a.a},"7e7e":function(t,e,i){"use strict";var n=i("174f"),a=i.n(n);a.a},"7ed3":function(t,e,i){},8096:function(t,e,i){},"8c6e":function(t,e,i){},"953d":function(t,e,i){!function(e,n){t.exports=n(i("9339"))}(0,(function(t){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=2)}([function(e,i){e.exports=t},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4),a=i.n(n),s=i(6),l=i(5),o=l(a.a,s.a,!1,null,null,null);e.default=o.exports},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.quillEditor=e.Quill=void 0;var a=i(0),s=n(a),l=i(1),o=n(l),r=window.Quill||s.default,d=function(t,e){e&&(o.default.props.globalOptions.default=function(){return e}),t.component(o.default.name,o.default)},u={Quill:r,quillEditor:o.default,install:d};e.default=u,e.Quill=r,e.quillEditor=o.default,e.install=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),s=n(a),l=i(3),o=n(l),r=window.Quill||s.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])}return i},writable:!0,configurable:!0}),e.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:o.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var t=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new r(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",(function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)})),this.quill.on("text-change",(function(e,i,n){var a=t.$refs.editor.children[0].innerHTML,s=t.quill,l=t.quill.getText();"<p><br></p>"===a&&(a=""),t._content=a,t.$emit("input",t._content),t.$emit("change",{html:a,text:l,quill:s})})),this.$emit("ready",this.quill))}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},function(t,e){t.exports=function(t,e,i,n,a,s){var l,o=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(l=t,o=t.default);var d,u="function"==typeof o?o.options:o;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),a&&(u._scopeId=a),s?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=d):n&&(d=n),d){var c=u.functional,f=c?u.render:u.beforeCreate;c?(u._injectStyles=d,u.render=function(t,e){return d.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,d):[d]}return{esModule:l,exports:o,options:u}}},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),i("div",{ref:"editor"})],2)},a=[],s={render:n,staticRenderFns:a};e.a=s}])}))},"9e25":function(t,e,i){},a753:function(t,e,i){},c826:function(t,e,i){"use strict";var n=i("3c10"),a=i.n(n);a.a},e14f:function(t,e,i){"use strict";var n=i("7ed3"),a=i.n(n);a.a},ee09:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{staticClass:"table-actions",attrs:{align:"center"}},[t.hasEdit?i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_edit,expression:"can_edit"}],attrs:{dense:"",dense:"",icon:""},on:{click:function(e){return t.handle_action("edit")}}},[i("v-icon",{attrs:{small:""}},[t._v(t._s(t.editIcon))])],1):t._e(),t.hasDelete?i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_delete,expression:"can_delete"}],attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("delete")}}},[i("v-icon",{attrs:{small:""}},[t._v(t._s(t.deleteIcon))])],1):t._e(),t.hasView?i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.can_view,expression:"can_view"}],attrs:{dense:"",icon:""},on:{click:function(e){return t.handle_action("view")}}},[i("v-icon",{attrs:{small:""}},[t._v(t._s(t.viewIcon))])],1):t._e()],1)},a=[],s={props:{item:{type:Object,default:null},permissions:{type:Object,default:function(){return{delete:!0,update:!0,create:!0,view:!0}}},editIcon:{type:String,default:"mdi-pencil"},viewIcon:{type:String,default:"pageview"},deleteIcon:{type:String,default:"mdi-delete"},hasDelete:{type:Boolean,default:!0},hasEdit:{type:Boolean,default:!0},hasView:{type:Boolean,default:!0}},computed:{logged_user:function(){return this.$store.getters.user}},methods:{handle_action:function(t){this.item&&this.$emit(t,this.item)},can_delete:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.delete},can_edit:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.update},can_view:function(){return!!this.logged_user.is_admin||this.permissions&&this.permissions.view}}},l=s,o=(i("7e7e"),i("2877")),r=Object(o["a"])(l,n,a,!1,null,null,null);e["a"]=r.exports}}]);
//# sourceMappingURL=chunk-f5da6b8e.c3816f5c.js.map