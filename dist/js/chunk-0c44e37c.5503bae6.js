(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c44e37c"],{"2f68":function(t,e,s){"use strict";var a=function(t,e){var s=e._c;return s("div",{staticClass:"task__chips text-xs-center"},[s("v-chip",{staticClass:"mx-1",class:["task__chip",{active:"all"===e.props.activeChip}],attrs:{small:""},on:{click:function(t){return e.listeners["update:activeChip"]("all")}}},[s("v-avatar",{staticClass:"task__avatar",attrs:{left:""}},[e._v(e._s(e.props.countAll))]),e._v(" All ")],1),s("v-chip",{staticClass:"mx-1",class:["task__chip",{active:"completed"===e.props.activeChip}],attrs:{small:""},on:{click:function(t){return e.listeners["update:activeChip"]("completed")}}},[s("v-avatar",{staticClass:"task__avatar",attrs:{left:""}},[e._v(e._s(e.props.countCompleted))]),e._v(" Done ")],1),s("v-chip",{staticClass:"mx-1",class:["task__chip",{active:"pending"===e.props.activeChip}],attrs:{small:""},on:{click:function(t){return e.listeners["update:activeChip"]("pending")}}},[s("v-avatar",{staticClass:"task__avatar",attrs:{left:""}},[e._v(e._s(e.props.countPending))]),e._v(" Pending ")],1),s("v-chip",{staticClass:"mx-1",class:["task__chip",{active:"behind"===e.props.activeChip}],attrs:{small:""},on:{click:function(t){return e.listeners["update:activeChip"]("behind")}}},[s("v-avatar",{staticClass:"task__avatar",attrs:{left:""}},[e._v(e._s(e.props.countBehind))]),e._v(" Behind ")],1)],1)},i=[],n=(s("c5f6"),{name:"TaskChips",props:{countAll:Number,countCompleted:Number,countPending:Number,countBehind:Number,activeChip:String}}),c=n,r=(s("5b40"),s("317e"),s("2877")),o=Object(r["a"])(c,a,i,!0,null,"74778208",null);e["a"]=o.exports},"317e":function(t,e,s){"use strict";var a=s("e953"),i=s.n(a);i.a},3293:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-custom-table"},[s("v-layout",{staticClass:"task_header"},["All Tasks"==t.tab?s("v-flex",{staticClass:"task__tableHead",attrs:{xs3:""}},[t._v("Assigned ")]):t._e(),"All Tasks"==t.tab?s("v-flex",{staticClass:"task__tableHead",attrs:{xs5:""}},[t._v("Task")]):t._e(),"All Tasks"!=t.tab?s("v-flex",{staticClass:"task__tableHead",attrs:{xs8:""}},[t._v("Task")]):t._e(),s("v-flex",{staticClass:"task__tableHead text-center",attrs:{xs2:""}},[t._v("Status")]),s("v-flex",{staticClass:"task__tableHead text-center",attrs:{xs2:""}},[t._v("Action")])],1),s("div",{staticClass:"task_body",style:{height:t.bodyMaxHeight}},t._l(t.tasks,(function(e){return s("v-layout",{key:e.id,staticClass:"task-row",class:["task__tableBody",{active:e.id===t.active_task_id}],attrs:{"align-center":""},on:{click:function(s){return t.task_view_action(e)}}},["All Tasks"==t.tab?s("v-flex",{staticClass:"assignee__col",attrs:{xs3:""}},[e.assignee.length>0?s("Avatars",{staticStyle:{display:"inline-block"},attrs:{deep:!1,items:e.assignee,count:1}}):s("v-avatar",{attrs:{size:"40"}},[s("v-icon",{attrs:{large:""}},[t._v("mdi-account-question-outline")])],1)],1):t._e(),"All Tasks"==t.tab?s("v-flex",{staticClass:"project__col subtitle-2",attrs:{xs5:""}},[t._v(" "+t._s(t._f("ucwords")(e.title))+" ")]):t._e(),"All Tasks"!=t.tab?s("v-flex",{staticClass:"project__col",attrs:{xs8:""}},[t._v(" "+t._s(t._f("ucwords")(e.title))+" ")]):t._e(),s("v-flex",{staticClass:"status__col text-center",attrs:{xs2:""}},[t._v(" "+t._s(e.status)+" "),"completed"===e.status?s("div",[s("div",{staticClass:"status__completed"})]):t._e(),"pending"===e.status?s("div",[s("div",{staticClass:"status__pending"})]):t._e(),"behind"===e.status?s("div",[s("div",{staticClass:"status__behind"})]):t._e(),"open"===e.status?s("div",[s("div",{staticClass:"status__open"})]):t._e()]),s("v-flex",{staticClass:"action__col",attrs:{xs2:""}},[s("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[s("v-btn",t._g({attrs:{color:"grey",dark:"",icon:""}},Object.assign({},i,a)),[s("v-icon",[t._v("mdi-dots-horizontal")])],1)]}}],null,!0)},[s("span",[t._v("Actions")])])]}}],null,!0)},[s("v-list",{attrs:{dense:""}},["completed"!==e.status&&t.can_edit_task?s("v-list-item",{on:{click:function(s){return t.task_action(e,"task-edit")}}},[s("v-list-item-title",[s("v-icon",{attrs:{color:"grey",left:""}},[t._v("mdi-file-document-edit-outline")]),t._v(" Edit Task ")],1)],1):t._e(),t.can_delete_task?s("v-list-item",{on:{click:function(s){return t.task_action(e,"task-delete")}}},[s("v-list-item-title",[s("v-icon",{attrs:{color:"grey",left:""}},[t._v("mdi-delete-alert-outline")]),t._v(" Delete Task ")],1)],1):t._e(),t.can_view_task?s("v-list-item",{on:{click:function(s){return t.task_view_action(e)}}},[s("v-list-item-title",[s("v-icon",{attrs:{color:"grey",left:""}},[t._v("mdi-clipboard-text-play")]),t._v(" View Task ")],1)],1):t._e(),"completed"!==e.status&&t.can_edit_task?s("v-list-item",{on:{click:function(s){return t.task_action(e,"task-mark-as-complete")}}},[s("v-list-item-title",[s("v-icon",{attrs:{color:"grey",left:""}},[t._v("mdi-clipboard-check")]),t._v(" Mark as Complete ")],1)],1):t._e()],1)],1)],1)],1)})),1)],1)},i=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("20d6"),s("ade3")),c=s("fcce"),r=s("72c1"),o=s("2f62");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function _(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"TaskCustomTable",components:{Avatars:r["a"]},props:{tasks:Array,tab:String},inject:{bodyMaxHeight:{from:"bodyMaxHeight",default:"200px"}},data:function(){return{active_task_id:null}},created:function(){var t=this;this.tasks.length>0&&(this.active_task_id=this.tasks[0].id,this.$event.$emit("show-task-side-preview",this.tasks[0])),this.$event.$on("task_completed",(function(e){t.active_task_id||(t.active_task_id=e.id),t.task_is_completed()})),this.$event.$on("task_deleted",(function(e){t.active_task_id||(t.active_task_id=e.id),t.task_is_deleted()})),this.$event.$on("task-is-updated",(function(e){t.replace_task(e,e.id)}))},computed:_(_({},Object(o["c"])("taskCards",["page"])),{},{user:function(){return this.$store.getters.user},permission:function(){return this.$_permissions.get("tasks_own")},can_view_task:function(){return!!this.user.is_admin||this.permission&&this.permission.view},can_edit_task:function(){return!!this.user.is_admin||this.permission&&this.permission.update},can_delete_task:function(){return!!this.user.is_admin||this.permission&&this.permission.delete}}),methods:{row_clicked:function(t){this.active_task_id=t.id,this.$event.$emit("show-task-side-preview",t)},task_action:function(t,e){this.$event.$emit(e,t)},task_view_action:function(t){"project-preview"===this.page?this.row_clicked(t):this.task_action(t,"task-view")},replace_task:function(t,e){var s=this.tasks.findIndex((function(t){return t.id===e}));~s&&this.tasks.splice(s,1,t)},remove_task:function(t){var e=this.tasks.findIndex((function(e){return e.id===t}));~e&&this.tasks.splice(e,1)},task_is_completed:function(){var t=this,e={status:"completed"};c["a"].mark_as_complete_task(this.active_task_id,e).then((function(e){var s=e.data;t.replace_task(s,t.active_task_id),t.$event.$emit("btnloading_off",!1),t.$event.$emit("open_snackbar","Task is completed"),t.$event.$emit("close_confirm_dialog",!0)}))},task_is_deleted:function(){var t=this;c["a"].delete_task(this.active_task_id).then((function(){t.remove_task(t.active_task_id),t.$event.$emit("btnloading_off",!1),t.$event.$emit("close_delete_dialog",!0),t.$event.$emit("open_snackbar","Task is deleted")}))}}},v=u,d=(s("e885"),s("2877")),p=Object(d["a"])(v,a,i,!1,null,"8f81a876",null);e["a"]=p.exports},3685:function(t,e,s){"use strict";var a=s("87fa"),i=s.n(a);i.a},"5b40":function(t,e,s){"use strict";var a=s("6322"),i=s.n(a);i.a},6322:function(t,e,s){},"72c1":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"avatar-wrapper"},[s("ul",{staticClass:"avatars"},[t._l(t.cutList,(function(e,a){return t.cutList.length>0?s("li",{key:a,staticClass:"avatars__item"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on;return[t.deep&&e.user?s("img",t._g({staticClass:"avatars__img",attrs:{src:e.user.image_url}},i)):e?s("img",t._g({staticClass:"avatars__img",attrs:{src:e.image_url}},i)):t._e()]}}],null,!0)},[t.deep&&e.user?s("span",[t._v(t._s(e.user.fullname))]):e?s("span",[t._v(t._s(e.fullname))]):t._e()])],1):t._e()})),t.less>0?s("li",{staticClass:"avatars__item"},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("span",t._g({staticClass:"avatars__others"},a),[t._v("+"+t._s(t.less))])]}}],null,!1,1062212335)},[s("span",{domProps:{innerHTML:t._s(t.lessList)}})])],1):t._e(),t.hasAddMember?s("li",{staticClass:"avatars__item"},[s("span",{staticClass:"avatars__add"},[s("v-icon",{attrs:{dark:""},on:{click:function(e){return t.$emit("add-member")}}},[t._v("add")])],1)]):t._e()],2)])},i=[],n=(s("c5f6"),s("0644")),c=s.n(n),r={inheritAttrs:!1,props:{items:{type:Array,default:function(){return[]}},count:{type:Number,default:3},deep:{type:Boolean,default:!1},hasAddMember:{type:Boolean,default:!1}},computed:{less:function(){return this.items.length-this.count},cutList:function(){return this.items.length<this.count?this.items:c()(this.items).slice(0,this.count)},lessList:function(){var t=this,e=c()(this.items).slice(this.count,this.items.length);return e.length>0?e.map((function(e){return t.deep?e.user?e.user.fullname:"Deleted User":e?e.fullname:"Deleted User"})).join("<br>"):"Deleted User"}}},o=r,l=(s("3685"),s("2877")),_=Object(l["a"])(o,a,i,!1,null,"6b3a9d69",null);e["a"]=_.exports},8475:function(t,e,s){},"87fa":function(t,e,s){},e885:function(t,e,s){"use strict";var a=s("8475"),i=s.n(a);i.a},e953:function(t,e,s){},fcce:function(t,e,s){"use strict";var a=s("1be9");e["a"]={get_project_members:function(t){return a["a"].get("api/projects/".concat(t,"/member?all=true"))},get_project_milestones:function(t){return a["a"].get("api/project/".concat(t,"/milestone?all=true"))},get_own_tasks:function(t){return a["a"].get("api/projects/".concat(t,"/tasks/mine?all=true"))},get_all_tasks:function(t){return a["a"].get("api/projects/".concat(t,"/tasks?all=true"))},get_task:function(t){return a["a"].get("api/task/".concat(t))},create_new_task:function(t){return a["a"].post("api/task",t)},edit_task:function(t,e){return a["a"].put("api/task/".concat(t),e)},delete_task:function(t){return a["a"].delete("api/task/".concat(t))},mark_as_complete_task:function(t,e){return a["a"].put("api/task/".concat(t,"/mark-as-complete"),e)}}}}]);
//# sourceMappingURL=chunk-0c44e37c.5503bae6.js.map