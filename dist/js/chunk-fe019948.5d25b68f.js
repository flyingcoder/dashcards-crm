(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe019948"],{"0af2":function(t,e,n){},"259d":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"breadcrumb-wrapper"},[n("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:a.disabled}},[n("span",{on:{click:function(e){return t.navigate_from_breadcrumb(a)}}},[t._v(" "+t._s(a.text)+" ")])])]}}])},[n("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1),t._t("extra")],2)},i=[],o={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},s=o,l=(n("fe54"),n("573a"),n("2877")),r=Object(l["a"])(s,a,i,!1,null,"5c807bcd",null);e["a"]=r.exports},"29d6":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-header"},[t._t("prepends"),t.hasSearch?n("v-text-field",{attrs:{dense:"",outlined:"",clearable:"","clear-icon":"mdi-close-circle-outline",solo:"",flat:"","append-icon":"search","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e(),t.noButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"add__btn ml-2",on:{click:function(e){return t.$emit("click")}}},"v-icon",i,!1),a),[t._v(" mdi-plus-circle-outline ")])]}}],null,!1,832533837)},[n("span",[t._v("Create new")])]),t._t("center"),t.noSortButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",on:{click:function(e){return t.$emit("click-sort-by")}}},"v-icon",i,!1),a),[t._v(" sort ")])]}}],null,!1,247375115)},[n("span",[t._v("Sort")])]),t.noListButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",attrs:{color:"list"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-list-view")}}},"v-icon",i,!1),a),[t._v(" mdi-view-list ")])]}}],null,!1,3129698352)},[n("span",[t._v("List view")])]),t.noGridButton?t._e():n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"add__btn ml-2",attrs:{color:"grid"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-grid-view")}}},"v-icon",i,!1),a),[t._v(" mdi-view-grid ")])]}}],null,!1,61101394)},[n("span",[t._v("Grid view")])]),t._t("form-btn")],2)},i=[],o={name:"TableHeader",props:{hasSearch:{type:Boolean,default:!1},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0,keyword:"",debounce:null}},watch:{keyword:function(t){var e=this;clearTimeout(this.debounce),this.debounce=setTimeout((function(){e.$emit("search",t)}),600)}},computed:{activeView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"}}},s=o,l=(n("d893"),n("2877")),r=Object(l["a"])(s,a,i,!1,null,"32f7f82b",null);e["a"]=r.exports},"2ab4":function(t,e,n){},"2f21":function(t,e,n){"use strict";var a=n("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"386d":function(t,e,n){"use strict";var a=n("cb7c"),i=n("83a1"),o=n("5f1b");n("214f")("search",1,(function(t,e,n,s){return[function(n){var a=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=s(n,t,this);if(e.done)return e.value;var l=a(t),r=String(this),c=l.lastIndex;i(c,0)||(l.lastIndex=0);var d=o(l,r);return i(l.lastIndex,c)||(l.lastIndex=c),null===d?-1:d.index}]}))},"408c":function(t,e,n){var a=n("2b3e"),i=function(){return a.Date.now()};t.exports=i},5527:function(t,e,n){"use strict";var a=n("b348"),i=n.n(a);i.a},"55dd":function(t,e,n){"use strict";var a=n("5ca1"),i=n("d8e8"),o=n("4bf8"),s=n("79e5"),l=[].sort,r=[1,2,3];a(a.P+a.F*(s((function(){r.sort(void 0)}))||!s((function(){r.sort(null)}))||!n("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(o(this)):l.call(o(this),i(t))}})},"573a":function(t,e,n){"use strict";var a=n("c5c4"),i=n.n(a);i.a},"5b70":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("custom-dialog",{attrs:{title:t.title,content:t.textContent,"button1-text":t.cancelButtonText,"button2-text":t.deleteButtonText,open:t.open},on:{"update:open":function(e){t.open=e},button1:t.cancel_clicked,button2:t.delete_clicked},scopedSlots:t._u([{key:"content",fn:function(){return[t._t("content",[n("v-banner",{attrs:{"two-line":"",outlined:"",tile:"",flat:""}},[n("v-icon",{attrs:{slot:"icon","x-large":"",color:"red accent-4"},slot:"icon"},[t._v(" mdi-alert-octagram ")]),n("p",{staticClass:"subtitle-1",domProps:{innerHTML:t._s(t.textContent)}})],1)])]},proxy:!0}],null,!0)})],1)},i=[],o=n("57e5"),s={components:{CustomDialog:o["a"]},props:{title:{type:String,default:"Default Modal Title"},textContent:{type:String,default:"Default Modal Text Content"},cancelButtonText:{type:String,default:"Cancel"},deleteButtonText:{type:String,default:"Yes, Delete"},openDialog:Boolean},data:function(){return{open:!1}},watch:{openDialog:function(t){this.open=t},open:function(t){this.$emit("update:openDialog",t)}},methods:{cancel_clicked:function(){this.open=!1},delete_clicked:function(){this.$emit("delete")},showDialog:function(){this.open=!0},closeDialog:function(){this.open=!1}}},l=s,r=n("2877"),c=Object(r["a"])(l,a,i,!1,null,null,null);e["a"]=c.exports},"69bf":function(t,e,n){"use strict";var a=n("6b1e"),i=n.n(a);i.a},"6b1e":function(t,e,n){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},b047c:function(t,e,n){var a=n("1a8c"),i=n("408c"),o=n("b4b0"),s="Expected a function",l=Math.max,r=Math.min;function c(t,e,n){var c,d,u,p,f,m,_=0,h=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError(s);function b(e){var n=c,a=d;return c=d=void 0,_=e,p=t.apply(a,n),p}function y(t){return _=t,f=setTimeout(C,e),h?b(t):p}function w(t){var n=t-m,a=t-_,i=e-n;return v?r(i,u-a):i}function $(t){var n=t-m,a=t-_;return void 0===m||n>=e||n<0||v&&a>=u}function C(){var t=i();if($(t))return x(t);f=setTimeout(C,w(t))}function x(t){return f=void 0,g&&c?b(t):(c=d=void 0,p)}function k(){void 0!==f&&clearTimeout(f),_=0,c=m=d=f=void 0}function D(){return void 0===f?p:x(i())}function S(){var t=i(),n=$(t);if(c=arguments,d=this,m=t,n){if(void 0===f)return y(m);if(v)return clearTimeout(f),f=setTimeout(C,e),b(m)}return void 0===f&&(f=setTimeout(C,e)),p}return e=o(e)||0,a(n)&&(h=!!n.leading,v="maxWait"in n,u=v?l(o(n.maxWait)||0,e):u,g="trailing"in n?!!n.trailing:g),S.cancel=k,S.flush=D,S}t.exports=c},b348:function(t,e,n){},b4b0:function(t,e,n){var a=n("1a8c"),i=n("ffd6"),o=NaN,s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function u(t){if("number"==typeof t)return t;if(i(t))return o;if(a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=r.test(t);return n||c.test(t)?d(t.slice(2),n?2:8):l.test(t)?o:+t}t.exports=u},c5c4:function(t,e,n){},d893:function(t,e,n){"use strict";var a=n("0af2"),i=n.n(a);i.a},df67:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-picture"},[n("CustomDialog",{ref:"uploader",attrs:{title:t.title,"button2-text":"Save",open:t.dialog_is_open},on:{button1:t.cancel,"update:open":function(e){t.dialog_is_open=e}},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"content"},[n("Loader",{attrs:{loading:t.loading}}),t.file_uploaded?n("CropImage",{ref:"croppie",attrs:{image:t.image64,options:t.croppie.options,result:t.croppie.result}}):n("CustomDropzone",{ref:"dropzone",attrs:{duplicateCheck:!0,acceptedFiles:"image/*",options:t.dropzoneOptions,useCustomSlot:!0,dictFileTooBig:"File too big",dictInvalidFileType:"Invalid file type"},on:{"file-added":t.file_added}})],1)]},proxy:!0},{key:"button2",fn:function(){return[n("v-btn",{attrs:{disabled:!t.file_uploaded},on:{click:t.get_cropped_image}},[t._v(t._s(t.mainButton))])]},proxy:!0}])})],1)},i=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("3835")),s=n("ade3"),l=(n("c5f6"),n("854b")),r=n("57e5"),c=n("8b7e"),d=n("8c75"),u=n("2f62"),p=n("7eac"),f=n("1be9");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"IconUploader",components:{Loader:l["a"],CustomDialog:r["a"],CustomDropzone:c["a"],CropImage:d["a"]},props:{title:{type:String,default:"Upload Image "},type:{type:String,default:"square"},width:{type:Number,default:200},height:{type:Number,default:200},extraData:[Object,Array],dialog:{type:Boolean,default:!1},mainButton:{type:String,default:"Save"},allowResize:{type:Boolean,default:!1},filename:{type:String,default:""}},data:function(){return{file_uploaded:!1,image64:null,loading:!1,dialog_is_open:!1}},watch:{dialog:{handler:function(t){this.dialog_is_open=!!t,t&&(this.file_uploaded=!1)},immediate:!0}},computed:_(_({},Object(u["c"])(["user"])),{},{dropzoneOptions:function(){return{maxFiles:1,thumbnailWidth:this.width,addRemoveLinks:!0,method:"post",acceptedFiles:"image/*",url:p["a"].apiHostBaseURL+"/api/attachments/dropzone",headers:{Authorization:"Bearer "+localStorage.getItem("token")},autoProcessQueue:!1}},boundary:function(){return{width:this.width+100,height:this.height+100}},croppie:function(){return{options:{viewport:{width:this.width,height:this.height,type:this.type},showZoomer:!0,boundary:this.boundary,enableResize:this.allowResize,enableOrientation:!0},result:"blob"}}}),methods:{file_added:function(t){var e=this,n=Object(o["a"])(t,1),a=n[0],i=new FileReader;i.onload=function(){e.image64=i.result,e.file_uploaded=!0},i.readAsDataURL(a)},get_cropped_image:function(){this.$refs.croppie.get_result().then(this.upload_image)},upload_image:function(t){var e=this,n=new FormData;n.append("file",t),n.append("folder","icons"),n.append("name",this.filename),this.loading=!0,f["a"].post("api/file/image-upload",n).then((function(t){var n=t.data;e.$emit("uploaded-data",n),e.$refs.croppie.clear_component(),e.$event.$emit("open_snackbar","File uploaded successfully!"),Object.assign(e.$data,e.$options.data.apply(e))}))},cancel:function(){this.dialog_is_open=!1}}},v=h,g=(n("69bf"),n("2877")),b=Object(g["a"])(v,a,i,!1,null,"5827d113",null);e["a"]=b.exports},e06e:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("386d"),n("a481"),n("c5f6"),n("28a5"),n("55dd"),n("2fdb"),n("ac6a"),n("6762"),n("20d6");var a=n("2909"),i=n("b047c"),o=n.n(i),s=n("d4e9"),l=n("1be9"),r={methods:{resetPagination:function(){this.pagination.current=1,this.pagination.total=0,this.noMoreData=!1},clear_selected:function(){this.selected=[],this.$event.$emit("clear_selected",[]),this.$event.$emit("btnloading_off",!1)},add_item:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0;s["a"][t](e,i).then((function(t){var e=t.data;if(Array.isArray(e)){var i;(i=n.items).push.apply(i,Object(a["a"])(e.reverse()))}else{var s=n.items.findIndex((function(t){return t.id===e.id}));~s?n.items.splice(s,1,e):n.items.push(e)}n.clear_selected(),n.$refs.add_dialog&&n.$refs.add_dialog.clear_and_close(),n.$event.$emit("open_snackbar",n.table_config.add_message),"function"===typeof o&&o(t)})).finally((function(){return n.$event.$emit("btnloading_off",!1)}))},extract_per_page:function(t){var e=t.search("per_page");return t.substring(e+9,e+10)},calc_per_page_items:function(t,e){var n=[5,10,15,20,25];return n.includes(t)||n.push(t),!n.includes(e)&&e<=25&&n.push(e),n},update_item:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;s["a"][t](this.edit_item.id,e,a).then((function(t){var e=n.items.findIndex((function(e){return e.id===t.data.id}));~e&&n.items.splice(e,1,t.data),n.edit_item={id:null,fields:null},n.edit_dialog=!1,n.clear_selected(),n.$event.$emit("open_snackbar",n.table_config.update_message),"function"===typeof i&&i(t)})).finally((function(){return n.$event.$emit("btnloading_off",!1)}))},delete_item:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;s["a"][t](this.delete_item_id,n).then((function(){var t=e.items.findIndex((function(t){return t.id===e.delete_item_id}));~t&&e.items.splice(t,1),e.delete_item_id=null,e.delete_dialog=!1,e.clear_selected(),e.$event.$emit("open_snackbar",e.table_config.delete_message),"function"===typeof a&&a(response)})).finally((function(){return e.$event.$emit("btnloading_off",!1)}))},bulk_delete:function(t){var e=this,n={ids:this.selected.map((function(t){return t.id}))};s["a"][t]({data:n}).then((function(t){var n=t.data;e.selected.forEach((function(t){var n=e.items.findIndex((function(e){return e.id===t.id}));~n&&e.items.splice(n,1)})),e.bulk_delete_dialog=!1,e.clear_selected(),e.$event.$emit("open_snackbar",n.message)})).finally((function(){e.$event.$emit("btnloading_off",!1)}))},bulk_delete_via_url:function(t){var e=this,n={ids:this.selected.map((function(t){return t.id}))};l["a"].delete(t,{data:n}).then((function(t){var n=t.data;e.selected.forEach((function(t){var n=e.items.findIndex((function(e){return e.id===t.id}));~n&&e.items.splice(n,1)})),e.bulk_delete_dialog=!1,e.clear_selected(),e.$event.$emit("open_snackbar",n.message)})).finally((function(){e.$event.$emit("btnloading_off",!1)}))},open_edit_dialog:function(t){this.edit_dialog=!0,this.$set(this.edit_item,"id",t.id),this.$set(this.edit_item,"fields",t)},open_delete_dialog:function(t){this.delete_dialog=!0,this.delete_item_id=t.id},open_bulk_delete_dialog:function(t){this.bulk_delete_dialog=!0,this.selected=t},fill_table:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loading=!0,s["a"][t](a).then((function(t){e.items_response=t.data,n?(e.items=t.data.data,e.pagination.current=t.data.current_page,e.pagination.total=t.data.last_page,e.hasMoreData()):e.items=t.data})).finally((function(){e.clear_selected(),e.loading=!1,e.$event.$emit("btnloading_off",!1)}))},fill_table_via_url:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;this.loading=!0;var i={page:this.pagination.current};t.includes("per_page")||(i.per_page=this.$store.getters["configs/general_page_limits"]),l["a"].get(t,{params:i}).then((function(t){e.items_response=t.data,n?(e.items=t.data.data,e.pagination.current=t.data.current_page,e.pagination.total=t.data.last_page,e.hasMoreData()):e.items=t.data,"function"===typeof a&&a(t)})).finally((function(){e.clear_selected(),e.loading=!1,e.$event.$emit("btnloading_off",!1)}))},load_more_on_table:function(t){var e=this;this.loading=!0;var n={page:this.pagination.current+1};s["a"][t]({params:n}).then((function(t){var n=t.data;e.items_response=n.data,n.data.forEach((function(t){e.items.push(t)})),e.pagination.current=n.current_page,e.pagination.total=n.last_page,e.hasMoreData()})).finally((function(){e.clear_selected(),e.loading=!1,e.scrollToBottom(),e.$event.$emit("btnloading_off",!1)}))},load_more_via_url:function(t,e){var n=this;this.loading=!0;var a={page:this.pagination.current+1};t.includes("per_page")||(a.per_page=this.$store.getters["configs/general_page_limits"]),l["a"].get(t,{params:a}).then((function(t){var a=t.data;n.items_response=a.data,a.data.forEach((function(t){n.items.push(t)})),n.pagination.current=a.current_page,n.pagination.total=a.last_page,n.hasMoreData(),"function"===typeof e&&e(a)})).finally((function(){n.clear_selected(),n.loading=!1,n.scrollToBottom(),n.$event.$emit("btnloading_off",!1)}))},fill_table_with_data:function(t){this.items=t},add_table_rows:function(t,e){this.items=t,this.items_response=e},changeSort:function(t){this.sort.sortBy===t?this.sort.descending=!this.sort.descending:(this.sort.sortBy=t,this.sort.descending=!1)},refresh_table:function(t){var e=this;s["a"][this.table_config.refresh_table_api_name](t).then((function(t){e.$event.$emit("open_snackbar",e.table_config.refresh_table_message),e.loading=!1,e.clear_selected(),e.items_response=t.data,e.items=t.data.data})).finally((function(){return e.$event.$emit("btnloading_off",!1)}))},update_table_actions:function(t){if(t.page&&(this.page=Number(t.page)),t.per_page&&(this.rows_per_page=Number(t.per_page)),t.search&&(this.search=t.search),t.sort){var e=t.sort.split("|");this.sort.sortBy=e[0],"asc"===e[1]?this.sort.descending=!1:"desc"===e[1]&&(this.sort.descending=!0)}},hasMoreData:function(){this.componentKey+=1,this.pagination.current>=this.pagination.total&&(this.noMoreData=!0)},toggleAll:function(){this.selected.length?this.clear_selected():this.selected=this.items.slice()},setPreferredView:function(t){window.localStorage.setItem("bzk_prefer_view",t),this.view=t},getPreferredView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"},scrollToBottom:function(){setTimeout((function(){var t=document.getElementsByClassName("v-data-table__wrapper")[0];t&&(t.scrollTop=t.scrollHeight)}),1)},debounce:o()((function(t){this.search=t}),500)}},c={mixins:[r],data:function(){return{edit_dialog:!1,add_dialog:!1,delete_dialog:!1,permissionDialog:!1,bulk_delete_dialog:!1,loading:!1,items:[],items_response:null,edit_item:{id:null,fields:null},delete_item_id:null,show_delete_selected:!1,selected_ids:[],selected:[],rows_per_page:null,page:1,sort:{sortBy:null,descending:!1},search:"",pagination:{current:1,total:0},noMoreData:!1,componentKey:1,view:"list",btnloading:!1}},watch:{selected_ids:function(t){t.length>0?this.show_delete_selected=!0:this.show_delete_selected=!1},api_query:function(t,e){var n=Number(this.extract_per_page(t)),a=Number(this.extract_per_page(e))||null;this.items_response&&this.rows_per_page===this.items.length&&n!==a||(this.$router.replace({name:this.table_config.route_name,query:{page:this.page,per_page:this.rows_per_page,search:this.search,sort:this.query_for_sorting}}),this.loading=!0,this.refresh_table(t))}}}},ec9c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("1be9"),i={upload_image:function(t,e){return a["a"].post("api/company/".concat(t,"/logo"),e)},upload_image_via_url:function(t,e){return a["a"].post("api/company/".concat(t,"/logo/via-url"),e)},update_company_profile:function(t,e){return a["a"].put("api/company/".concat(t,"/info"),e)},get_company_info:function(t){return a["a"].get("api/company/".concat(t,"/info"))}}},ef7b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"company-profile"},[n("div",{staticClass:"profile mt-1"},[n("div",{staticClass:"profile-content"},[n("div",{staticClass:"background"}),t.company?n("div",{staticClass:"profile-logo"},[n("div",{staticClass:"user-img",on:{click:t.image_clicked}},[t.company_logo?n("v-img",{attrs:{contain:"",src:t.company_logo,width:"100%",height:"auto"}}):n("v-icon",{attrs:{"x-large":""}},[t._v("mdi-camera")]),n("v-icon",{staticClass:"user-img-hover",attrs:{"x-large":""}},[t._v("mdi-camera")])],1)]):t._e(),t.company?n("v-row",{staticClass:"user-info",attrs:{"no-gutters":""}},[t.loading?n("div",{staticClass:"loading"},[n("v-progress-linear",{attrs:{indeterminate:!0}})],1):n("v-col",{staticClass:"offset-md-2",attrs:{md:"8",sm:"12"}},[n("v-row",[n("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[t._v("Company Name "),n("span",{staticClass:"required"},[t._v("*")])]),n("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[n("v-text-field",{staticClass:"fullwidth",attrs:{outlined:"",placeholder:"Name",dense:"","hide-details":"",solo:"",flat:"",value:t.company.name},model:{value:t.company.name,callback:function(e){t.$set(t.company,"name",e)},expression:"company.name"}})],1),n("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[t._v("Slogan")]),n("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[n("v-text-field",{staticClass:"fullwidth",attrs:{outlined:"",placeholder:"Slogan",dense:"","hide-details":"",solo:"",flat:"",value:t.company.short_description},model:{value:t.company.short_description,callback:function(e){t.$set(t.company,"short_description",e)},expression:"company.short_description"}})],1),n("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[t._v("Long Description")]),n("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[n("v-textarea",{staticClass:"fullwidth",attrs:{rows:2,outlined:"",placeholder:"Description",dense:"","hide-details":"",solo:"",flat:"",value:t.company.long_description},model:{value:t.company.long_description,callback:function(e){t.$set(t.company,"long_description",e)},expression:"company.long_description"}})],1),n("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[t._v("Website")]),n("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[n("v-text-field",{staticClass:"fullwidth",attrs:{outlined:"",placeholder:"Website",dense:"","hide-details":"",solo:"",flat:"",value:t.company.domain},model:{value:t.company.domain,callback:function(e){t.$set(t.company,"domain",e)},expression:"company.domain"}})],1),n("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[t._v("Company Address")]),n("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[n("v-text-field",{staticClass:"fullwidth",attrs:{outlined:"",placeholder:"Address",dense:"","hide-details":"",solo:"",flat:"",value:t.company.address},model:{value:t.company.address,callback:function(e){t.$set(t.company,"address",e)},expression:"company.address"}})],1),n("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[t._v("Contact Number")]),n("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[n("vue-phone-number-input",{staticClass:"fullwidth",attrs:{size:"md",clearable:"","default-country-code":t.defaultCountryCode},on:{"phone-number-blur":t.telephone_on_blur,update:t.showUpdate},model:{value:t.contact_number,callback:function(e){t.contact_number=e},expression:"contact_number"}})],1),n("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[t._v("Company Email")]),n("v-col",{staticClass:"c-field",attrs:{md:"8",cols:"12"}},[n("v-text-field",{staticClass:"fullwidth",attrs:{outlined:"",type:"email",placeholder:"Email",dense:"","hide-details":"",solo:"",flat:"",value:t.company.email},model:{value:t.company.email,callback:function(e){t.$set(t.company,"email",e)},expression:"company.email"}})],1),n("v-col",{staticClass:"c-label",attrs:{md:"4",cols:"12"}},[n("span",{staticClass:"required"},[t._v("*")]),t._v(" Required Fields ")]),n("v-col",{attrs:{md:"8",cols:"12"}},[n("v-btn",{staticClass:"float-right update-btn",attrs:{loading:t.btnloading},on:{click:t.update_company}},[n("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-content-save")]),t._v(" Save Changes ")],1)],1)],1)],1)],1):t._e()],1)]),n("IconUploader",{attrs:{dialog:t.open_add_picture,filename:t.filename},on:{"uploaded-data":t.updateIcon}})],1)},i=[],o=(n("7f7f"),n("e06e")),s=n("ec9c"),l=n("259d"),r=n("5b70"),c=n("29d6"),d=n("df67"),u={name:"Company",mixins:[o["a"]],components:{Breadcrumb:l["a"],DeleteDialog:r["a"],TableHeader:c["a"],IconUploader:d["a"]},data:function(){return{paths:[{text:"Settings",disabled:!1,route:{name:"settings"}},{text:"Company",disabled:!0,route:null}],company:null,search:"",open_add_picture:!1,defaultCountryCode:null,btnloading:!1,telephone_is_valid:!1,contact_number:null}},mounted:function(){this.$event.$emit("path-change",this.paths),this.getCompanyDetails()},computed:{user:function(){return this.$store.getters.user},can_update:function(){return!!(this.user.is_company_owner||this.user.is_admin||this.user.is_manager)},filename:function(){return this.company?this.company.name:""},company_logo:{get:function(){return this.company.company_logo},set:function(t){this.company.company_logo=t}}},watch:{company:function(t){this.contact_number=t.contact?t.contact.phoneNumber:null,this.defaultCountryCode=t.contact?t.contact.countryCode:null}},methods:{image_clicked:function(){this.open_add_picture=!0},updateIcon:function(t){var e=this;this.company_logo=t.url;var n={url:t.url,logo_details:t};s["a"].upload_image_via_url(this.company.id,n).then((function(t){var n=t.data;e.company=n,e.$store.commit("set_user_company",n),e.open_add_picture=!1}))},getCompanyDetails:function(){var t=this;s["a"].get_company_info(this.user.company_id).then((function(e){var n=e.data;t.company=n,t.$store.commit("set_user_company",n)}))},showUpdate:function(t){this.telephone_is_valid=t.isValid,this.company.contact=t.isValid?t:null},telephone_on_blur:function(){this.telephone_is_valid||this.$event.$emit("open_snackbar","Invalid phone format","error")},is_valid:function(){return!(this.company.contact&&!this.telephone_is_valid)&&(this.company.name&&""!==this.company.name)},getFields:function(){return{name:this.company.name,short_description:this.company.short_description,long_description:this.company.long_description,domain:this.company.domain,address:this.company.address,contact:this.company.contact,email:this.company.email}},update_company:function(){var t=this;this.is_valid()?(this.btnloading=!0,s["a"].update_company_profile(this.user.company_id,this.getFields()).then((function(e){var n=e.data;t.company=n,t.$event.$emit("open_snackbar","Company info updated.")})).finally((function(){return t.btnloading=!1}))):this.$event.$emit("open_snackbar","Please fill in required field *","error")}}},p=u,f=(n("5527"),n("2877")),m=Object(f["a"])(p,a,i,!1,null,null,null);e["default"]=m.exports},fe54:function(t,e,n){"use strict";var a=n("2ab4"),i=n.n(a);i.a}}]);
//# sourceMappingURL=chunk-fe019948.5d25b68f.js.map