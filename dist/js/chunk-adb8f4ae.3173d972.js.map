{"version":3,"sources":["webpack:///./src/modules/ProjectPreview-Reports/Reports.scss?c972","webpack:///./src/modules/ProjectPreview-Reports/Reports.vue?a81e","webpack:///./src/modules/ProjectPreview-Reports/api.js","webpack:///./src/modules/ProjectPreview-Reports/components/ReportEditDialog.vue?d91b","webpack:///src/modules/ProjectPreview-Reports/components/ReportEditDialog.vue","webpack:///./src/modules/ProjectPreview-Reports/components/ReportEditDialog.vue?b604","webpack:///./src/modules/ProjectPreview-Reports/components/ReportEditDialog.vue","webpack:///./src/modules/ProjectPreview-Reports/components/ReportsDialog.vue?ad1c","webpack:///src/modules/ProjectPreview-Reports/components/ReportsDialog.vue","webpack:///./src/modules/ProjectPreview-Reports/components/ReportsDialog.vue?c836","webpack:///./src/modules/ProjectPreview-Reports/components/ReportsDialog.vue","webpack:///./src/modules/ProjectPreview-Reports/Reports.js","webpack:///./src/modules/ProjectPreview-Reports/Reports.js?46f8","webpack:///./src/modules/ProjectPreview-Reports/Reports.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","reports","length","attrs","is_screen_medium_and_down","model","value","callback","$$v","reports_selected","expression","_l","report","index","key","getIconFromUrl","_v","_s","_f","title","btn","scopedSlots","_u","fn","ref","menu","on","tooltip","_g","_b","Object","assign","open_dialog","$event","open_add_report_via_template","sample","_e","openEditDialog","id","openDeleteDialog","url","props","template","canIframe","iframe_loaded","image","description","proxy","deleteDialog","deleteReport","add_new_report","reportUpdated","add_report_via_template","handleSaveReportViaTemplate","activeReport","edit_report_via_template","handleUpdateReportViaTemplate","staticRenderFns","get_reports","request","get","add_project_report","post","updateProjectReport","projectId","reportId","payload","put","deleteProjectReport","delete","saveReportViaTemplate","updateReportViaTemplate","close_dialog","trim","validate_url","link","slot","is_disabled","on_dialog_save","component","name","mixins","is_screen_utils","components","CustomDialog","ReportsList","TableHeader","ReportsSection","DeleteDialog","ReportsEditDialog","ReportsAddDialog","ReportViaTemplate","Response","Number","String","data","loading","iframeSrc","valid_url","activateSave","deleteReportId","reportIdToEdit","computed","calculated_btn","paths","text","disabled","route","type","path","has_permission","$store","getters","user","is_admin","$_permissions","$route","params","created","loadReports","mounted","$emit","methods","apiTo","then","finally","$refs","dialog","editDialog","commit","event","$nextTick","target","validity","valid","domain","URL","host","previewRowUrl","push","findIndex","r","splice","index1","i","item","project_id"],"mappings":"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","file":"js/chunk-adb8f4ae.3173d972.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./Reports.scss?vue&type=style&index=0&id=5346c46e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./Reports.scss?vue&type=style&index=0&id=5346c46e&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reports\"},[(_vm.reports.length > 0)?_c('div',{staticClass:\"body-wrapper\"},[_c('div',{staticClass:\"reports-inner\"},[_c('v-tabs',{staticClass:\"reports-tab\",attrs:{\"grow\":\"\",\"next-icon\":\"mdi-arrow-right-bold-circle-outline\",\"prev-icon\":\"mdi-arrow-left-bold-circle-outline\",\"show-arrows\":_vm.is_screen_medium_and_down},model:{value:(_vm.reports_selected),callback:function ($$v) {_vm.reports_selected=$$v},expression:\"reports_selected\"}},[_vm._l((_vm.reports),function(report,index){return _c('v-tab',{key:index,staticClass:\"text-none\"},[_c('img',{staticClass:\"tab-img mr-2\",attrs:{\"src\":_vm.getIconFromUrl(report)}}),_vm._v(\" \"+_vm._s(_vm._f(\"ucwords\")(report.title))+\" \")])}),_vm._l((_vm.calculated_btn),function(btn){return _c('v-tab',{key:btn,staticClass:\"reports-tab\"},[_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar menu = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar tooltip = ref.on;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"text-none align-self-center ma-0\",attrs:{\"block\":\"\",\"tile\":\"\",\"text\":\"\"}},'v-btn',attrs,false),Object.assign({}, tooltip, menu)),[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"#8090aa\"}},[_vm._v(\" mdi-plus-circle-multiple-outline \")]),_vm._v(\" Add Report \")],1)]}}],null,true)},[_c('span',[_vm._v(\"Add Report\")])])]}}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":_vm.open_dialog}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via link \")],1)],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open_add_report_via_template(null)}}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via template \")],1)],1)],1)],1)],1)})],2),_c('v-tabs-items',{model:{value:(_vm.reports_selected),callback:function ($$v) {_vm.reports_selected=$$v},expression:\"reports_selected\"}},_vm._l((_vm.reports),function(report,sample){return _c('v-tab-item',{key:sample},[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('v-card-text',[_c('div',{staticClass:\"reports-actions\"},[_c('v-spacer'),(_vm.reports.length >= 3)?_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar menu = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar tooltip = ref.on;\nreturn [_c('v-icon',_vm._g(_vm._b({staticClass:\"mx-1\",attrs:{\"fab\":\"\"}},'v-icon',attrs,false),Object.assign({}, tooltip, menu)),[_vm._v(\" mdi-plus-circle-multiple-outline \")])]}}],null,true)},[_c('span',[_vm._v(\"Add Report\")])])]}}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":_vm.open_dialog}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via link \")],1)],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open_add_report_via_template(null)}}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via template \")],1)],1)],1)],1):_vm._e(),_c('v-icon',{staticClass:\"mx-1\",attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.openEditDialog(report, report.id)}}},[_vm._v(\" mdi-circle-edit-outline \")]),_c('v-icon',{staticClass:\"mx-1\",attrs:{\"fab\":\"\"},on:{\"click\":function($event){return _vm.openDeleteDialog(report.id)}}},[_vm._v(\" mdi-delete-circle-outline \")])],1),_c('div',{staticClass:\"reports-content\"},[_c('div',{staticClass:\"site-preview\"},[(report.url === 'template')?_c('Response',{attrs:{\"items\":report.props.template}}):(report.props && report.props.canIframe)?_c('ReportsSection',{attrs:{\"iframeSrc\":report.url},on:{\"iframe-loaded\":_vm.iframe_loaded}}):(report.props && report.props.image)?_c('v-card',{staticClass:\"mx-auto\",attrs:{\"flat\":\"\"}},[_c('v-list-item',[_c('v-list-item-content',[_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"warning\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_vm._v(\" We are unable to load the site content because of the website restrictions. \")]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{attrs:{\"href\":report.url,\"target\":\"_blank\"}},[_vm._v(\" Go to Site \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right-bold\")])],1)],1)],1)],1)],1)],1),_c('v-img',{staticClass:\"white--text align-end\",attrs:{\"src\":report.props.image}},[_c('v-card-title',[_vm._v(_vm._s(report.props.title))])],1),_c('v-card-subtitle',{staticClass:\"pb-0 headline\"},[_vm._v(\" \"+_vm._s(report.props.title)+\" \")]),_c('v-card-text',{staticClass:\"text--primary\"},[_c('div',{staticClass:\"subtitle\"},[_vm._v(_vm._s(report.props.description))])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"orange\",\"text\":\"\",\"href\":report.url,\"target\":\"_blank\"}},[_vm._v(\" Go to Site \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right-bold\")])],1)],1)],1):_c('Empty',{attrs:{\"icon\":\"mdi-link-off\",\"headline\":\"\"},scopedSlots:_vm._u([{key:\"extra\",fn:function(){return [_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"warning\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_vm._v(\" We are unable to load the site content because of the website restrictions. \")]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{attrs:{\"href\":report.url,\"target\":\"_blank\"}},[_vm._v(\" Go to Site \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-arrow-right-bold\")])],1)],1)],1)],1)]},proxy:true}],null,true)})],1)])])],1)],1)}),1)],1)]):_c('div',{staticClass:\"body-wrapper\"},[_c('Empty',{attrs:{\"headline\":\"No reports yet\",\"icon\":\"mdi-alpha-r-box-outline\"},scopedSlots:_vm._u([{key:\"extra\",fn:function(){return [_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar menu = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar tooltip = ref.on;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"large\":\"\",\"dark\":\"\",\"color\":\"#3b589e\"}},'v-btn',attrs,false),Object.assign({}, tooltip, menu)),[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-multiple-outline\")]),_vm._v(\" Add Report \")],1)]}}],null,true)},[_c('span',[_vm._v(\"Add Report\")])])]}}])},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":_vm.open_dialog}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via link \")],1)],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.open_add_report_via_template(null)}}},[_c('v-list-item-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus-circle-outline\")]),_vm._v(\" Add new report via template \")],1)],1)],1)],1)]},proxy:true}])})],1),_c('DeleteDialog',{attrs:{\"open-dialog\":_vm.deleteDialog,\"title\":\"Delete Report\",\"text-content\":\"Are you sure you want to delete this report?\"},on:{\"update:openDialog\":function($event){_vm.deleteDialog=$event},\"update:open-dialog\":function($event){_vm.deleteDialog=$event},\"delete\":_vm.deleteReport}}),_c('ReportsAddDialog',{ref:\"dialog\",attrs:{\"id\":_vm.id},on:{\"report-added\":_vm.add_new_report}}),_c('ReportsEditDialog',{ref:\"editDialog\",attrs:{\"id\":_vm.id},on:{\"report-updated\":_vm.reportUpdated}}),_c('report-via-template',{attrs:{\"isEdit\":false,\"open-dialog\":_vm.add_report_via_template},on:{\"save\":_vm.handleSaveReportViaTemplate,\"update:openDialog\":function($event){_vm.add_report_via_template=$event},\"update:open-dialog\":function($event){_vm.add_report_via_template=$event}}}),_c('report-via-template',{attrs:{\"isEdit\":true,\"title\":\"Edit Report\",\"report\":_vm.activeReport,\"open-dialog\":_vm.edit_report_via_template},on:{\"save\":_vm.handleUpdateReportViaTemplate,\"update:openDialog\":function($event){_vm.edit_report_via_template=$event},\"update:open-dialog\":function($event){_vm.edit_report_via_template=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/services/axios_instance'\r\n\r\nexport default {\r\n    get_reports(id) {\r\n        return request.get(`api/projects/${id}/report`)\r\n    },\r\n    add_project_report(id, report) {\r\n        return request.post(`api/projects/${id}/report`, report)\r\n    },\r\n\r\n    updateProjectReport(projectId, reportId, payload) {\r\n        return request.put(`api/projects/${projectId}/report/${reportId}`, payload)\r\n    },\r\n\r\n    deleteProjectReport(projectId, reportId) {\r\n        return request.delete(`api/projects/${projectId}/report/${reportId}`)\r\n    },\r\n\r\n    saveReportViaTemplate(payload) {\r\n        return request.post(`api/report/via-template`, payload)\r\n    },\r\n\r\n    updateReportViaTemplate(id, payload) {\r\n        return request.put(`api/report/${id}/via-template`, payload)\r\n    }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('custom-dialog',{ref:\"dialog\",attrs:{\"title\":\"Edit Link\",\"button1-text\":\"Cancel\"},on:{\"button1\":_vm.close_dialog},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('v-layout',{staticClass:\"custom-dialog\",attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"dialog__textfield d-field\",attrs:{\"label\":\"Title\",\"filled\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"prepend-icon\":\"text_fields\",\"color\":\"#657186\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"title\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"dialog__link d-field\",attrs:{\"pattern\":\"https://.*\",\"type\":\"url\",\"prepend-icon\":\"link\",\"label\":\"https://\",\"clearable\":\"\",\"filled\":\"\",\"hide-details\":\"\",\"color\":\"#657186\"},on:{\"keydown\":_vm.validate_url},model:{value:(_vm.link),callback:function ($$v) {_vm.link=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"link\"}})],1)],1)]},proxy:true}])},[_c('template',{slot:\"button2\"},[_c('v-btn',{attrs:{\"disabled\":_vm.is_disabled},on:{\"click\":_vm.on_dialog_save}},[_vm._v(\"Save\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <custom-dialog ref=\"dialog\" title=\"Edit Link\" button1-text=\"Cancel\" @button1=\"close_dialog\">\r\n        <template #content>\r\n            <v-layout wrap class=\"custom-dialog\">\r\n                <v-flex xs12>\r\n                    <v-text-field v-model.trim=\"title\" class=\"dialog__textfield d-field\" label=\"Title\" filled clearable hide-details prepend-icon=\"text_fields\" color=\"#657186\" />\r\n                </v-flex>\r\n                <v-flex xs12>\r\n                    <v-text-field class=\"dialog__link d-field\" pattern=\"https://.*\" type=\"url\" v-model.trim=\"link\" prepend-icon=\"link\" label=\"https://\" clearable @keydown=\"validate_url\" filled hide-details color=\"#657186\" />\r\n                </v-flex>\r\n            </v-layout>\r\n        </template>\r\n        <template slot=\"button2\">\r\n            <v-btn @click=\"on_dialog_save\" :disabled=\"is_disabled\">Save</v-btn>\r\n        </template>\r\n    </custom-dialog>\r\n</template>\r\n<script>\r\nimport CustomDialog from '@/common/BaseComponents/CustomDialog/CustomDialog.vue'\r\nimport apiTo from '../api'\r\n\r\nexport default {\r\n    components: {\r\n        CustomDialog\r\n    },\r\n    props: {\r\n        id: [Number, String]\r\n    },\r\n    data: () => ({\r\n        link: '',\r\n        title: '',\r\n        valid_url: false,\r\n        reportId: null,\r\n        reportIndex: null,\r\n    }),\r\n\r\n    computed: {\r\n        is_disabled() {\r\n            return !this.link || !this.valid_url || !this.title\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        open_dialog({ id, url, title }, reportIndex) {\r\n            this.link = url\r\n            this.title = title\r\n            this.reportId = id\r\n            this.reportIndex = reportIndex\r\n            this.$refs.dialog.open_dialog()\r\n            this.valid_url = true\r\n        },\r\n        close_dialog() {\r\n            this.$refs.dialog.close_dialog()\r\n        },\r\n        clear_and_close() {\r\n            this.close_dialog()\r\n            Object.assign(this.$data, this.$options.data.apply(this))\r\n        },\r\n        validate_url(event) {\r\n            this.$nextTick(() => {\r\n                this.valid_url = event.target.validity.valid\r\n            })\r\n        },\r\n        on_dialog_save() {\r\n            this.$store.commit('set_custom_loader', true)\r\n            apiTo\r\n                .updateProjectReport(this.id, this.reportId, {\r\n                    url: this.link,\r\n                    title: this.title\r\n                })\r\n                .then(({ data }) => {\r\n                    this.$emit('report-updated', { data, index: this.reportIndex })\r\n                    this.clear_and_close()\r\n                })\r\n                .finally(() => this.$store.commit('set_custom_loader', false))\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportEditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportEditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportEditDialog.vue?vue&type=template&id=326d8168&\"\nimport script from \"./ReportEditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportEditDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('custom-dialog',{ref:\"dialog\",attrs:{\"title\":\"Add Link\",\"button1-text\":\"Cancel\"},on:{\"button1\":_vm.close_dialog},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('v-layout',{staticClass:\"custom-dialog\",attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"dialog__textfield d-field\",attrs:{\"label\":\"Title\",\"filled\":\"\",\"clearable\":\"\",\"hide-details\":\"\",\"prepend-icon\":\"text_fields\",\"color\":\"#657186\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"title\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"dialog__link d-field\",attrs:{\"pattern\":\"https://.*\",\"type\":\"url\",\"prepend-icon\":\"link\",\"label\":\"https://\",\"clearable\":\"\",\"filled\":\"\",\"hide-details\":\"\",\"color\":\"#657186\"},on:{\"keydown\":_vm.validate_url},model:{value:(_vm.link),callback:function ($$v) {_vm.link=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"link\"}})],1)],1)]},proxy:true}])},[_c('template',{slot:\"button2\"},[_c('v-btn',{attrs:{\"disabled\":_vm.is_disabled},on:{\"click\":_vm.on_dialog_save}},[_vm._v(\"Save\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <custom-dialog ref=\"dialog\" title=\"Add Link\" button1-text=\"Cancel\" @button1=\"close_dialog\">\r\n        <template #content>\r\n            <v-layout wrap class=\"custom-dialog\">\r\n                <v-flex xs12>\r\n                    <v-text-field v-model.trim=\"title\" class=\"dialog__textfield d-field\" label=\"Title\" filled clearable hide-details prepend-icon=\"text_fields\" color=\"#657186\" />\r\n                </v-flex>\r\n                <v-flex xs12>\r\n                    <v-text-field class=\"dialog__link d-field\" pattern=\"https://.*\" type=\"url\" v-model.trim=\"link\" prepend-icon=\"link\" label=\"https://\" clearable @keydown=\"validate_url\" filled hide-details color=\"#657186\" />\r\n                </v-flex>\r\n            </v-layout>\r\n        </template>\r\n        <template slot=\"button2\">\r\n            <v-btn @click=\"on_dialog_save\" :disabled=\"is_disabled\">Save</v-btn>\r\n        </template>\r\n    </custom-dialog>\r\n</template>\r\n<script>\r\nimport CustomDialog from '@/common/BaseComponents/CustomDialog/CustomDialog.vue'\r\nimport apiTo from '../api'\r\n\r\nexport default {\r\n    components: {\r\n        CustomDialog\r\n    },\r\n    props: {\r\n        id: [Number, String]\r\n    },\r\n    data: () => ({\r\n        link: '',\r\n        title: '',\r\n        valid_url: false\r\n    }),\r\n\r\n    computed: {\r\n        is_disabled() {\r\n            return !this.link || !this.valid_url || !this.title\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        open_dialog() {\r\n            this.$refs.dialog.open_dialog()\r\n        },\r\n        close_dialog() {\r\n            this.$refs.dialog.close_dialog()\r\n        },\r\n        clear_and_close() {\r\n            this.close_dialog()\r\n            Object.assign(this.$data, this.$options.data.apply(this))\r\n        },\r\n        validate_url(event) {\r\n            this.$nextTick(() => {\r\n                this.valid_url = event.target.validity.valid\r\n            })\r\n        },\r\n        on_dialog_save() {\r\n            this.$store.commit('set_custom_loader', true)\r\n            apiTo\r\n                .add_project_report(this.id, {\r\n                    url: this.link,\r\n                    title: this.title\r\n                })\r\n                .then(({ data }) => {\r\n                    this.$emit('report-added', data)\r\n                    this.clear_and_close()\r\n                })\r\n                .finally(() => this.$store.commit('set_custom_loader', false))\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportsDialog.vue?vue&type=template&id=e7e48308&\"\nimport script from \"./ReportsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportsDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import apiTo from './api'\r\nimport {is_screen_utils} from '@/global_utils/is_screen_utils'\r\n//Components\r\nimport CustomDialog from '@/common/BaseComponents/CustomDialog/CustomDialog.vue'\r\nimport ReportsList from '@/modules/Reports/components/ReportsList/ReportsList.vue'\r\nimport TableHeader from '@/common/TableHeader.vue'\r\nimport ReportsSection from '@/modules/Reports/components/ReportsSection.vue'\r\nimport DeleteDialog from '@/common/DeleteDialog.vue'\r\nimport ReportsEditDialog from './components/ReportEditDialog.vue'\r\nimport ReportsAddDialog from './components/ReportsDialog.vue'\r\nimport ReportViaTemplate from \"@/modules/Reports/components/ReportViaTemplate.vue\";\r\nimport Response from \"@/modules/Forms-Builder/components/Builder/Response.vue\";\r\n\r\nexport default {\r\n    name: 'ReportsTab',\r\n    mixins: [is_screen_utils],\r\n    components: {\r\n        CustomDialog,\r\n        ReportsList,\r\n        TableHeader,\r\n        ReportsSection,\r\n        DeleteDialog,\r\n        ReportsEditDialog,\r\n        ReportsAddDialog,\r\n        ReportViaTemplate,\r\n        Response\r\n    },\r\n\r\n    props: {\r\n        id: [Number, String]\r\n    },\r\n\r\n    data: () => ({\r\n        reports: [],\r\n        loading: false,\r\n        iframeSrc: null,\r\n        link: '',\r\n        title: '',\r\n        valid_url: false,\r\n        activateSave: false,\r\n        activeReport: null,\r\n        deleteDialog: false,\r\n        deleteReportId: null,\r\n        reportIdToEdit: null,\r\n        reports_selected: null,\r\n        add_report_via_template: false,\r\n        edit_report_via_template: false,\r\n    }),\r\n\r\n    computed: {\r\n        calculated_btn() {\r\n            if (this.reports.length >= 3) return 0\r\n            else if (this.reports.length === 2) return 1\r\n            else if (this.reports.length === 1) return 2\r\n            else return 3\r\n        },\r\n        paths() {\r\n            return [\r\n                {text: 'Dashboard', disabled: false, route: {name: 'default-content'}},\r\n                {text: this.type, disabled: false, route: {path: `/dashboard/${this.type}/preview/${this.id}`}},\r\n                {text: 'Reports', disabled: true, route: null}\r\n            ]\r\n        },\r\n        has_permission() {\r\n            if (this.$store.getters.user.is_admin) return true\r\n            return this.$_permissions.get('hq_reports')\r\n        },\r\n        type() {\r\n            return this.$route.params.type || 'project'\r\n        },\r\n    },\r\n    created() {\r\n        this.loadReports()\r\n    },\r\n    mounted() {\r\n        this.$event.$emit('path-change', this.paths)\r\n    },\r\n    methods: {\r\n        loadReports() {\r\n            this.loading = true\r\n            apiTo.get_reports(this.id)\r\n                .then(({data}) => {\r\n                    this.reports = data.data\r\n                })\r\n                .finally(() => (this.loading = false))\r\n        },\r\n        open_dialog() {\r\n            this.$refs.dialog.open_dialog()\r\n        },\r\n        openDeleteDialog(index) {\r\n            this.deleteReportId = index\r\n            this.deleteDialog = true\r\n        },\r\n\r\n        openEditDialog(report, index) {\r\n            if (report.url === 'template') {\r\n                this.activeReport = report\r\n                this.edit_report_via_template = true\r\n            } else {\r\n                this.$refs.editDialog.open_dialog(report, index)\r\n            }\r\n        },\r\n\r\n        iframe_loaded() {\r\n            this.activateSave = true\r\n            this.$store.commit('set_custom_loader', false)\r\n        },\r\n\r\n        validate_url(event) {\r\n            this.$nextTick(() => {\r\n                this.valid_url = event.target.validity.valid\r\n            })\r\n        },\r\n\r\n        getIconFromUrl(report) {\r\n            let domain = report.url !== 'template' ? new URL(report.url).host : 'crm.dashcards.com'\r\n            return `https://www.google.com/s2/favicons?domain=${domain}&alt=feed`\r\n        },\r\n        previewRowUrl(report) {\r\n            this.reports_selected = this.reports.length - 1\r\n        },\r\n\r\n        add_new_report(report) {\r\n            this.reports.push(report)\r\n            this.previewRowUrl(report)\r\n            this.$event.$emit('btnloading_off', false)\r\n        },\r\n\r\n        deleteReport() {\r\n            this.$store.commit('set_custom_loader', true)\r\n            apiTo\r\n                .deleteReport(this.deleteReportId)\r\n                .then(() => {\r\n                    const index = this.reports.findIndex(\r\n                        r => r.id === this.deleteReportId\r\n                    )\r\n                    if (~index) {\r\n                        this.reports.splice(index, 1)\r\n                        this.activeReport = null\r\n                        this.$event.$emit('open_snackbar', 'Report deleted successfully')\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    this.deleteDialog = false\r\n                    this.$store.commit('set_custom_loader', false)\r\n                    this.$event.$emit('btnloading_off', false)\r\n                })\r\n        },\r\n\r\n        reportUpdated({data, index}) {\r\n            // this.$set(this.reports, index, data)\r\n            let index1 = this.reports.findIndex(i => i.id === data.id)\r\n            if (~index1) {\r\n                this.reports.splice(index1, 1, data)\r\n            }\r\n            this.$event.$emit('btnloading_off', false)\r\n        },\r\n        open_add_report_via_template(item) {\r\n            this.add_report_via_template = true\r\n        },\r\n        handleSaveReportViaTemplate(data) {\r\n            this.$store.commit('set_custom_loader', true)\r\n            let payload = Object.assign({}, data, {project_id: this.id})\r\n            apiTo.saveReportViaTemplate(payload)\r\n                .then(({data}) => {\r\n                    this.reports.push(data)\r\n                    this.previewRowUrl(data)\r\n                    this.add_report_via_template = false\r\n                })\r\n                .finally(() => {\r\n                    this.$store.commit('set_custom_loader', false)\r\n                })\r\n        },\r\n        handleUpdateReportViaTemplate(data) {\r\n            this.$store.commit('set_custom_loader', true)\r\n            apiTo.updateReportViaTemplate(this.activeReport.id, data)\r\n                .then(({data}) => {\r\n                    let index = this.reports.findIndex(i => i.id === data.id)\r\n                    if (~index) {\r\n                        this.reports.splice(index, 1, data)\r\n                        this.previewRowUrl(data)\r\n                    }\r\n                    this.edit_report_via_template = false\r\n                })\r\n                .finally(() => {\r\n                    this.$store.commit('set_custom_loader', false)\r\n                })\r\n        }\r\n\r\n    }\r\n}","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./Reports.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./Reports.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reports.vue?vue&type=template&id=5346c46e&scoped=true&\"\nimport script from \"./Reports.js?vue&type=script&lang=js&\"\nexport * from \"./Reports.js?vue&type=script&lang=js&\"\nimport style0 from \"./Reports.scss?vue&type=style&index=0&id=5346c46e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5346c46e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}