(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b92f1b2"],{"15b0":function(t,e,i){"use strict";var a=i("dae0"),n=i.n(a);n.a},"18a2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"milestone"},[i("milestone-dialog",{ref:"add_dialog",attrs:{dialog:t.add_dialog,dialogTitle:"Add Milestone"},on:{"update:dialog":function(e){t.add_dialog=e},save:function(e){return t.add_item("add_new_milestone",e,t.dynamic_api)}}}),i("milestone-dialog",{ref:"edit_dialog",attrs:{dialog:t.edit_dialog,dialogTitle:"Edit Milestone","is-edit-dialog":t.edit_dialog,"fields-to-edit":t.edit_item},on:{"update:dialog":function(e){t.edit_dialog=e},save:function(e){return t.update_item("edit_milestone",e,t.dynamic_api)}}}),i("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Milestone","text-content":"Are you sure you want to delete this milestone?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:function(e){return t.delete_item("delete_milestone",t.dynamic_api)}}}),i("v-layout",[i("v-flex",{attrs:{xs12:""}},[i("table-header",{attrs:{paths:t.paths},on:{click:function(e){t.add_dialog=!0}}}),t.items.length||t.loading?i("custom-table",{attrs:{headers:t.headers,items:t.items,loading:t.loading,sort:t.sort,"has-checkbox":!0,"hide-default-footer":"","toolbar-title":"Milestones",permission:t.$_permissions.get("hq_milestones")},on:{"items-selected":function(e){t.selected_ids=e},sorted:t.changeSort,edit:t.open_edit_dialog,delete:t.open_delete_dialog,view:t.navigate_to_milestone_page},scopedSlots:t._u([{key:"custom-item",fn:function(e){return[i("td",{staticClass:"text-xs-left text-cap",on:{click:function(i){return t.navigate_to_milestone_page(e.item)}}},[t._v(" "+t._s(e.item.title)+" ")]),i("td",{staticClass:"text-xs-left text-cap"},[t._v(t._s(e.item.status))]),i("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.days))])]}}],null,!1,480739782)},[i("template",{slot:"table-actions"},[i("div",{staticClass:"actions-wrapper"},[i("div",{staticClass:"bulk-delete"},[i("v-btn",{attrs:{color:"#3b589e",dark:"",outlined:"",disabled:!t.show_delete_selected}},[t._v(" Delete Selected ")])],1),i("div",{staticClass:"rows-per-page-dropdown"},[t._v(" Rows per page: "),i("v-select",{attrs:{items:t.rows_per_page_items,"menu-props":"auto",color:"#3b589e"},model:{value:t.rows_per_page,callback:function(e){t.rows_per_page=e},expression:"rows_per_page"}})],1),i("div",{staticClass:"pagination"},[i("div",{staticClass:"text-xs-center pt-2"},[i("v-pagination",{attrs:{length:t.total_items,"total-visible":5,color:"#3b589e"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])])])],2):i("div",{staticClass:"empty-milestone"},[i("div",{staticClass:"empty-content"},[i("div",{staticClass:"empty-svg"},[i("svg",{attrs:{viewBox:"0 0 250 250"}},[i("path",{attrs:{d:"M58 59l149 0 0 -7c0,-4 -2,-7 -4,-10 -3,-2 -7,-4 -11,-4l-163 0c-4,0 -7,2 -10,4 -2,3 -4,6 -4,10l0 111c0,4 2,8 4,10 3,3 6,5 10,5l1 0 0 -91c0,-8 3,-15 8,-20 5,-5 12,-8 20,-8zm13 59c-3,0 -6,-3 -6,-7 0,-4 3,-7 6,-7l138 0c3,0 6,3 6,7 0,4 -3,7 -6,7l-138 0zm0 35c-3,0 -6,-3 -6,-7 0,-4 3,-7 6,-7l87 0c3,0 6,3 6,7 0,4 -3,7 -6,7l-87 0zm0 31c-3,0 -6,-3 -6,-7 0,-3 3,-6 6,-6l138 0c3,0 6,3 6,6 0,4 -3,7 -6,7l-138 0zm149 -125l1 0c7,0 14,3 19,8 5,5 8,12 8,20l0 111c0,7 -3,14 -8,19 -5,5 -12,8 -19,8l-163 0c-8,0 -15,-3 -20,-8 -5,-5 -8,-12 -8,-19l0 -7 -1 0c-7,0 -14,-3 -19,-8 -5,-5 -8,-12 -8,-20l0 -111c0,-7 3,-14 8,-19 5,-5 12,-8 19,-8l163 0c8,0 15,3 20,8 5,5 8,12 8,19l0 7zm1 13l-163 0c-4,0 -8,2 -11,5 -2,2 -4,6 -4,10l0 111c0,4 2,7 4,10 3,2 7,4 11,4l163 0c4,0 7,-2 10,-4 2,-3 4,-6 4,-10l0 -111c0,-4 -2,-8 -4,-10 -3,-3 -6,-5 -10,-5z"}})])]),i("div",{staticClass:"empty-btn"},[i("v-btn",{attrs:{large:"",dark:"",color:"#3b589e"},on:{click:function(e){t.add_dialog=!0}}},[t._v("Add Milestone ")])],1)])])],1)],1)],1)},n=[],s=(i("c5f6"),i("3d31")),o=i("451f"),l=i("5b70"),d=i("29d6"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("custom-dialog",{ref:"dialog",attrs:{title:t.dialogTitle,open:t.open,"button2-text":"Save"},on:{"update:open":function(e){t.open=e},button1:t.cancel,button2:t.save}},[i("template",{slot:"content"},[i("v-layout",{staticClass:"milestone__dialog",attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Milestone Title",box:"","hide-details":"",color:"blue"},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}})],1),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-select",{staticClass:"dialog__selectfield d-field",attrs:{label:"Status",items:["Active","Inactive"],box:"","hide-details":"",color:"blue"},model:{value:t.status,callback:function(e){t.status="string"===typeof e?e.trim():e},expression:"status"}})],1),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{label:"Days",type:"number",box:"","hide-details":"",color:"blue"},model:{value:t.days,callback:function(e){t.days=t._n(e)},expression:"days"}})],1)],1)],1)],2)},r=[],u=i("57e5"),_={name:"MilestoneDialog",components:{CustomDialog:u["a"]},props:{dialog:Boolean,dialogTitle:String,isEditDialog:Boolean,fieldsToEdit:{type:Object,default:function(){}}},data:function(){return{open:!1,title:null,status:null,days_init_value:1}},computed:{days:{get:function(){return this.days_init_value},set:function(t){parseInt(t)<1?this.days_init_value=1:this.days_init_value=t}}},watch:{dialog:function(t){this.open=t},open:function(t){this.$emit("update:dialog",t)},fieldsToEdit:{handler:function(t){this.isEditDialog&&this.update_fields(t)},deep:!0}},methods:{cancel:function(){this.open=!1},save:function(){var t={title:this.title,status:this.status,days:this.days};this.$emit("save",t)},update_fields:function(t){var e=t.fields,i=Object.assign({},e);this.title=i.title,this.status=i.status,this.days=i.days},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.cancel()}}},p=_,f=(i("285d"),i("2877")),g=Object(f["a"])(p,c,r,!1,null,"2018e0bd",null),m=g.exports,h={name:"Milestone",mixins:[s["a"]],components:{CustomTable:o["a"],MilestoneDialog:m,DeleteDialog:l["a"],TableHeader:d["a"]},props:{id:[Number,String]},data:function(){return{paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Templates",disabled:!1,router_name:"templates"},{text:"Milestones",disabled:!0,router_name:null}],headers:[{text:"Title",value:"title"},{text:"Status",value:"status"},{text:"Days",value:"days"},{text:"Action",value:"action"}],table_config:{route_name:"templates/milestone",add_message:"New Milestone added successfully!",update_message:"Milestone updated successfully!",delete_message:"Milestone deleted successfully!"}}},computed:{dynamic_api:function(){return"api/template/".concat(this.id,"/milestone")}},created:function(){this.fill_table("get_milestones",!0,this.dynamic_api)},methods:{navigate_to_milestone_page:function(t){this.$router.push({name:"templates/milestone/task",params:{milestone_id:t.id,template_id:this.id}})}}},b=h,v=(i("37b2"),Object(f["a"])(b,a,n,!1,null,"454a736d",null));e["default"]=v.exports},"259d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"breadcrumb-wrapper"},[i("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[i("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:a.disabled}},[i("span",{on:{click:function(e){return t.navigate_from_breadcrumb(a)}}},[t._v(" "+t._s(a.text)+" ")])])]}}])},[i("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1)],1)},n=[],s={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},o=s,l=(i("15b0"),i("edab"),i("2877")),d=Object(l["a"])(o,a,n,!1,null,"adf165fe",null);e["a"]=d.exports},"285d":function(t,e,i){"use strict";var a=i("7551"),n=i.n(a);n.a},"29d6":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[i("breadcrumb",{attrs:{paths:t.paths}}),i("v-flex",[t.noButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click")}}},[i("v-icon",[t._v("add")])],1),t.noSortButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-sort-by")}}},[i("v-icon",[t._v("sort")])],1),t.noListButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-list-view")}}},[i("v-icon",[t._v("list")])],1),t.noGridButton?t._e():i("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:""},on:{click:function(e){return t.$emit("click-grid-view")}}},[i("v-icon",[t._v("mdi-view-dashboard")])],1),t._t("form-btn")],2)],1)},n=[],s=i("259d"),o={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:s["a"]}},l=o,d=(i("ff3c"),i("2877")),c=Object(d["a"])(l,a,n,!1,null,"0910c4a8",null);e["a"]=c.exports},"37b2":function(t,e,i){"use strict";var a=i("7233"),n=i.n(a);n.a},"3d31":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));i("386d"),i("a481"),i("c5f6"),i("55dd");var a={computed:{rows_per_page_items:function(){var t=this.items_response;if(!t)return[];var e=this.items.length,i=t.total-t.from+1,a=this.calc_per_page_items(e,t.total);return this.rows_per_page=e,a.filter((function(t){return t<=i}))},should_show_pagination:function(){return!!this.items_response&&this.items_response.total>this.rows_per_page},total_items:function(){return this.items_response?this.items_response.last_page:null},query_for_sorting:function(){return this.sort.sortBy?"".concat(this.sort.sortBy,"|").concat(this.sort.descending?"desc":"asc"):""},api_query:function(){return"page=".concat(this.page,"&\n\t\t\t\t\t\t\tper_page=").concat(this.rows_per_page,"&\n\t\t\t\t\t\t\tsearch=").concat(this.search,"&\n\t\t\t\t\t\t\tsort=").concat(this.query_for_sorting)}}},n=(i("28a5"),i("20d6"),i("6762"),i("ac6a"),i("b047c")),s=i.n(n),o=i("d4e9"),l={methods:{add_item:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o["a"][t](e,a).catch((function(){i.$event.$emit("btnloading_off",!1)})).then((function(t){var e=t.data;Array.isArray(e)?e.reverse().forEach((function(t){return i.items.unshift(t)})):i.items.unshift(e),i.$refs.add_dialog.clear_and_close(),i.$event.$emit("open_snackbar",i.table_config.add_message),i.$event.$emit("btnloading_off",!1)}))},extract_per_page:function(t){var e=t.search("per_page");return t.substring(e+9,e+10)},calc_per_page_items:function(t,e){var i=[5,10,15,20,25];return i.includes(t)||i.push(t),!i.includes(e)&&e<=25&&i.push(e),i},update_item:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o["a"][t](this.edit_item.id,e,a).catch((function(){i.$event.$emit("btnloading_off",!1)})).then((function(t){var e=i.items.findIndex((function(e){return e.id===t.data.id}));~e&&i.items.splice(e,1,t.data),i.edit_item={id:null,fields:null},i.edit_dialog=!1,i.$event.$emit("open_snackbar",i.table_config.update_message),i.$event.$emit("btnloading_off",!1)}))},delete_item:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o["a"][t](this.delete_item_id,i).catch((function(){e.$event.$emit("btnloading_off",!1)})).then((function(){var t=e.items.findIndex((function(t){return t.id===e.delete_item_id}));~t&&e.items.splice(t,1),e.delete_item_id=null,e.delete_dialog=!1,e.$event.$emit("open_snackbar",e.table_config.delete_message),e.$event.$emit("btnloading_off",!1)}))},open_edit_dialog:function(t){this.edit_dialog=!0,this.$set(this.edit_item,"id",t.id),this.$set(this.edit_item,"fields",t)},open_delete_dialog:function(t){this.delete_dialog=!0,this.delete_item_id=t.id},fill_table:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loading=!0,o["a"][t](a).then((function(t){e.items_response=t.data,e.loading=!1,e.items=i?t.data.data:t.data}))},fill_table_with_data:function(t){this.items=t},add_table_rows:function(t,e){this.items=t,this.items_response=e},changeSort:function(t){this.sort.sortBy===t?this.sort.descending=!this.sort.descending:(this.sort.sortBy=t,this.sort.descending=!1)},refresh_table:function(t){var e=this;o["a"][this.table_config.refresh_table_api_name](t).catch((function(){e.$event.$emit("btnloading_off",!1)})).then((function(t){e.$event.$emit("open_snackbar",e.table_config.refresh_table_message),e.loading=!1,e.items_response=t.data,e.items=t.data.data,e.$event.$emit("btnloading_off",!1)}))},update_table_actions:function(t){if(t.page&&(this.page=Number(t.page)),t.per_page&&(this.rows_per_page=Number(t.per_page)),t.search&&(this.search=t.search),t.sort){var e=t.sort.split("|");this.sort.sortBy=e[0],"asc"===e[1]?this.sort.descending=!1:"desc"===e[1]&&(this.sort.descending=!0)}},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},debounce:s()((function(t){this.search=t}),500)}},d={mixins:[a,l],data:function(){return{edit_dialog:!1,add_dialog:!1,delete_dialog:!1,permissionDialog:!1,loading:!1,items:[],items_response:null,edit_item:{id:null,fields:null},delete_item_id:null,show_delete_selected:!1,selected_ids:[],rows_per_page:null,page:1,sort:{sortBy:null,descending:!1},search:""}},watch:{selected_ids:function(t){t.length>0?this.show_delete_selected=!0:this.show_delete_selected=!1},api_query:function(t,e){var i=Number(this.extract_per_page(t)),a=Number(this.extract_per_page(e))||null;this.items_response&&this.rows_per_page===this.items.length&&i!==a||(this.$router.replace({name:this.table_config.route_name,query:{page:this.page,per_page:this.rows_per_page,search:this.search,sort:this.query_for_sorting}}),this.loading=!0,this.refresh_table(t))}}}},"4c37":function(t,e,i){},"57e5":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{"justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?i("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):i("v-card",{staticClass:"custom__dialog"},[i("v-card-title",{staticClass:"dialog__header"},[t._t("entire-header",[t._t("title",[i("span",{staticClass:"dialog__title"},[t._v(t._s(t.title))])]),t._t("cancel-icon",[i("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:""},on:{click:t.close_dialog}},[i("v-icon",[t._v("close")])],1)])])],2),i("v-card-text",{staticClass:"dialog__body"},[t._t("content",[t._v(" "+t._s(t.content)+" ")])],2),i("v-card-actions",{staticClass:"dialog__actions"},[t._t("entire-actions",[t._t("button1",[i("v-btn",{on:{click:t.button1clicked}},[t._v(t._s(t.button1Text))])]),t._t("button2",[i("v-btn",{attrs:{loading:t.btnloading},on:{click:t.button2clicked}},[t._v(t._s(t.button2Text))])])])],2)],1)],1)],1)},n=[],s={props:{title:{type:String,default:"Default Modal Title"},content:{type:String,default:"Default Modal Text Content"},button1Text:{type:String,default:"Cancel"},button2Text:{type:String,default:"Delete"},open:Boolean,value:Boolean},data:function(){return{dialog:!1,loading:!1,btnloading:!1}},mounted:function(){var t=this;this.$event.$on("btnloading_off",(function(e){return t.btnloading=e}))},watch:{value:{handler:function(t){this.dialog=t},immediate:!0},open:function(t){this.dialog=t},dialog:function(t){this.$emit("update:open",t),this.$emit("input",t)}},methods:{button1clicked:function(){this.$emit("button1")},button2clicked:function(){this.btnloading=!0,this.$emit("button2")},open_dialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.close_dialog()},activate_loading:function(){this.loading=!0},disable_loading:function(){this.loading=!1}}},o=s,l=(i("aab6"),i("5bdc"),i("2877")),d=Object(l["a"])(o,a,n,!1,null,"37adf598",null);e["a"]=d.exports},"5b70":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("custom-dialog",{attrs:{title:t.title,content:t.textContent,"button1-text":t.cancelButtonText,"button2-text":t.deleteButtonText,open:t.open},on:{"update:open":function(e){t.open=e},button1:t.cancel_clicked,button2:t.delete_clicked}})],1)},n=[],s=i("57e5"),o={components:{CustomDialog:s["a"]},props:{title:{type:String,default:"Default Modal Title"},textContent:{type:String,default:"Default Modal Text Content"},cancelButtonText:{type:String,default:"Cancel"},deleteButtonText:{type:String,default:"Delete"},openDialog:Boolean},data:function(){return{open:!1}},watch:{openDialog:function(t){this.open=t},open:function(t){this.$emit("update:openDialog",t)}},methods:{cancel_clicked:function(){this.open=!1},delete_clicked:function(){this.$emit("delete")},showDialog:function(){this.open=!0},closeDialog:function(){this.open=!1}}},l=o,d=i("2877"),c=Object(d["a"])(l,a,n,!1,null,null,null);e["a"]=c.exports},"5bdc":function(t,e,i){"use strict";var a=i("877e"),n=i.n(a);n.a},7233:function(t,e,i){},7551:function(t,e,i){},"781e":function(t,e,i){},"877e":function(t,e,i){},aab6:function(t,e,i){"use strict";var a=i("781e"),n=i.n(a);n.a},dae0:function(t,e,i){},edab:function(t,e,i){"use strict";var a=i("f3a9"),n=i.n(a);n.a},f3a9:function(t,e,i){},ff3c:function(t,e,i){"use strict";var a=i("4c37"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-4b92f1b2.633583ef.js.map