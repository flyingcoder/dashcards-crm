(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62ded4db"],{"0b20":function(t,e,i){},"1e55":function(t,e,i){},"45ec":function(t,e,i){},"57e5":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{"justify-center":""}},[i("v-dialog",{attrs:{persistent:"","max-width":t.maxWidth,scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?i("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):i("v-card",{staticClass:"custom__dialog"},[i("div",{staticClass:"dialog__header"},[t._t("entire-header",[t._t("title",[i("h3",{staticClass:"dialog__title"},[t._v(t._s(t.title))])]),t._t("extra-buttons"),t._t("cancel-icon",[i("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:"",depressed:""},on:{click:t.close_dialog}},[i("v-icon",[t._v("close")])],1)])]),t._t("below-title")],2),i("v-card-text",{staticClass:"dialog__body"},[t._t("content",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t.hasFooter?i("v-card-actions",{staticClass:"dialog__actions"},[t._t("entire-actions",[t._t("extras"),t._t("button1",[i("v-btn",{attrs:{disabled:t.btnloading},on:{click:t.button1clicked}},[t._v(t._s(t.button1Text))])]),t._t("button2",[i("v-btn",{attrs:{loading:t.btnloading,disabled:t.mainBtnDisabled},on:{click:t.button2clicked}},[t._v(" "+t._s(t.button2Text)+" ")])])])],2):t._e()],1)],1)],1)},a=[],o=(i("c5f6"),{props:{title:{type:String,default:""},content:{type:String,default:""},button1Text:{type:String,default:"Cancel"},button2Text:{type:String,default:"Delete"},open:Boolean,value:Boolean,mainBtnDisabled:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},maxWidth:{type:[Number,String],default:"600px"}},data:function(){return{dialog:!1,loading:!1,btnloading:!1}},mounted:function(){var t=this;this.$event.$on("btnloading_off",(function(e){t.btnloading=!1}))},watch:{value:{handler:function(t){this.dialog=t},immediate:!0},open:function(t){this.dialog=t,this.btnloading=!1},dialog:function(t){this.$emit("update:open",t),this.$emit("input",t)}},methods:{button1clicked:function(){this.$emit("button1"),this.close_dialog()},button2clicked:function(){this.btnloading=!0,this.$emit("button2")},open_dialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1,this.btnloading=!1,this.$emit("click:close",!0),this.$emit("click-close",!0)},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.close_dialog()},activate_loading:function(){this.loading=!0},disable_loading:function(){this.loading=!1}}}),l=o,s=(i("a947"),i("9084"),i("2877")),d=Object(s["a"])(l,n,a,!1,null,"249058b6",null);e["a"]=d.exports},"63fa":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invoice-templates"},[i("VueTable",{attrs:{title:"Invoice Templates",hasSearch:!1,headers:t.headers,loading:t.loading,items:t.items,noMoreData:t.noMoreData,showSelect:!1},on:{"load-more":t.getMoreInvoiceTemplates},scopedSlots:t._u([{key:"header-toolbar",fn:function(){return[i("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"ml-2 action-btn",attrs:{fab:""},on:{click:t.open_add_dialog}},"v-icon",a,!1),n),[t._v("add_circle_outline")])]}}])},[i("span",[t._v("Create Template")])]),i("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"ml-2 action-btn",attrs:{fab:""},on:{click:t.open_help_dialog}},"v-icon",a,!1),n),[t._v("mdi-help-circle-outline")])]}}])},[i("span",[t._v("Invoice Template Guide and Rules")])])]},proxy:!0},{key:"row-slot",fn:function(e){var n=e.item;return[i("td",[t._v(t._s(t._f("ucwords")(n.name)))]),n.creator?i("td",[i("Avatar",{attrs:{user:n.creator}})],1):i("td",[i("v-avatar",[i("v-icon",{attrs:{large:""}},[t._v("mdi-monitor-clean")])],1),t._v(" System Default ")],1),0===n.company_id?i("td"):i("td",[t._v(t._s(t._f("bzFromNow")(n.created_at)))]),i("Actions",{attrs:{hasDelete:t.can_action(n)&&t.can_delete(n),hasEdit:t.can_action(n),item:n,permissions:t.$_permissions.get("templates")},on:{delete:function(e){return t.open_delete_dialog(n)},edit:function(e){return t.open_edit_dialog(n)},view:function(e){return t.open_view_dialog(n)}}})]}},{key:"empty-slot",fn:function(){return[i("v-btn",{attrs:{dark:"",color:"#3b589e"},on:{click:t.open_add_dialog}},[t._v("Add new invoice template")])]},proxy:!0}])}),i("InvoiceTemplateDialog",{ref:"add_edit_dialog",attrs:{defaultTemplates:t.defaultTemplates,invoicefields:t.invoicefields},on:{save:t.handleSave,preview:t.open_view_dialog}}),i("InvoiceTemplatePreview",{ref:"view_dialog",attrs:{item:t.activeItem,invoicefields:t.invoicefields}}),i("InvoiceTemplateHelp",{ref:"help_dialog",attrs:{invoicefields:t.invoicefields}}),i("delete-dialog",{attrs:{"open-dialog":t.delete_dialog,title:"Delete Template","text-content":"Are you sure you want to delete this invoice template?"},on:{"update:openDialog":function(e){t.delete_dialog=e},"update:open-dialog":function(e){t.delete_dialog=e},delete:function(e){return t.delete_item("delete_invoice_template",e)}}})],1)},a=[],o=(i("20d6"),i("1be9")),l=i("e06e"),s=i("0ebe"),d=i("2c63"),c=i("bfc6"),r=i("2089"),u=i("ee09"),_=i("5b70"),p={name:"InvoiceTemplates",mixins:[l["a"]],components:{VueTable:s["a"],InvoiceTemplateDialog:d["a"],InvoiceTemplatePreview:c["a"],InvoiceTemplateHelp:r["a"],Actions:u["a"],DeleteDialog:_["a"]},data:function(){return{headers:[{text:"Name",align:"left",sortable:!1},{text:"Added By",sortable:!1},{text:"Added On",sortable:!1},{text:"Action",sortable:!1,align:"center",width:"140px"}],paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Invoice Templates",disabled:!1,router_name:"templates"}],activeItem:null,isEdit:!1,invoicefields:[]}},computed:{user:function(){return this.$store.getters.user},permissions:function(){return this.$_permissions.get("templates")},defaultTemplates:function(){return this.items.length>0?this.items.filter((function(t){return 0===t.company_id})):[]}},mounted:function(){var t=this;this.$event.$emit("path-change",this.paths),this.getInvoiceTemplates(),this.getFields(),this.$event.$on("show-invoice-template-guide",(function(){t.open_help_dialog()}))},methods:{can_action:function(t){return 0!==t.company_id},can_delete:function(t){return!!this.user.is_admin||this.permissions&&this.permissions.delete},getInvoiceTemplates:function(){this.fill_table_via_url("api/template/invoices")},getMoreInvoiceTemplates:function(){this.load_more_via_url("api/template/invoices")},open_add_dialog:function(){this.isEdit=!1,this.$refs.add_edit_dialog.open_dialog(!1,null)},open_view_dialog:function(t){this.activeItem=t,this.$refs.view_dialog.open_dialog(t)},open_help_dialog:function(){this.$refs.help_dialog.open_dialog()},open_edit_dialog:function(t){this.isEdit=!0,this.activeItem=t,this.$refs.add_edit_dialog.open_dialog(!0,t)},handleSave:function(t){this.isEdit?this.updateTemplate(t):this.createTemplate(t)},createTemplate:function(t){var e=this;o["a"].post("api/template/invoices",t).then((function(t){var i=t.data;e.items.push(i),e.$refs.add_edit_dialog.clear_and_close()})).finally((function(){e.$event.$emit("btnloading_off",!1)}))},updateTemplate:function(t){var e=this;o["a"].put("api/template/invoices",t).then((function(t){var i=t.data,n=e.items.findIndex((function(t){return t.id===i.id}));~n&&e.items.splice(n,1,i),e.$refs.add_edit_dialog.clear_and_close()})).finally((function(){e.$event.$emit("btnloading_off",!1)}))},getFields:function(){var t=this;o["a"].get("api/template/invoices/fields").then((function(e){var i=e.data;t.invoicefields=i}))}}},f=p,v=(i("e51c"),i("2877")),m=Object(v["a"])(f,n,a,!1,null,"271e35ed",null);e["default"]=m.exports},9084:function(t,e,i){"use strict";var n=i("0b20"),a=i.n(n);a.a},a947:function(t,e,i){"use strict";var n=i("45ec"),a=i.n(n);a.a},e51c:function(t,e,i){"use strict";var n=i("1e55"),a=i.n(n);a.a}}]);
//# sourceMappingURL=chunk-62ded4db.6a25e0ea.js.map