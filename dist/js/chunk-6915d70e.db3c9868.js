(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6915d70e"],{"0af2":function(t,e,i){},"29d6":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-header"},[t._t("prepends"),t.hasSearch?i("v-text-field",{attrs:{dense:"",outlined:"",clearable:"","clear-icon":"mdi-close-circle-outline",solo:"",flat:"","append-icon":"search","hide-details":""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e(),t.noButton?t._e():i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"add__btn ml-2",on:{click:function(e){return t.$emit("click")}}},"v-icon",a,!1),s),[t._v(" mdi-plus-circle-outline ")])]}}],null,!1,832533837)},[i("span",[t._v("Create new")])]),t._t("center"),t.noSortButton?t._e():i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",on:{click:function(e){return t.$emit("click-sort-by")}}},"v-icon",a,!1),s),[t._v(" sort ")])]}}],null,!1,247375115)},[i("span",[t._v("Sort")])]),t.noListButton?t._e():i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"view-btn add__btn ml-2",attrs:{color:"list"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-list-view")}}},"v-icon",a,!1),s),[t._v(" mdi-view-list ")])]}}],null,!1,3129698352)},[i("span",[t._v("List view")])]),t.noGridButton?t._e():i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"add__btn ml-2",attrs:{color:"grid"===t.activeView?"primary":""},on:{click:function(e){return t.$emit("click-grid-view")}}},"v-icon",a,!1),s),[t._v(" mdi-view-grid ")])]}}],null,!1,61101394)},[i("span",[t._v("Grid view")])]),t._t("form-btn")],2)},a=[],o={name:"TableHeader",props:{hasSearch:{type:Boolean,default:!1},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0,keyword:"",debounce:null}},watch:{keyword:function(t){var e=this;clearTimeout(this.debounce),this.debounce=setTimeout((function(){e.$emit("search",t)}),600)}},computed:{activeView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"}}},r=o,n=(i("d893"),i("2877")),l=Object(n["a"])(r,s,a,!1,null,"32f7f82b",null);e["a"]=l.exports},"326f":function(t,e,i){},cfac:function(t,e,i){"use strict";var s=i("326f"),a=i.n(s);a.a},d67e:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"forms-page"},[i("div",{staticClass:"forms-page-wrapper"},[i("div",{staticClass:"forms-page-content"},[i("div",{staticClass:"form"},[i("div",{staticClass:"form-header"},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{md:"3",sm:"4",xs:"6"}},[i("v-select",{staticClass:"ma-1",attrs:{clearable:"",items:t.list,"item-value":"questions","item-text":"title",placeholder:"Copy Form From ...",solo:"",dense:"","hide-details":"auto",flat:""},on:{change:function(e){t.structures=e}}})],1),i("v-spacer"),i("v-btn",{staticClass:"dialog-button",on:{click:t.clearAll}},[i("v-icon",[t._v("delete")]),t._v(" Clear All ")],1)],1)],1),i("Builder",{ref:"builder",attrs:{"has-file-upload":""},scopedSlots:t._u([{key:"right-bottom",fn:function(){return[i("v-divider"),i("v-card-text",[i("label",[t._v("Form Name *")]),i("v-text-field",{staticClass:"ma-1",attrs:{label:"Form Name *","hide-details":"auto",dense:"",flat:"",outlined:"",solo:""},model:{value:t.form_title,callback:function(e){t.form_title=e},expression:"form_title"}}),i("label",[t._v("Form Notifications")]),i("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"ml-2",attrs:{"x-small":""}},"v-icon",a,!1),s),[t._v(" mdi-help-circle-outline ")])]}}])},[i("span",[t._v("Email addresses separated by comma")])]),i("v-text-field",{staticClass:"ma-1",attrs:{label:"Send notification to","hide-details":"auto",dense:"",flat:"",outlined:"",solo:""},model:{value:t.form_notif_receivers,callback:function(e){t.form_notif_receivers=e},expression:"form_notif_receivers"}}),i("label",[t._v("Accepting Responses")]),i("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"ml-2",attrs:{"x-small":""}},"v-icon",a,!1),s),[t._v(" mdi-help-circle-outline ")])]}}])},[i("span",[t._v("Inactive form will no longer accept responses")])]),i("v-select",{attrs:{items:["active","inactive"],"menu-props":"auto","hide-details":"auto","single-line":"",dense:"",filled:""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),i("v-card-actions",[t.isFormEdit?i("v-btn",{staticClass:"primary-btn",attrs:{text:"",block:"",disabled:t.disabled||t.saving,loading:t.saving},on:{click:t.update}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Update Form ")],1):i("v-btn",{staticClass:"primary-btn",attrs:{text:"",block:"",disabled:t.disabled||t.saving,loading:t.saving},on:{click:t.save}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save Form ")],1)],1)]},proxy:!0}]),model:{value:t.structures,callback:function(e){t.structures=e},expression:"structures"}})],1)])])])},a=[],o=(i("28a5"),i("0644")),r=i.n(o),n=i("1be9"),l=i("579d"),c=i("7eac"),u=i("29d6"),d=i("f820"),f={name:"FormBuilder",mixins:[l["a"]],components:{TableHeader:u["a"],Builder:d["a"]},data:function(){return{paths:[{text:"Dashboard",disabled:!1,route:{name:"default-content"}},{text:"Forms",disabled:!1,route:{name:"forms"}},{text:"Builder",disabled:!0,route:null}],list:[],saving:!1,form_title:null,form_notif_receivers:null,isFormEdit:!1,formToEdit:null,status:"active",structures:[]}},mounted:function(){this.$event.$emit("path-change",this.paths),this.form_notif_receivers=this.user.email,this.$route.params.id>0&&this.getForm(this.$route.params.id),this.getFormsTemplate()},computed:{user:function(){return this.$store.getters.user},disabled:function(){if(this.form_notif_receivers)for(var t=0;t<this.notif_email_receivers.length;t++)if(!this.validateEmail(this.notif_email_receivers[t].trim()))return!0;return 0===this.structures.length||""===this.form_title||null===this.form_title},notif_email_receivers:function(){return this.form_notif_receivers?this.form_notif_receivers.split(","):[]},slugifyTitle:function(){return"URL: ".concat(c["a"].BaseURL,"/form/").concat(this.slugify(this.form_title||""))}},methods:{validateEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())},save:function(){var t=this;this.saving=!0;var e={title:this.form_title,questions:this.structures,status:this.status,notif_email_receivers:this.notif_email_receivers};n["a"].post("api/forms",e).then((function(e){e.data;t.$event.$emit("open_snackbar","Form successfully created!"),t.$router.push({name:"forms"})}))},clearAll:function(){this.$refs.builder.clearAll()},update:function(){var t=this;this.saving=!0;var e={title:this.form_title,questions:this.structures,id:this.formToEdit.id,status:this.status,notif_email_receivers:this.notif_email_receivers};n["a"].put("api/forms",e).then((function(e){e.data;t.$event.$emit("open_snackbar","Form successfully updated!"),t.$router.push({name:"forms"})}))},getForm:function(t){var e=this;n["a"].get("api/forms/".concat(t)).then((function(t){var i=t.data;i&&(e.formToEdit=i,e.isFormEdit=!0,e.status=i.status,e.structures=r()(i.questions),e.form_title=i.title,e.form_notif_receivers=null,i.props.notif_email_receivers&&(e.form_notif_receivers=i.props.notif_email_receivers.join(",")))}))},getFormsTemplate:function(){var t=this;n["a"].get("api/forms/list").then((function(e){var i=e.data;i&&(t.list=i)}))}}},v=f,m=(i("cfac"),i("2877")),_=Object(m["a"])(v,s,a,!1,null,null,null);e["default"]=_.exports},d893:function(t,e,i){"use strict";var s=i("0af2"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-6915d70e.db3c9868.js.map