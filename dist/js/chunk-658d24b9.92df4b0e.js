(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-658d24b9"],{"16b8":function(t,e,i){},"206b":function(t,e,i){t.exports=i.p+"img/edit.26f5333c.svg"},"239a":function(t,e,i){"use strict";var n=i("16b8"),s=i.n(n);s.a},"2f21":function(t,e,i){"use strict";var n=i("79e5");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"386d":function(t,e,i){"use strict";var n=i("cb7c"),s=i("83a1"),a=i("5f1b");i("214f")("search",1,(function(t,e,i,r){return[function(i){var n=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=r(i,t,this);if(e.done)return e.value;var o=n(t),c=String(this),l=o.lastIndex;s(l,0)||(o.lastIndex=0);var d=a(o,c);return s(o.lastIndex,l)||(o.lastIndex=l),null===d?-1:d.index}]}))},"408c":function(t,e,i){var n=i("2b3e"),s=function(){return n.Date.now()};t.exports=s},"451f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content__wrapper"},[n("div",{staticClass:"row buzz__tables"},[n("div",{staticClass:"buzz__tablesTwo"},[t._t("toolbar",[n("div",{staticClass:"table__toolbar"},[t._v(" "+t._s(t.toolbarTitle)+" ")])]),t._t("right_toolbar"),n("v-data-table",t._b({staticClass:"buzzooka__table",attrs:{headers:t.headers,items:t.items,loading:t.loading,"no-data-text":"","show-select":"","disable-sort":"","hide-default-footer":""},scopedSlots:t._u([{key:"headers",fn:function(e){return[n("tr",{staticClass:"table__head"},[t.$props.hasCheckbox&&!t.noRowDelete&&t.can_delete?n("th",[n("v-checkbox",{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleAll(e)}}})],1):t._e(),t._l(e.headers,(function(e){return n("th",{key:e.id,class:t.headerClasses(e),attrs:{width:e.width},on:{click:function(i){e.sortable&&t.changeSort(e.value)}}},["Icon"===e.text?[n("v-btn",{attrs:{fab:"",small:"",depressed:"",disabled:t.tableActionDisabled}},[n("img",{attrs:{src:i("a5da"),alt:""}})])]:e.is_action?[n("img",{attrs:{src:i("a130")}})]:[t._v(" "+t._s(e.text)+" "),e.sortable?n("v-icon",{attrs:{small:""}},[t._v("arrow_upward")]):t._e()]],2)})),t.hasHeaderIcon?n("th",[n("img",{attrs:{src:i("a130")}})]):t._e()],2)]}},{key:"item",fn:function(e){var i=e.item;return[t._t("custom-item",null,{item:i})]}},{key:"items",fn:function(e){return[n("tr",{staticClass:"table__body-row",attrs:{active:e.selected}},[t.$props.hasCheckbox&&!t.noRowDelete&&t.can_delete?n("td",{on:{click:function(t){e.selected=!e.selected}}},[n("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1):t._e(),t.showRowActions?t._t("row-actions",[n("td",{staticClass:"text-xs-center table__actions"},[!t.noRowEdit&&t.can_edit?t._t("row-edit",[n("v-btn",{attrs:{fab:"",small:"",flat:"",depressed:""},on:{click:function(i){return t.$emit("edit",e.item)}}},[n("img",{attrs:{src:i("206b"),alt:""}})])],{item:e.item}):t._e(),!t.noRowDelete&&t.can_delete?t._t("row-delete",[n("v-btn",{attrs:{fab:"",small:"",flat:"",depressed:""},on:{click:function(i){return t.$emit("delete",e.item)}}},[n("img",{attrs:{src:i("a5da"),alt:""}})])],{item:e.item}):t._e(),!t.noRowView&&t.can_view?t._t("row-view",[n("v-btn",{attrs:{fab:"",flat:"",small:"",depressed:""},on:{click:function(i){return t.$emit("view",e.item)}}},[n("v-icon",[t._v("pageview")])],1)],{item:e.item}):t._e()],2)],{item:e.item}):t._e()],2)]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},"v-data-table",t.$attrs,!1),[n("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}),n("template",{slot:"no-data"},[n("Empty")],1),n("template",{slot:"footer"},[n("td",{staticStyle:{padding:"0"},attrs:{colspan:"100%"}},[t._t("table-actions")],2)])],2)],2)])])},s=[],a=(i("55dd"),{name:"CustomTable",inheritAttrs:!1,props:{headers:Array,items:Array,loading:Boolean,hasCheckbox:Boolean,hasHeaderIcon:Boolean,sort:Object,toolbarTitle:String,noRowEdit:Boolean,noRowDelete:Boolean,noRowView:Boolean,showRowActions:{type:Boolean,default:!0},permission:Object},data:function(){return{selected:[]}},computed:{user:function(){return this.$store.getters.user},can_view:function(){return!!this.user.is_admin||this.permission&&this.permission.view},can_edit:function(){return!!this.user.is_admin||this.permission&&this.permission.update},can_delete:function(){return!!this.user.is_admin||this.permission&&this.permission.delete}},watch:{selected:function(t){var e=t.map((function(t){return t.id}));this.$emit("items-selected",e)}},methods:{toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},changeSort:function(t){this.$emit("sorted",t)},headerClasses:function(t){var e=["column"];return"sortable"in t&&(e.push("sortable"),this.sort.descending?e.push("desc"):e.push("asc"),t.value===this.sort.sortBy&&e.push("active")),e}}}),r=a,o=(i("5378"),i("6af0"),i("2877")),c=Object(o["a"])(r,n,s,!1,null,"6013032a",null);e["a"]=c.exports},5378:function(t,e,i){"use strict";var n=i("9f7b"),s=i.n(n);s.a},"55dd":function(t,e,i){"use strict";var n=i("5ca1"),s=i("d8e8"),a=i("4bf8"),r=i("79e5"),o=[].sort,c=[1,2,3];n(n.P+n.F*(r((function(){c.sort(void 0)}))||!r((function(){c.sort(null)}))||!i("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(a(this)):o.call(a(this),s(t))}})},"6adf":function(t,e,i){"use strict";var n=i("8330"),s=i.n(n);s.a},"6af0":function(t,e,i){"use strict";var n=i("7307"),s=i.n(n);s.a},7307:function(t,e,i){},"7f60":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"message__tab"},[i("v-row",[i("v-col",{attrs:{md:"3"}},[i("UsersList",{attrs:{id:t.id}})],1),i("v-col",{attrs:{md:"9"}},[i("v-tabs",{staticClass:"tabs",attrs:{centered:"",grow:"","hide-slider":"",height:"45","show-arrows":t.is_screen_medium_and_down},model:{value:t.active_tab,callback:function(e){t.active_tab=e},expression:"active_tab"}},t._l(t.tabs,(function(e){return i("v-tab",{key:e.id,attrs:{to:e.route,exact:""}},[t._v(" "+t._s(e.name)+" ")])})),1),i("router-view")],1)],1)],1)},s=[],a=(i("c5f6"),i("386d"),i("a481"),i("55dd"),{computed:{rows_per_page_items:function(){var t=this.items_response;if(!t)return[];var e=this.items.length,i=t.total-t.from+1,n=this.calc_per_page_items(e,t.total);return this.rows_per_page=e,n.filter((function(t){return t<=i}))},should_show_pagination:function(){return!!this.items_response&&this.items_response.total>this.rows_per_page},total_items:function(){return this.items_response?this.items_response.last_page:null},query_for_sorting:function(){return this.sort.sortBy?"".concat(this.sort.sortBy,"|").concat(this.sort.descending?"desc":"asc"):""},api_query:function(){return"page=".concat(this.page,"&\n\t\t\t\t\t\t\tper_page=").concat(this.rows_per_page,"&\n\t\t\t\t\t\t\tsearch=").concat(this.search,"&\n\t\t\t\t\t\t\tsort=").concat(this.query_for_sorting)}}}),r=(i("28a5"),i("20d6"),i("6762"),i("ac6a"),i("b047c")),o=i.n(r),c=i("d4e9"),l={methods:{add_item:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;c["a"][t](e,n).catch((function(){i.$event.$emit("btnloading_off",!1)})).then((function(t){var e=t.data;Array.isArray(e)?e.reverse().forEach((function(t){return i.items.unshift(t)})):i.items.unshift(e),i.$refs.add_dialog.clear_and_close(),i.$event.$emit("open_snackbar",i.table_config.add_message),i.$event.$emit("btnloading_off",!1),"function"===typeof s&&s(t)}))},extract_per_page:function(t){var e=t.search("per_page");return t.substring(e+9,e+10)},calc_per_page_items:function(t,e){var i=[5,10,15,20,25];return i.includes(t)||i.push(t),!i.includes(e)&&e<=25&&i.push(e),i},update_item:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;c["a"][t](this.edit_item.id,e,n).catch((function(){i.$event.$emit("btnloading_off",!1)})).then((function(t){var e=i.items.findIndex((function(e){return e.id===t.data.id}));~e&&i.items.splice(e,1,t.data),i.edit_item={id:null,fields:null},i.edit_dialog=!1,i.$event.$emit("open_snackbar",i.table_config.update_message),i.$event.$emit("btnloading_off",!1),"function"===typeof s&&s(t)}))},delete_item:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;c["a"][t](this.delete_item_id,i).catch((function(){e.$event.$emit("btnloading_off",!1)})).then((function(){var t=e.items.findIndex((function(t){return t.id===e.delete_item_id}));~t&&e.items.splice(t,1),e.delete_item_id=null,e.delete_dialog=!1,e.$event.$emit("open_snackbar",e.table_config.delete_message),e.$event.$emit("btnloading_off",!1),"function"===typeof n&&n(response)}))},open_edit_dialog:function(t){this.edit_dialog=!0,this.$set(this.edit_item,"id",t.id),this.$set(this.edit_item,"fields",t)},open_delete_dialog:function(t){this.delete_dialog=!0,this.delete_item_id=t.id},fill_table:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loading=!0,c["a"][t](n).then((function(t){e.items_response=t.data,e.loading=!1,e.items=i?t.data.data:t.data}))},fill_table_with_data:function(t){this.items=t},add_table_rows:function(t,e){this.items=t,this.items_response=e},changeSort:function(t){this.sort.sortBy===t?this.sort.descending=!this.sort.descending:(this.sort.sortBy=t,this.sort.descending=!1)},refresh_table:function(t){var e=this;c["a"][this.table_config.refresh_table_api_name](t).catch((function(){e.$event.$emit("btnloading_off",!1)})).then((function(t){e.$event.$emit("open_snackbar",e.table_config.refresh_table_message),e.loading=!1,e.items_response=t.data,e.items=t.data.data,e.$event.$emit("btnloading_off",!1)}))},update_table_actions:function(t){if(t.page&&(this.page=Number(t.page)),t.per_page&&(this.rows_per_page=Number(t.per_page)),t.search&&(this.search=t.search),t.sort){var e=t.sort.split("|");this.sort.sortBy=e[0],"asc"===e[1]?this.sort.descending=!1:"desc"===e[1]&&(this.sort.descending=!0)}},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},debounce:o()((function(t){this.search=t}),500)}},d={mixins:[a,l],data:function(){return{edit_dialog:!1,add_dialog:!1,delete_dialog:!1,permissionDialog:!1,loading:!1,items:[],items_response:null,edit_item:{id:null,fields:null},delete_item_id:null,show_delete_selected:!1,selected_ids:[],rows_per_page:null,page:1,sort:{sortBy:null,descending:!1},search:""}},watch:{selected_ids:function(t){t.length>0?this.show_delete_selected=!0:this.show_delete_selected=!1},api_query:function(t,e){var i=Number(this.extract_per_page(t)),n=Number(this.extract_per_page(e))||null;this.items_response&&this.rows_per_page===this.items.length&&i!==n||(this.$router.replace({name:this.table_config.route_name,query:{page:this.page,per_page:this.rows_per_page,search:this.search,sort:this.query_for_sorting}}),this.loading=!0,this.refresh_table(t))}}},u=i("8d9c"),f=i("451f"),_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"mx-auto users-list",attrs:{outlined:"",width:240}},[i("v-toolbar",{attrs:{flat:"",color:"#3b589e",height:"45",dark:""}},[i("v-icon",{attrs:{large:"",left:""}},[t._v("mdi-wechat")]),i("v-toolbar-title",{staticClass:"subtitle"},[t._v("Team")]),i("v-spacer")],1),i("v-card-text",{staticClass:"pa-0"},[i("v-list",{attrs:{subheader:"",dense:""}},t._l(t.users,(function(t){return i("v-list-item",{key:t.id},[i("v-list-item-content",[i("Avatar",{attrs:{user:t}})],1)],1)})),1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",disabled:""}},[t._v("Load More")]),i("v-spacer")],1)],1)},h=[],m=i("1be9"),p=function(t){return m["a"].get("api/projects/".concat(t,"/member"))},v={props:{id:[Number,String]},data:function(){return{users:[]}},computed:{loggedUser:function(){return this.$store.getters.user}},created:function(){var t=this;p(this.id).then((function(e){var i=e.data;return t.users=i.data}))}},g=v,b=(i("6adf"),i("2877")),w=Object(b["a"])(g,_,h,!1,null,"75bab706",null),x=w.exports,$={name:"MessagesTab",mixins:[d,u["a"]],components:{CustomTable:f["a"],UsersList:x},props:{id:[Number,String]},data:function(){var t=this;return{active_tab:null,tabs:t.getTabs(),texts:[{title:"Client Messages",content:"Client messages ..."},{title:"Team Messages",content:"Team messages ..."}],sortList:[{title:"Sort by Client"},{title:"Sort by Task"},{title:"Sort by Services"},{title:"Sort by Time"},{title:"Sort by Date"}],headers:[{text:"Client",value:"client",sortable:!0,align:"left"},{text:"Subject",value:"subject",sortable:!0,align:"left"},{text:"Date",value:"date",sortable:!0,align:"left"},{is_action:!0}],friends:[]}},methods:{getTabs:function(){var t=this.$route.params.type||"project";return[{name:"Client Messages",route:"/dashboard/".concat(t,"/preview/").concat(this.id,"/messages")},{name:"Team Messages",route:"/dashboard/".concat(t,"/preview/").concat(this.id,"/messages/team-messages")}]}}},y=$,k=(i("239a"),Object(b["a"])(y,n,s,!1,null,"1321b932",null));e["default"]=k.exports},8330:function(t,e,i){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"8d9c":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={computed:{is_screen_medium_and_up:function(){return this.$vuetify.breakpoint.mdAndUp},is_screen_medium_and_down:function(){return this.$vuetify.breakpoint.mdAndDown},is_screen_small_and_down:function(){return this.$vuetify.breakpoint.smAndDown}}}},"9f7b":function(t,e,i){},a130:function(t,e,i){t.exports=i.p+"img/menu.02d0eeb5.svg"},a5da:function(t,e,i){t.exports=i.p+"img/delete.ba632ac8.svg"},b047c:function(t,e,i){var n=i("1a8c"),s=i("408c"),a=i("b4b0"),r="Expected a function",o=Math.max,c=Math.min;function l(t,e,i){var l,d,u,f,_,h,m=0,p=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError(r);function b(e){var i=l,n=d;return l=d=void 0,m=e,f=t.apply(n,i),f}function w(t){return m=t,_=setTimeout(y,e),p?b(t):f}function x(t){var i=t-h,n=t-m,s=e-i;return v?c(s,u-n):s}function $(t){var i=t-h,n=t-m;return void 0===h||i>=e||i<0||v&&n>=u}function y(){var t=s();if($(t))return k(t);_=setTimeout(y,x(t))}function k(t){return _=void 0,g&&l?b(t):(l=d=void 0,f)}function C(){void 0!==_&&clearTimeout(_),m=0,l=h=d=_=void 0}function T(){return void 0===_?f:k(s())}function S(){var t=s(),i=$(t);if(l=arguments,d=this,h=t,i){if(void 0===_)return w(h);if(v)return clearTimeout(_),_=setTimeout(y,e),b(h)}return void 0===_&&(_=setTimeout(y,e)),f}return e=a(e)||0,n(i)&&(p=!!i.leading,v="maxWait"in i,u=v?o(a(i.maxWait)||0,e):u,g="trailing"in i?!!i.trailing:g),S.cancel=C,S.flush=T,S}t.exports=l},b4b0:function(t,e,i){var n=i("1a8c"),s=i("ffd6"),a=NaN,r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;function u(t){if("number"==typeof t)return t;if(s(t))return a;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var i=c.test(t);return i||l.test(t)?d(t.slice(2),i?2:8):o.test(t)?a:+t}t.exports=u}}]);
//# sourceMappingURL=chunk-658d24b9.92df4b0e.js.map