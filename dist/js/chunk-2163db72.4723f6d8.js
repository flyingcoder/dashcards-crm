(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2163db72"],{1163:function(t,e,a){},"6e1b":function(t,e,a){"use strict";var s=a("1163"),i=a.n(s);i.a},"6f58":function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));a("8e6e"),a("456d"),a("ac6a");var s=a("2909"),i=a("ade3"),n=a("2f62"),o=a("1be9");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={data:function(){return{loading:!1,panel:[]}},computed:r({},Object(n["c"])(["global_configs"])),methods:{all:function(){this.panel=Object(s["a"])(Array(this.panel_items).keys()).map((function(t,e){return e}))},none:function(){this.panel=[]},sendRequest:function(t,e){var a=this;this["".concat(t,"_btn")]=!0,o["a"].post("api/configs",e).then((function(e){var s=e.data;a[t]=s.value,a.$event.$emit("open_snackbar","Settings updated!")})).finally((function(){return a["".concat(t,"_btn")]=!1}))},getAllConfig:function(t){var e=this;this.loading=!0,o["a"].get("api/configs").then((function(e){var a=e.data;"function"===typeof t&&t(a)})).finally((function(){return e.loading=!1}))}}}},e0fb:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"api-logs"},[a("div",{staticClass:"api-logs-wrapper"},[a("div",{staticClass:"api-logs-content"},[a("v-row",{attrs:{"no-gutters":""}},[a("div",{staticClass:"page-title"},[t._v("Logs")]),a("v-spacer"),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mx-1",attrs:{icon:""},on:{click:t.all}},"v-btn",i,!1),s),[a("v-icon",[t._v("mdi-arrow-collapse-down")])],1)]}}])},[a("span",[t._v("Show All")])]),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mx-1",attrs:{icon:""},on:{click:t.none}},"v-btn",i,!1),s),[a("v-icon",[t._v("mdi-arrow-collapse-vertical")])],1)]}}])},[a("span",[t._v("Hide All")])])],1),a("div",{staticClass:"api-logs-body mt-2"},[[a("v-expansion-panels",{attrs:{focusable:"",multiple:"",flat:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",[a("v-icon",{attrs:{left:""}},[t._v("mdi-server")]),a("span",{staticClass:"subtitle-1"},[t._v("Server Logs")])],1)]),a("v-expansion-panel-content",[a("v-card",{staticClass:"mt-1 col-md-12",attrs:{flat:""}},[a("v-card-text",{staticClass:"subtitle-2"},[a("v-row",[a("h2",{staticClass:"subtitle-2"},[t._v("Telescope")]),t._v(" : "),a("v-chip",{staticClass:"mx-2"},[t._v(" "+t._s(t.statistics.telescope.count)+" ")]),a("v-spacer"),a("v-btn",{staticClass:"ml-1",attrs:{text:"",outlined:"",loading:t.telescope_btn,disabled:t.telescope_btn,small:""},on:{click:t.clear_telescope}},[t._v("Prune ")]),a("v-btn",{staticClass:"ml-1",attrs:{text:"",outlined:"",target:"_blank",href:t.telescope_view_url,small:""}},[t._v("View Logs ")])],1)],1),a("v-divider"),a("v-card-text",{staticClass:"subtitle-2"},[a("v-row",[a("h2",{staticClass:"subtitle-2"},[t._v("App")]),a("v-spacer"),a("v-btn",{staticClass:"ml-1",attrs:{text:"",outlined:"",target:"_blank",href:t.server_logs_view_url,small:""}},[t._v("View Logs ")])],1)],1),a("v-divider")],1)],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",[a("v-icon",{attrs:{left:""}},[t._v("mdi-chart-timeline")]),a("span",{staticClass:"subtitle-1"},[t._v("Activity Logs")])],1)]),a("v-expansion-panel-content",[a("VueTable",{staticClass:"mt-1",attrs:{items:t.items,headers:t.headers,showRowActions:!0,loading:t.loading,icon:"mdi-chart-timeline",title:"App Activities",noMoreData:t.noMoreData,showSelect:!1},on:{"load-more":t.load_more_activities},scopedSlots:t._u([{key:"row-slot",fn:function(e){var s=e.item;return[a("td",[t._v(t._s(s.id))]),a("td",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("span",t._g(t._b({attrs:{color:"primary"}},"span",n,!1),i),[t._v(t._s(s.description))])]}}],null,!0)},[a("v-card",[a("v-card-text",[a("pre",[t._v(t._s(s.properties))])])],1)],1)],1),a("td",[t._v(t._s(s.subject_type))]),a("td",[s.causer_user?a("Avatar",{attrs:{user:s.causer_user,iconOnly:""}}):a("v-icon",{attrs:{large:"",title:"System"}},[t._v("mdi-monitor-star")])],1),a("td",[t._v(t._s(s.created_at))])]}}])})],1)],1),a("v-expansion-panel",[a("v-expansion-panel-header",[a("div",[a("v-icon",{attrs:{left:""}},[t._v("mdi-server")]),a("span",{staticClass:"subtitle-1"},[t._v("Email Logs")])],1)]),a("v-expansion-panel-content",[a("v-card",{staticClass:"mt-1 col-md-12",attrs:{flat:""}},[a("v-card-text",{staticClass:"subtitle-2"},[a("v-row",[a("h2",{staticClass:"subtitle-2"},[t._v("Emails")]),a("v-spacer"),a("v-chip",{staticClass:"mx-2"},[t._v(" "+t._s(t.statistics.emails.count)+" ")])],1)],1),a("v-divider"),a("v-card-text",{staticClass:"body-2"},[a("VueTable",{staticClass:"mt-1",attrs:{items:t.email_items,headers:t.email_headers,showRowActions:!0,loading:t.loading,icon:"mdi-chart-timeline",title:"Email Logs",noMoreData:t.noMoreData_emails,showSelect:!1},on:{"load-more":t.load_more_emails},scopedSlots:t._u([{key:"row-slot",fn:function(e){var s=e.item;return[a("td",[t._v(t._s(s.id))]),a("td",[t._v(t._s(s.from))]),a("td",[t._v(t._s(s.to))]),a("td",[t._v(" "+t._s(s.subject))]),a("td",[t._v(t._s(s.date))]),a("td",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",i,!1),s),[a("v-icon",[t._v("mdi-email-newsletter")])],1)]}}],null,!0)},[a("v-card",[a("v-card-text",{domProps:{innerHTML:t._s(s.body)}})],1)],1)],1)]}}])})],1),a("v-divider")],1)],1)],1)],1)]],2)],1)])])},i=[],n=a("2909"),o=a("6f58"),l=a("1be9"),r=a("7eac"),c=a("e06e"),v=a("0ebe"),_={name:"Logs",mixins:[o["a"],c["a"]],components:{VueTable:v["a"]},data:function(){return{paths:[{text:"Admin",disabled:!1,router_name:"admin-dashboard"},{text:"Logs",disabled:!1,router_name:"admin-logs"}],panel_items:10,telescope_btn:!1,statistics:{telescope:{count:0},emails:{count:0}},headers:[{text:"ID",align:"left",value:"id",sortable:!0},{text:"Description",value:"description"},{text:"Type",value:"subject_type"},{text:"Causer",width:90},{text:"Date",value:"created_at"}],email_items:[],email_headers:[{text:"ID",align:"left",sortable:!1},{text:"From",sortable:!1},{text:"To",sortable:!1},{text:"Subject",sortable:!1},{text:"Sent Date",sortable:!1},{text:"Body",sortable:!1}],see_more_email_logs:""}},created:function(){this.get_all_statistics(),this.get_activities(),this.get_email_logs()},mounted:function(){this.$event.$emit("path-change",this.paths)},computed:{telescope_view_url:function(){return"".concat(r["a"].apiHostBaseURL,"/admin-api/login")},server_logs_view_url:function(){return"".concat(r["a"].apiHostBaseURL,"/admin-api/logs")},noMoreData_emails:function(){return!this.see_more_email_logs}},methods:{get_all_statistics:function(){var t=this;this.loading=!0,l["a"].get("api/logs").then((function(e){var a=e.data;t.statistics=a})).finally((function(){return t.loading=!1}))},clear_telescope:function(){var t=this;this.telescope_btn=!0,l["a"].post("api/logs/clear",{type:"telescope"}).then((function(e){var a=e.data;t.statistics=a})).finally((function(){return t.telescope_btn=!1}))},get_activities:function(){this.fill_table_via_url("api/logs/activities?per_page=100")},load_more_activities:function(){this.load_more_via_url("api/logs/activities?per_page=100")},get_email_logs:function(){var t=this;l["a"].get("api/logs/emails").then((function(e){var a=e.data;t.email_items=a.data,t.see_more_email_logs=a.next_page_url}))},load_more_emails:function(){var t=this;l["a"].get(this.see_more_email_logs).then((function(e){var a,s=e.data;(a=t.email_items).push.apply(a,Object(n["a"])(s.data)),t.see_more_email_logs=s.next_page_url})).finally((function(){t.$event.$emit("btnloading_off",!0)}))}}},u=_,d=(a("6e1b"),a("2877")),p=Object(d["a"])(u,s,i,!1,null,"0ce93342",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2163db72.4723f6d8.js.map