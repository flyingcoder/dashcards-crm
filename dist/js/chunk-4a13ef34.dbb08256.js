(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a13ef34"],{"0edc5":function(t,e,n){},"259d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"breadcrumb-wrapper"},[n("v-breadcrumbs",{attrs:{items:t.paths},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;return[n("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:i.disabled}},[n("span",{on:{click:function(e){return t.navigate_from_breadcrumb(i)}}},[t._v(" "+t._s(i.text)+" ")])])]}}])},[n("v-icon",{attrs:{slot:"divider"},slot:"divider"},[t._v("chevron_right")])],1),t._t("extra")],2)},s=[],a={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(t){if(t.hasOwnProperty("path"))t.path&&this.$router.push({path:t.path});else{var e=t.router_name;e&&this.$router.push({name:e})}}}},o=a,c=(n("5e17"),n("79a2"),n("2877")),l=Object(c["a"])(o,i,s,!1,null,"3cda09ee",null);e["a"]=l.exports},"29d6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[n("breadcrumb",{attrs:{paths:t.paths}}),n("v-flex",[t.noButton?t._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click")}}},[n("v-icon",[t._v("add")])],1),t.noSortButton?t._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-sort-by")}}},[n("v-icon",[t._v("sort")])],1),t.noListButton?t._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-list-view")}}},[n("v-icon",[t._v("list")])],1),t.noGridButton?t._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(e){return t.$emit("click-grid-view")}}},[n("v-icon",[t._v("mdi-view-dashboard")])],1),t._t("form-btn")],2)],1)},s=[],a=n("259d"),o={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:a["a"]}},c=o,l=(n("337a"),n("2877")),r=Object(l["a"])(c,i,s,!1,null,"b8bfd1cc",null);e["a"]=r.exports},"2e26":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-details"},[n("TableHeader",{attrs:{paths:t.paths},on:{click:t.addNewQuestion}}),n("CustomDialog",{attrs:{title:"Select service"},scopedSlots:t._u([{key:"cancel-icon",fn:function(){return[n("span")]},proxy:!0},{key:"content",fn:function(){return[n("v-select",{staticClass:"mt-3",attrs:{items:t.service.items,loading:t.service.loading,"item-text":"name","item-value":"id",solo:"",flat:"",label:"Select Service"},model:{value:t.service.selected,callback:function(e){t.$set(t.service,"selected",e)},expression:"service.selected"}})]},proxy:!0},{key:"entire-actions",fn:function(){return[n("v-btn",{staticClass:"mx-1",attrs:{to:{name:"default-content"}}},[t._v("Cancel")]),n("v-btn",{attrs:{disabled:!t.service.selected},on:{click:t.save}},[t._v("Select")])]},proxy:!0}]),model:{value:t.serviceDialog,callback:function(e){t.serviceDialog=e},expression:"serviceDialog"}}),n("div",{staticClass:"question-fields"},[t.serviceName?n("div",{staticClass:"service-name-label"},[t._v(" "+t._s(t.serviceName)+" Extra Inputs ")]):t._e(),t.serviceDialog?t._e():n("QuestionsFields",{attrs:{"service-id":t.service.selected,sections:t.dynamicSections},on:{"update:sections":function(e){t.dynamicSections=e}}})],1)],1)},s=[],a=(n("7f7f"),n("7514"),n("1be9")),o=function(){return a["a"].get("api/services?all=true")},c=function(t){return a["a"].get("api/forms/project-details/".concat(t))},l=function(t){return a["a"].post("api/forms/project-details",t)},r=n("29d6"),d=n("57e5"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question-fields"},[t._l(t.dynamicSections,(function(e,i){return n("v-layout",{key:i,attrs:{group:""}},[n("v-flex",{attrs:{xs12:""}},[n("div",{staticClass:"field"},[n("v-layout",{attrs:{"align-center":""}},[n("v-flex",{staticClass:"pr-5",attrs:{xs7:""}},[n("v-text-field",{attrs:{label:e.questionField.placeholder},model:{value:e.questionField.text,callback:function(n){t.$set(e.questionField,"text",n)},expression:"section.questionField.text"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-select",{attrs:{value:e.selected,items:e.items,"return-object":""},on:{change:function(e){return t.dropdownChanged(i,e)}}})],1),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{attrs:{round:"",icon:""},on:{click:function(e){return t.removeQuestion(i)}}},[n("v-icon",[t._v("delete")])],1)],1)],1),e.shortAnswer.show?[n("v-layout",[n("v-text-field",{attrs:{label:"Descriptions"},model:{value:e.shortAnswer.text,callback:function(n){t.$set(e.shortAnswer,"text",n)},expression:"section.shortAnswer.text"}})],1),n("v-layout",[n("v-text-field",{attrs:{disabled:"",label:"Short Answer"}})],1)]:e.longAnswer.show?[n("v-layout",[n("v-textarea",{attrs:{label:"Descriptions"},model:{value:e.longAnswer.text,callback:function(n){t.$set(e.longAnswer,"text",n)},expression:"section.longAnswer.text"}})],1),n("v-layout",[n("v-textarea",{attrs:{disabled:"",label:"Long Answer"}})],1)]:[n("v-layout",{staticClass:"default-field",attrs:{"align-center":""}},[n("v-flex",{attrs:{xs1:""}},[n("v-icon",[t._v(t._s(e.selected.icon))])],1),n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"Default Text"},on:{keyup:function(n){if(!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;e.newFieldText&&t.addNewField(i)}},model:{value:e.newFieldText,callback:function(n){t.$set(e,"newFieldText","string"===typeof n?n.trim():n)},expression:"section.newFieldText"}})],1),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{attrs:{icon:"",outlined:"",color:"indigo",disabled:!e.newFieldText},on:{click:function(e){return t.addNewField(i)}}},[n("v-icon",[t._v("add")])],1)],1)],1),t._l(e.fields,(function(s,a){return n("v-layout",{key:a,staticClass:"field",attrs:{"align-center":""}},[e.selected.showIcon?n("v-flex",{attrs:{xs1:""}},[n("v-icon",[t._v(t._s(e.selected.icon))])],1):t._e(),n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{readonly:""},model:{value:s.text,callback:function(e){t.$set(s,"text","string"===typeof e?e.trim():e)},expression:"field.text"}})],1),n("v-flex",{attrs:{xs1:""}},[n("v-btn",{attrs:{icon:"",outlined:"",color:"indigo"},on:{click:function(e){return t.deleteField(i,a)}}},[n("v-icon",[t._v("delete")])],1)],1)],1)}))]],2)])],1)})),t.dynamicSections.length?n("v-btn",{staticClass:"btn-save",on:{click:t.save}},[t._v("Save")]):t._e()],2)},v=[],f=(n("c5f6"),n("0644")),h=n.n(f),p={props:{sections:Array,serviceId:[Number,String]},data:function(){return{dynamicSections:[]}},watch:{sections:{handler:function(t){this.dynamicSections=h()(t)},immediate:!0}},methods:{addNewField:function(t){var e=h()(this.dynamicSections),n=1,i=e[t].selected.icon,s=e[t].newFieldText,a=e[t].fields.reduce((function(t,e){return Math.max(t,e.id)}),0);a>n&&(n=a),e[t].fields.push({id:n,icon:i,text:s}),e[t].newFieldText=null,this.dynamicSections=e},deleteField:function(t,e){var n=h()(this.dynamicSections);n[t].fields.splice(e,1),this.dynamicSections=n},dropdownChanged:function(t,e){var n=h()(this.dynamicSections),i=this.defaultSection();"short_answer"===e.value?i.shortAnswer.show=!0:"paragraph"===e.value&&(i.longAnswer.show=!0),i.selected=e,n[t]=i,this.dynamicSections=n},defaultSection:function(){return{type:"Q",questionField:{placeholder:"Question",text:""},items:[{id:1,text:"Short Answer",value:"short_answer",icon:"short_text",showIcon:!1},{id:2,text:"Paragraph",value:"paragraph",icon:"format_align_center",showIcon:!1},{id:3,text:"Multiple Choice",value:"multiple_choice",icon:"radio_button_unchecked",showIcon:!0},{id:4,text:"Checkboxes",value:"checkboxes",icon:"check_box",showIcon:!0},{id:5,text:"Dropdown",value:"dropdown",icon:"arrow_drop_down_circle",showIcon:!0}],selected:{id:3,text:"Multiple Choice",value:"multiple_choice",icon:"radio_button_unchecked"},fields:[],shortAnswer:{show:!1,text:null},longAnswer:{show:!1,text:null},newFieldText:null}},save:function(){var t=this;l({service_id:this.serviceId,fields:this.dynamicSections}).then((function(e){t.$event.$emit("open_snackbar","Project details fields updated","success",1e4)})).catch((function(e){t.$event.$emit("open_snackbar","${error}","error",1e4)}))},removeQuestion:function(t){this.dynamicSections.splice(t,1),this.$emit("update:sections",this.dynamicSections)}}},m=p,_=(n("7381"),n("2877")),b=Object(_["a"])(m,u,v,!1,null,"29e78c4a",null),x=b.exports,g={name:"ProjectDetails",components:{TableHeader:r["a"],CustomDialog:d["a"],QuestionsFields:x},data:function(){return{paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Forms",disabled:!1,router_name:"forms"},{text:"Project Details",disabled:!0,router_name:null}],serviceDialog:!0,service:{loading:!1,items:[],selected:null},dynamicSections:[],serviceName:""}},created:function(){this.getServices()},methods:{getServices:function(){var t=this;this.service.loading=!0,o().then((function(e){var n=e.data;return t.service.items=n})).finally((function(){return t.service.loading=!1}))},save:function(){var t=this,e=this.service.items.find((function(e){return e.id===t.service.selected}));this.serviceName=e.name||"",c(this.service.selected).then((function(e){var n=e.data;return t.dynamicSections=JSON.parse(n.questions)})).finally((function(){return t.serviceDialog=!1}))},addNewQuestion:function(){this.dynamicSections.push({type:"Q",questionField:{placeholder:"Question",text:""},items:[{id:1,text:"Short Answer",value:"short_answer",icon:"short_text",showIcon:!1},{id:2,text:"Paragraph",value:"paragraph",icon:"format_align_center",showIcon:!1},{id:3,text:"Multiple Choice",value:"multiple_choice",icon:"radio_button_unchecked",showIcon:!0},{id:4,text:"Checkboxes",value:"checkboxes",icon:"check_box",showIcon:!0},{id:5,text:"Dropdown",value:"dropdown",icon:"arrow_drop_down_circle",showIcon:!0}],selected:{id:3,text:"Multiple Choice",value:"multiple_choice",icon:"radio_button_unchecked"},fields:[],shortAnswer:{show:!1,text:null},longAnswer:{show:!1,text:null},newFieldText:null})}}},w=g,y=(n("8262"),Object(_["a"])(w,i,s,!1,null,"4e6aa5e6",null));e["default"]=y.exports},"337a":function(t,e,n){"use strict";var i=n("9e25"),s=n.n(i);s.a},"43d6":function(t,e,n){},"57e5":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":t.maxWidth},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?n("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):n("v-card",{staticClass:"custom__dialog",attrs:{tile:""}},[n("v-card-title",{staticClass:"dialog__header"},[t._t("entire-header",[t._t("title",[n("span",{staticClass:"dialog__title"},[t._v(t._s(t.title))])]),t._t("cancel-icon",[n("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:"",depressed:""},on:{click:t.close_dialog}},[n("v-icon",[t._v("close")])],1)])])],2),n("v-card-text",{staticClass:"dialog__body"},[t._t("content",[n("div",{domProps:{innerHTML:t._s(t.content)}})])],2),n("v-card-actions",{staticClass:"dialog__actions"},[t._t("entire-actions",[t._t("extras"),t._t("button1",[n("v-btn",{attrs:{disabled:t.btnloading},on:{click:t.button1clicked}},[t._v(t._s(t.button1Text))])]),t._t("button2",[n("v-btn",{attrs:{loading:t.btnloading,disabled:t.mainBtnDisabled},on:{click:t.button2clicked}},[t._v(t._s(t.button2Text))])])])],2)],1)],1)],1)},s=[],a=(n("c5f6"),{props:{title:{type:String,default:"Default Modal Title"},content:{type:String,default:"Default Modal Text Content"},button1Text:{type:String,default:"Cancel"},button2Text:{type:String,default:"Delete"},open:Boolean,value:Boolean,mainBtnDisabled:{type:Boolean,default:!1},maxWidth:{type:[Number,String],default:"600px"}},data:function(){return{dialog:!1,loading:!1,btnloading:!1}},mounted:function(){var t=this;this.$event.$on("btnloading_off",(function(e){t.btnloading=!1}))},watch:{value:{handler:function(t){this.dialog=t},immediate:!0},open:function(t){this.dialog=t,this.btnloading=!1},dialog:function(t){this.$emit("update:open",t),this.$emit("input",t)}},methods:{button1clicked:function(){this.$emit("button1"),this.close_dialog()},button2clicked:function(){this.btnloading=!0,this.$emit("button2")},open_dialog:function(){this.dialog=!0},close_dialog:function(){this.dialog=!1,this.btnloading=!1},clear_and_close:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.close_dialog()},activate_loading:function(){this.loading=!0},disable_loading:function(){this.loading=!1}}}),o=a,c=(n("731a"),n("dd8e"),n("2877")),l=Object(c["a"])(o,i,s,!1,null,"37eed48a",null);e["a"]=l.exports},"5aef":function(t,e,n){},"5e17":function(t,e,n){"use strict";var i=n("8c6e"),s=n.n(i);s.a},"731a":function(t,e,n){"use strict";var i=n("9dcc"),s=n.n(i);s.a},7381:function(t,e,n){"use strict";var i=n("5aef"),s=n.n(i);s.a},"79a2":function(t,e,n){"use strict";var i=n("0edc5"),s=n.n(i);s.a},8262:function(t,e,n){"use strict";var i=n("bf11"),s=n.n(i);s.a},"8c6e":function(t,e,n){},"9dcc":function(t,e,n){},"9e25":function(t,e,n){},bf11:function(t,e,n){},dd8e:function(t,e,n){"use strict";var i=n("43d6"),s=n.n(i);s.a}}]);
//# sourceMappingURL=chunk-4a13ef34.dbb08256.js.map