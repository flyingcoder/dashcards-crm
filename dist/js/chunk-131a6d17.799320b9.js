(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-131a6d17"],{"0af2":function(e,t,i){},"0e3c":function(e,t,i){"use strict";var n=i("b372"),r=i.n(n);r.a},1012:function(e,t,i){},1331:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=(0,n.regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=r},"1b58":function(e,t,i){"use strict";var n=i("61e5"),r=i.n(n);r.a},"29d6":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table-header"},[e._t("prepends"),e.hasSearch?i("v-text-field",{attrs:{dense:"",outlined:"",clearable:"","clear-icon":"mdi-close-circle-outline",solo:"",flat:"","append-icon":"search","hide-details":""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}):e._e(),e.noButton?e._e():i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[i("v-icon",e._g(e._b({staticClass:"add__btn ml-2",on:{click:function(t){return e.$emit("click")}}},"v-icon",r,!1),n),[e._v(" mdi-plus-circle-outline ")])]}}],null,!1,832533837)},[i("span",[e._v("Create new")])]),e._t("center"),e.noSortButton?e._e():i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[i("v-icon",e._g(e._b({staticClass:"view-btn add__btn ml-2",on:{click:function(t){return e.$emit("click-sort-by")}}},"v-icon",r,!1),n),[e._v(" sort ")])]}}],null,!1,247375115)},[i("span",[e._v("Sort")])]),e.noListButton?e._e():i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[i("v-icon",e._g(e._b({staticClass:"view-btn add__btn ml-2",attrs:{color:"list"===e.activeView?"primary":""},on:{click:function(t){return e.$emit("click-list-view")}}},"v-icon",r,!1),n),[e._v(" mdi-view-list ")])]}}],null,!1,3129698352)},[i("span",[e._v("List view")])]),e.noGridButton?e._e():i("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[i("v-icon",e._g(e._b({staticClass:"add__btn ml-2",attrs:{color:"grid"===e.activeView?"primary":""},on:{click:function(t){return e.$emit("click-grid-view")}}},"v-icon",r,!1),n),[e._v(" mdi-view-grid ")])]}}],null,!1,61101394)},[i("span",[e._v("Grid view")])]),e._t("form-btn")],2)},r=[],a={name:"TableHeader",props:{hasSearch:{type:Boolean,default:!1},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0,keyword:"",debounce:null}},watch:{keyword:function(e){var t=this;clearTimeout(this.debounce),this.debounce=setTimeout((function(){t.$emit("search",e)}),600)}},computed:{activeView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"}}},s=a,o=(i("d893"),i("2877")),l=Object(o["a"])(s,n,r,!1,null,"32f7f82b",null);t["a"]=l.exports},"2a12":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e){return(0,n.withParams)({type:"maxLength",max:e},(function(t){return!(0,n.req)(t)||(0,n.len)(t)<=e}))};t.default=r},"2f21":function(e,t,i){"use strict";var n=i("79e5");e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},3360:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,n.withParams)({type:"and"},(function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.length>0&&t.reduce((function(t,i){return t&&i.apply(e,n)}),!0)}))};t.default=r},"386d":function(e,t,i){"use strict";var n=i("cb7c"),r=i("83a1"),a=i("5f1b");i("214f")("search",1,(function(e,t,i,s){return[function(i){var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},function(e){var t=s(i,e,this);if(t.done)return t.value;var o=n(e),l=String(this),c=o.lastIndex;r(c,0)||(o.lastIndex=0);var d=a(o,l);return r(o.lastIndex,c)||(o.lastIndex=c),null===d?-1:d.index}]}))},"3a54":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=(0,n.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=r},"408c":function(e,t,i){var n=i("2b3e"),r=function(){return n.Date.now()};e.exports=r},4379:function(e,t,i){},"45b8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=(0,n.regex)("numeric",/^[0-9]*$/);t.default=r},"46bc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e){return(0,n.withParams)({type:"maxValue",max:e},(function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))};t.default=r},"4d57":function(e,t,i){},"55dd":function(e,t,i){"use strict";var n=i("5ca1"),r=i("d8e8"),a=i("4bf8"),s=i("79e5"),o=[].sort,l=[1,2,3];n(n.P+n.F*(s((function(){l.sort(void 0)}))||!s((function(){l.sort(null)}))||!i("2f21")(o)),"Array",{sort:function(e){return void 0===e?o.call(a(this)):o.call(a(this),r(e))}})},"5cf8":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"client-profile"},[i("div",{staticClass:"profile mt-1"},[i("div",{staticClass:"profile-content"},[i("Upper",{attrs:{currentuserid:e.user_id},on:{"client-updated":e.client_updated}}),i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[i("Lower",{attrs:{user_id:e.user_id}})],1)],1)],1)])])},r=[],a=(i("8e6e"),i("ac6a"),i("456d"),i("ade3")),s=(i("c5f6"),i("2f62")),o=i("29d6"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile-upper"},[i("div",{staticClass:"background"},[i("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({staticClass:"settings",attrs:{dark:"",icon:""}},n),[i("v-icon",[e._v("settings")])],1)]}}])},[i("v-list",[e.can_edit?i("v-list-item",{on:{click:function(t){return e.open_edit_dialog(e.user)}}},[i("v-list-item-title",[i("v-icon",{attrs:{left:""}},[e._v("mdi-account")]),e._v(" Edit Profile ")],1)],1):e._e(),e.can_edit?i("v-list-item",{on:{click:function(t){return e.open_update_password_dialog(e.user)}}},[i("v-list-item-title",[i("v-icon",{attrs:{left:""}},[e._v("lock")]),e._v(" Update Password ")],1)],1):e._e()],1)],1)],1),e.user?i("div",{staticClass:"icons"},[i("div",{staticClass:"user-img",on:{click:e.image_clicked}},[i("img",{attrs:{src:e.user.image_url,alt:"User"}})])]):e._e(),i("UpdatePasswordDialog",{ref:"update_password_dialog",attrs:{title:"Update Password",fieldsToEdit:e.edit_item}}),i("clients-dialog",{ref:"edit_dialog",attrs:{dialog:e.edit_dialog,dialogTitle:"Edit Client","is-edit-dialog":e.edit_dialog,"fields-to-edit":e.edit_item},on:{"update:dialog":function(t){e.edit_dialog=t},save:function(t){return e.handle_update_client(t)}}}),i("AddPicture",{on:{"picture-changed":e.set_user}}),i("UserInfo")],1)},c=[],d=i("e06e"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-info"},[e.user_loading?i("div",{staticClass:"loading"},[i("v-progress-linear",{attrs:{indeterminate:!0}})],1):e.user?[i("div",{staticClass:"info-div"},[i("div",{staticClass:"hour"},[e._v("Invoices")]),i("div",{staticClass:"value headline"},[e._v(e._s(e.user.hasOwnProperty("no_invoices")?e.user.no_invoices:0))])]),i("div",{staticClass:"info-div"},[i("h4",{staticClass:"name"},[e._v(e._s(e.user.first_name)+" "+e._s(e.user.last_name))]),e.user.company.name?i("div",{staticClass:"job-title"},[e._v(" "+e._s(e._f("ucwords")(e.user.company.name))+" ")]):i("div",{staticClass:"job-title"},[e._v("Client")]),i("div",{staticClass:"address"},[i("v-icon",[e._v("place")]),e.user.props.location?i("span",[e._v(e._s(e._f("ucwords")(e.user.props.location)))]):e.user.company.address?i("span",[e._v(e._s(e._f("ucwords")(e.user.company.address)))]):i("span",[e._v("Unknown")])],1)]),i("div",{staticClass:"info-div"},[i("div",{staticClass:"hour"},[e._v("Amount Paid")]),i("div",{staticClass:"value headline"},[e._v(" "+e._s(e.currency.symbol)+" "+e._s(e.user.total_amount_paid)+" ")]),i("div",{staticClass:"hour"},[e._v("Amount Unpaid")]),i("div",{staticClass:"value headline"},[e._v(" "+e._s(e.currency.symbol)+" "+e._s(e.user.total_amount_unpaid)+" ")])])]:e._e()],2)},f=[],p=i("7eac");function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){Object(a["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={data:function(){return{currency:p["a"].defaultCurrency}},computed:m({},Object(s["c"])("memberProfile",["user","user_loading"]))},v=h,b=(i("8801"),i("2877")),g=Object(b["a"])(v,u,f,!1,null,"0a8d61cc",null),y=g.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add-picture"},[i("CustomDialog",{ref:"picture_dialog",attrs:{title:"Upload New Profile Picture","button2-text":"Save",open:e.dialog},on:{button1:e.cancel,"update:open":function(t){e.dialog=t}},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{staticClass:"content"},[i("Loader",{attrs:{loading:e.loading}}),e.file_uploaded?i("CropImage",{ref:"croppie",attrs:{image:e.image64,options:e.croppie.options,result:e.croppie.result}}):i("CustomDropzone",{ref:"dropzone",attrs:{duplicateCheck:!0,acceptedFiles:"image/*",options:e.dropzoneOptions,useCustomSlot:!0,dictFileTooBig:"File too big",dictInvalidFileType:"Invalid file type"},on:{"file-added":e.file_added}})],1)]},proxy:!0},{key:"button2",fn:function(){return[i("v-btn",{attrs:{disabled:!e.file_uploaded},on:{click:e.get_cropped_image}},[e._v("Save")])]},proxy:!0}])})],1)},O=[],P=i("3835"),j=i("1be9"),$={upload_image:function(e,t){return j["a"].post("api/clients/".concat(e,"/image"),t)},update_profile:function(e,t){return j["a"].put("api/company/teams/".concat(e),t)}},x=i("854b"),k=i("57e5"),C=i("8b7e"),D=i("8c75");function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){Object(a["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var A={components:{Loader:x["a"],CustomDialog:k["a"],CustomDropzone:C["a"],CropImage:D["a"]},data:function(){return{file_uploaded:!1,image64:null,loading:!1,croppie:{options:{viewport:{width:200,height:200,type:"circle"},showZoomer:!0,boundary:{width:300,height:300},enableOrientation:!0},result:"blob"}}},computed:E(E(E({},Object(s["c"])("memberProfile",["picture_dialog_is_open","user_id"])),Object(s["c"])(["user"])),{},{dialog:{get:function(){return this.picture_dialog_is_open},set:function(e){this.set_picture_dialog(e)}},dropzoneOptions:function(){return{maxFiles:1,thumbnailWidth:150,addRemoveLinks:!0,url:p["a"].apiHostBaseURL+"/api/company/clients/".concat(this.user_id),headers:{Authorization:"Bearer "+localStorage.getItem("token")},method:"put",autoProcessQueue:!1}}}),methods:E(E({},Object(s["d"])("memberProfile",["set_picture_dialog"])),{},{file_added:function(e){var t=this,i=Object(P["a"])(e,1),n=i[0],r=new FileReader;r.onload=function(){t.image64=r.result,t.file_uploaded=!0},r.readAsDataURL(n)},get_cropped_image:function(){this.$refs.croppie.get_result().then(this.upload_image)},upload_image:function(e){var t=this,i=new FormData;i.append("file",e),this.loading=!0,$.upload_image(this.user_id,i).then(this.image_uploaded).finally((function(){return t.loading=!1}))},image_uploaded:function(e){this.$refs.croppie.clear_component(),this.$event.$emit("open_snackbar","Profile picture uploaded successfully!"),this.$emit("picture-changed",e.data),this.$refs.picture_dialog.clear_and_close(),Object.assign(this.$data,this.$options.data.apply(this))},cancel:function(){this.dialog=!1}})},M=A,q=(i("8e05"),Object(b["a"])(M,w,O,!1,null,"6be1d2f0",null)),T=q.exports,B=i("ec05"),I=i("7f40");function N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function U(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N(Object(i),!0).forEach((function(t){Object(a["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var L={mixins:[d["a"]],components:{UserInfo:y,AddPicture:T,UpdatePasswordDialog:B["a"],ClientsDialog:I["a"]},props:{currentuserid:[Number,String]},data:function(){return{edit_dialog:!1,edit_item:{id:null,fields:null},table_config:{route_name:"clients",add_message:"New Client added successfully!",update_message:"Client updated successfully!",delete_message:"Client deleted successfully!",refresh_table_message:"Table refreshed"}}},computed:U(U({},Object(s["c"])("memberProfile",["user"])),{},{logged_user:function(){return this.$store.getters.user},permission:function(){return this.$_permissions.get("client_profile")},can_edit:function(){return!!this.logged_user.is_admin||(this.logged_user.id===parseInt(this.currentuserid)||!!this.logged_user.is_manager&&(this.permission&&this.permission.update))}}),methods:U(U(U({},Object(s["d"])("memberProfile",["set_picture_dialog","set_user"])),Object(s["b"])("memberProfile",["update_profile"])),{},{open_edit_dialog:function(e){this.edit_dialog=!0,this.$set(this.edit_item,"id",e.id),this.$set(this.edit_item,"fields",e)},open_update_password_dialog:function(e){this.$refs.update_password_dialog.open(),this.$set(this.edit_item,"id",e.id),this.$set(this.edit_item,"fields",e)},update_user_profile:function(e){e["id"]=this.edit_item.id,this.update_profile(e),this.edit_dialog=this.set_user_loading,this.$set(this.edit_item,"fields",this.user),this.$event.$emit("btnloading_off",!1)},image_clicked:function(){this.set_picture_dialog(!0)},handle_update_client:function(e){this.update_item("update_client",e),this.$emit("client-updated",e)}})},z=L,V=(i("70b0"),Object(b["a"])(z,l,c,!1,null,"7bbf21e6",null)),F=V.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile-lower"},[i("v-tabs",{staticClass:"tabs",attrs:{"hide-slider":!1,"show-arrows":e.is_screen_medium_and_down,centered:"",grow:"",height:"60px"},model:{value:e.active_tab,callback:function(t){e.active_tab=t},expression:"active_tab"}},e._l(e.tabs,(function(t){return i("v-tab",{key:t.route,staticClass:"tab-item",attrs:{to:t.route,exact:""}},[i("div",[i("v-icon",{attrs:{left:"",small:""}},[e._v(e._s(t.icon))]),e._v(" "+e._s(t.name)+" ")],1)])})),1),i("keep-alive",{key:e.user_id},[i("router-view",{key:e.$route.fullPath})],1)],1)},W=[],Z=i("8d9c"),H={name:"ProfileLower",mixins:[Z["a"]],props:{user_id:[Number,String]},data:function(){return{active_tab:"",tabs:[{id:1,name:"Task",icon:"mdi-clipboard-list-outline",route:"/dashboard/clients/profile/".concat(this.user_id)},{id:2,name:"Invoice",icon:"mdi-cash-register",route:"/dashboard/clients/profile/".concat(this.user_id,"/invoice")},{id:3,name:"Projects & Campaigns",icon:"mdi-dresser-outline",route:"/dashboard/clients/profile/".concat(this.user_id,"/projects-campaigns")},{id:4,name:"Company",icon:"mdi-city-variant-outline",route:"/dashboard/clients/profile/".concat(this.user_id,"/company")}]}}},G=H,J=(i("7e75"),i("ce12"),Object(b["a"])(G,R,W,!1,null,"149e0e79",null)),K=J.exports;function Q(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function X(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(i),!0).forEach((function(t){Object(a["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Q(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Y={props:{user_id:[Number,String]},components:{TableHeader:o["a"],Upper:F,Lower:K},data:function(){return{paths:[{text:"Dashboard",disabled:!1,route:{name:"default-content"}},{text:"Client",disabled:!1,route:{name:"clients"}},{text:"Profile",disabled:!0,route:null}]}},mounted:function(){this.$event.$emit("path-change",this.paths),this.set_user_id(this.user_id),this.get_single_client(this.user_id)},methods:X(X(X({},Object(s["d"])("memberProfile",["set_user_id"])),Object(s["b"])("memberProfile",["get_single_client"])),{},{client_updated:function(e){this.get_single_client(this.user_id)}}),beforeRouteEnter:function(e,t,i){i((function(n){n.verifyUser(e,t,i)}))}},ee=Y,te=(i("1b58"),Object(b["a"])(ee,n,r,!1,null,"437f80d2",null));t["default"]=te.exports},"5d75":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/,a=(0,n.regex)("email",r);t.default=a},"5db3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e){return(0,n.withParams)({type:"minLength",min:e},(function(t){return!(0,n.req)(t)||(0,n.len)(t)>=e}))};t.default=r},"61e5":function(e,t,i){},6235:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=(0,n.regex)("alpha",/^[a-zA-Z]*$/);t.default=r},6417:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e){return(0,n.withParams)({type:"not"},(function(t,i){return!(0,n.req)(t)||!e.call(this,t,i)}))};t.default=r},"64f9":function(e,t,i){"use strict";var n=i("1012"),r=i.n(n);r.a},"70b0":function(e,t,i){"use strict";var n=i("4d57"),r=i.n(n);r.a},"772d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,a=(0,n.regex)("url",r);t.default=a},"78ef":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return n.default}}),t.regex=t.ref=t.len=t.req=void 0;var n=r(i("8750"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===a(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=s;var o=function(e){return Array.isArray(e)?e.length:"object"===a(e)?Object.keys(e).length:String(e).length};t.len=o;var l=function(e,t,i){return"function"===typeof e?e.call(t,i):i[e]};t.ref=l;var c=function(e,t){return(0,n.default)({type:e},(function(e){return!s(e)||t.test(e)}))};t.regex=c},"7e75":function(e,t,i){"use strict";var n=i("c13e"),r=i.n(n);r.a},"7f40":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("custom-dialog",{ref:"dialog",attrs:{title:e.dialogTitle,open:e.open,"button2-text":"Save","max-width":600,mainBtnDisabled:!e.readyForSubmit},on:{"update:open":function(t){e.open=t},button1:e.cancel,button2:e.save}},[i("template",{slot:"content"},[i("v-row",{staticClass:"clients__dialog",attrs:{"no-gutters":""}},[e.isEditDialog?e._e():i("v-col",{attrs:{xs:"12",sm:"12"}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{"prepend-inner-icon":"mdi-office-building",label:"Business Name *",dense:"",filled:"","hide-details":"",color:"#657186"},model:{value:e.company_name,callback:function(t){e.company_name="string"===typeof t?t.trim():t},expression:"company_name"}})],1),i("v-col",{staticClass:"py-0 my-0",attrs:{xs:"12",sm:"12"}},[i("p",{staticClass:"owner"},[e._v("Client's Details")])]),e.isEditDialog?e._e():i("v-col",{attrs:{xs:"12",sm:6,md:6}},[i("v-select",{staticClass:"dialog__textfield d-field",attrs:{"prepend-inner-icon":"mdi-account-circle-outline",label:"Client",dense:"",filled:"","hide-details":"",color:"#657186",items:e.is_new_client_items},model:{value:e.is_new_client,callback:function(t){e.is_new_client=t},expression:"is_new_client"}})],1),e.isEditDialog?e._e():i("v-col",{attrs:{xs:"12",sm:6,md:6}},[i("v-select",{staticClass:"dialog__textfield d-field",attrs:{"prepend-inner-icon":"mdi-account-circle-outline",label:e.exists_client_label,dense:"",filled:"","hide-details":"",color:"#657186",items:e.clients_list,disabled:e.is_new_client,"item-text":"fullname","return-object":""},model:{value:e.existing_client,callback:function(t){e.existing_client=t},expression:"existing_client"}})],1),e.is_new_client?i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{xs:"12",sm:"6",md:"6"}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{"prepend-inner-icon":"mdi-account-settings-outline",label:"First Name *",dense:"",filled:"","hide-details":"",color:"#657186"},model:{value:e.first_name,callback:function(t){e.first_name="string"===typeof t?t.trim():t},expression:"first_name"}})],1),i("v-col",{attrs:{xs:"12",sm:"6",md:"6"}},[i("v-text-field",{staticClass:"dialog__textfield d-field",attrs:{"prepend-inner-icon":"mdi-account-settings-outline",label:"Last Name *",dense:"",filled:"","hide-details":"",color:"#657186"},model:{value:e.last_name,callback:function(t){e.last_name="string"===typeof t?t.trim():t},expression:"last_name"}})],1),i("v-col",{attrs:{xs:"12",sm:"12"}},[i("vue-phone-number-input",{staticClass:"dialog__textfield d-field",attrs:{size:"lg",clearable:"","show-code-on-list":"","default-country-code":e.defaultCountryCode},on:{update:e.showUpdate,"phone-number-blur":e.telephone_on_blur},model:{value:e.contact_number,callback:function(t){e.contact_number=t},expression:"contact_number"}})],1),i("v-col",{attrs:{xs:"12",sm:"6"}},[i("v-text-field",{staticClass:"dialog__email d-field",attrs:{"prepend-inner-icon":"mdi-email-receive",label:"Contact Email *",dense:"",filled:"","hide-details":"",color:"#657186"},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}})],1),i("v-col",{attrs:{xs:"12",sm:"6"}},[i("v-select",{staticClass:"dialog__selectfield d-field",attrs:{"prepend-inner-icon":"mdi-account-question-outline",label:"Status *",items:e.status_items,dense:"",filled:"","hide-details":"",color:"#657186"},model:{value:e.status,callback:function(t){e.status="string"===typeof t?t.trim():t},expression:"status"}})],1),e.isEditDialog?e._e():i("v-col",{attrs:{xs:"12",sm:"6"}},[i("v-text-field",{staticClass:"dialog__password d-field",attrs:{"prepend-inner-icon":"mdi-account-lock-outline","append-icon":e.show_password?"visibility_off":"visibility",type:e.show_password?"text":"password",label:"Password *",dense:"",filled:"","hide-details":"",color:"#657186"},on:{"click:append":function(t){e.show_password=!e.show_password}},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}})],1),e.isEditDialog?e._e():i("v-col",{attrs:{xs:"12",sm:"6"}},[i("v-text-field",{staticClass:"dialog__password d-field",attrs:{"prepend-inner-icon":"mdi-account-key-outline","append-icon":e.show_repeat_password?"visibility_off":"visibility",type:e.show_repeat_password?"text":"password",label:"Repeat Password *",dense:"",filled:"","hide-details":"",color:"#657186"},on:{"click:append":function(t){e.show_repeat_password=!e.show_repeat_password}},model:{value:e.repeat_password,callback:function(t){e.repeat_password="string"===typeof t?t.trim():t},expression:"repeat_password"}})],1)],1):e._e()],1)],1)],2)},r=[],a=(i("7f7f"),i("57e5")),s=i("1be9"),o={name:"ClientsDialog",components:{CustomDialog:a["a"]},props:{dialog:Boolean,dialogTitle:String,isEditDialog:Boolean,fieldsToEdit:{type:Object,default:function(){}}},data:function(){return{open:!1,show_password:!1,show_repeat_password:!1,first_name:null,last_name:null,company_name:null,telephone:null,contact_number:null,contact_name:null,email:null,status:"Active",location:null,password:null,repeat_password:null,status_items:[{id:1,text:"Active",value:"Active"},{id:2,text:"Inactive",value:"Inactive"}],telephone_is_valid:!1,defaultCountryCode:"CA",is_new_client:!0,is_new_client_items:[{text:"Add as new client",value:!0},{text:"Attach to existing client",value:!1}],clients_list:[],existing_client:null}},watch:{dialog:function(e){this.open=e,e&&this.get_all_clients()},open:function(e){this.$emit("update:dialog",e)},fieldsToEdit:{handler:function(e){this.isEditDialog&&this.update_fields(e)},deep:!0},is_new_client:function(e){e&&(this.existing_client=null)}},computed:{readyForSubmit:function(){return this.validation_passed()},exists_client_label:function(){return this.is_new_client?"Enter client details below":"Select from existing clients *"}},methods:{cancel:function(){this.open=!1},validation_passed:function(){if(!this.is_new_client)return this.existing_client&&this.company_name;var e=!0;return this.telephone&&(e=this.telephone_is_valid),this.isEditDialog?e&&this.first_name&&this.last_name&&this.email&&this.status:e&&this.password&&this.repeat_password&&this.first_name&&this.last_name&&this.company_name&&this.email&&this.status},save:function(){if(this.is_new_client){var e={first_name:this.first_name,last_name:this.last_name,company_name:this.company_name,telephone:this.telephone,contact_name:this.contact_name,email:this.email,status:this.status,location:this.location};if(!this.isEditDialog){if(this.password!==this.repeat_password)return this.$event.$emit("open_snackbar","Passwords don't match","error"),void this.$event.$emit("btnloading_off",!1);e.password=this.password,e.password_confirmation=this.repeat_password}this.$emit("save",e)}else this.$emit("save",{company_name:this.company_name,client_id:this.existing_client.id})},update_fields:function(e){var t=e.fields,i=Object.assign({},t);this.first_name=i.first_name,this.last_name=i.last_name,this.company_name=i.company.name||null,this.contact_name=i.company.others.contact_name||null,this.email=i.email,this.status=i.props.status||"Active",this.location=i.props.location||null,i.telephone?(this.contact_number=i.telephone.phoneNumber,this.defaultCountryCode=i.telephone.countryCode,this.telephone_is_valid=!0):(this.contact_number=null,this.defaultCountryCode=null),this.is_new_client=!0},clearAll:function(){this.first_name="",this.last_name="",this.company_name="",this.location="",this.contact_name="",this.telephone=null,this.email="",this.status="Active",this.password="",this.repeat_password="",this.telephone_is_valid=!1,this.existing_client=null,this.is_new_client=!0},clear_and_close:function(){this.clearAll(),this.cancel()},showUpdate:function(e){this.telephone_is_valid=e.isValid,this.telephone=e.isValid?e:null},telephone_on_blur:function(){this.telephone_is_valid||this.$event.$emit("open_snackbar","Invalid Phone format","error")},get_all_clients:function(){var e=this;s["a"].get("api/company/clients").then((function(t){var i=t.data;e.clients_list=i}))}}},l=o,c=(i("64f9"),i("2877")),d=Object(c["a"])(l,n,r,!1,null,"594c0ddb",null);t["a"]=d.exports},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},8750:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="web"===Object({NODE_ENV:"production",BASE_URL:"/"}).BUILD?i("cb69").withParams:i("0234").withParams,r=n;t.default=r},8801:function(e,t,i){"use strict";var n=i("bd1f"),r=i.n(n);r.a},"8d9c":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n={computed:{is_screen_medium_and_up:function(){return this.$vuetify.breakpoint.mdAndUp},is_screen_medium_and_down:function(){return this.$vuetify.breakpoint.mdAndDown},is_screen_small_and_down:function(){return this.$vuetify.breakpoint.smAndDown}}}},"8e05":function(e,t,i){"use strict";var n=i("f593"),r=i.n(n);r.a},"91d3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,n.withParams)({type:"macAddress"},(function(t){if(!(0,n.req)(t))return!0;if("string"!==typeof t)return!1;var i="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==i&&(6===i.length||8===i.length)&&i.every(a)}))};t.default=r;var a=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},aa82:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e){return(0,n.withParams)({type:"requiredIf",prop:e},(function(t,i){return!(0,n.ref)(e,this,i)||(0,n.req)(t)}))};t.default=r},b047c:function(e,t,i){var n=i("1a8c"),r=i("408c"),a=i("b4b0"),s="Expected a function",o=Math.max,l=Math.min;function c(e,t,i){var c,d,u,f,p,_,m=0,h=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError(s);function g(t){var i=c,n=d;return c=d=void 0,m=t,f=e.apply(n,i),f}function y(e){return m=e,p=setTimeout(P,t),h?g(e):f}function w(e){var i=e-_,n=e-m,r=t-i;return v?l(r,u-n):r}function O(e){var i=e-_,n=e-m;return void 0===_||i>=t||i<0||v&&n>=u}function P(){var e=r();if(O(e))return j(e);p=setTimeout(P,w(e))}function j(e){return p=void 0,b&&c?g(e):(c=d=void 0,f)}function $(){void 0!==p&&clearTimeout(p),m=0,c=_=d=p=void 0}function x(){return void 0===p?f:j(r())}function k(){var e=r(),i=O(e);if(c=arguments,d=this,_=e,i){if(void 0===p)return y(_);if(v)return clearTimeout(p),p=setTimeout(P,t),g(_)}return void 0===p&&(p=setTimeout(P,t)),f}return t=a(t)||0,n(i)&&(h=!!i.leading,v="maxWait"in i,u=v?o(a(i.maxWait)||0,t):u,b="trailing"in i?!!i.trailing:b),k.cancel=$,k.flush=x,k}e.exports=c},b372:function(e,t,i){},b4b0:function(e,t,i){var n=i("1a8c"),r=i("ffd6"),a=NaN,s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function u(e){if("number"==typeof e)return e;if(r(e))return a;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=l.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):o.test(e)?a:+e}e.exports=u},b5ae:function(e,t,i){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return j.default}}),t.helpers=void 0;var r=C(i("6235")),a=C(i("3a54")),s=C(i("45b8")),o=C(i("ec11")),l=C(i("5d75")),c=C(i("c99d")),d=C(i("91d3")),u=C(i("2a12")),f=C(i("5db3")),p=C(i("d4f4")),_=C(i("aa82")),m=C(i("e652")),h=C(i("b6cb")),v=C(i("772d")),b=C(i("d294")),g=C(i("3360")),y=C(i("6417")),w=C(i("eb66")),O=C(i("46bc")),P=C(i("1331")),j=C(i("c301")),$=k(i("78ef"));function x(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return x=function(){return e},e}function k(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=x();if(t&&t.has(e))return t.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,t&&t.set(e,i),i}function C(e){return e&&e.__esModule?e:{default:e}}t.helpers=$},b6cb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e){return(0,n.withParams)({type:"sameAs",eq:e},(function(t,i){return t===(0,n.ref)(e,this,i)}))};t.default=r},bd1f:function(e,t,i){},c13e:function(e,t,i){},c301:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=(0,n.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=r},c99d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=(0,n.withParams)({type:"ipAddress"},(function(e){if(!(0,n.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(a)}));t.default=r;var a=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cb69:function(e,t,i){"use strict";(function(e){function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var n="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},r=function(e,t){return"object"===i(e)&&void 0!==t?t:e((function(){}))},a=n.vuelidate?n.vuelidate.withParams:r;t.withParams=a}).call(this,i("c8ba"))},ce12:function(e,t,i){"use strict";var n=i("4379"),r=i.n(n);r.a},d294:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,n.withParams)({type:"or"},(function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.length>0&&t.reduce((function(t,i){return t||i.apply(e,n)}),!1)}))};t.default=r},d4f4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=(0,n.withParams)({type:"required"},(function(e){return"string"===typeof e?(0,n.req)(e.trim()):(0,n.req)(e)}));t.default=r},d819:function(e,t,i){},d893:function(e,t,i){"use strict";var n=i("0af2"),r=i.n(n);r.a},e06e:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i("386d"),i("a481"),i("c5f6"),i("28a5"),i("55dd"),i("2fdb"),i("ac6a"),i("6762"),i("20d6");var n=i("2909"),r=i("b047c"),a=i.n(r),s=i("d4e9"),o=i("1be9"),l={methods:{resetPagination:function(){this.pagination.current=1,this.pagination.total=0,this.noMoreData=!1},clear_selected:function(){this.selected=[],this.$event.$emit("clear_selected",[]),this.$event.$emit("btnloading_off",!1)},add_item:function(e,t){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;s["a"][e](t,r).then((function(e){var t=e.data;if(Array.isArray(t)){var r;(r=i.items).push.apply(r,Object(n["a"])(t.reverse()))}else{var s=i.items.findIndex((function(e){return e.id===t.id}));~s?i.items.splice(s,1,t):i.items.push(t)}i.clear_selected(),i.$refs.add_dialog&&i.$refs.add_dialog.clear_and_close(),i.$event.$emit("open_snackbar",i.table_config.add_message),"function"===typeof a&&a(e)})).finally((function(){return i.$event.$emit("btnloading_off",!1)}))},extract_per_page:function(e){var t=e.search("per_page");return e.substring(t+9,t+10)},calc_per_page_items:function(e,t){var i=[5,10,15,20,25];return i.includes(e)||i.push(e),!i.includes(t)&&t<=25&&i.push(t),i},update_item:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;s["a"][e](this.edit_item.id,t,n).then((function(e){var t=i.items.findIndex((function(t){return t.id===e.data.id}));~t&&i.items.splice(t,1,e.data),i.edit_item={id:null,fields:null},i.edit_dialog=!1,i.clear_selected(),i.$event.$emit("open_snackbar",i.table_config.update_message),"function"===typeof r&&r(e)})).finally((function(){return i.$event.$emit("btnloading_off",!1)}))},delete_item:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;s["a"][e](this.delete_item_id,i).then((function(){var e=t.items.findIndex((function(e){return e.id===t.delete_item_id}));~e&&t.items.splice(e,1),t.delete_item_id=null,t.delete_dialog=!1,t.clear_selected(),t.$event.$emit("open_snackbar",t.table_config.delete_message),"function"===typeof n&&n(response)})).finally((function(){return t.$event.$emit("btnloading_off",!1)}))},bulk_delete:function(e){var t=this,i={ids:this.selected.map((function(e){return e.id}))};s["a"][e]({data:i}).then((function(e){var i=e.data;t.selected.forEach((function(e){var i=t.items.findIndex((function(t){return t.id===e.id}));~i&&t.items.splice(i,1)})),t.bulk_delete_dialog=!1,t.clear_selected(),t.$event.$emit("open_snackbar",i.message)})).finally((function(){t.$event.$emit("btnloading_off",!1)}))},bulk_delete_via_url:function(e){var t=this,i={ids:this.selected.map((function(e){return e.id}))};o["a"].delete(e,{data:i}).then((function(e){var i=e.data;t.selected.forEach((function(e){var i=t.items.findIndex((function(t){return t.id===e.id}));~i&&t.items.splice(i,1)})),t.bulk_delete_dialog=!1,t.clear_selected(),t.$event.$emit("open_snackbar",i.message)})).finally((function(){t.$event.$emit("btnloading_off",!1)}))},open_edit_dialog:function(e){this.edit_dialog=!0,this.$set(this.edit_item,"id",e.id),this.$set(this.edit_item,"fields",e)},open_delete_dialog:function(e){this.delete_dialog=!0,this.delete_item_id=e.id},open_bulk_delete_dialog:function(e){this.bulk_delete_dialog=!0,this.selected=e},fill_table:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.loading=!0,s["a"][e](n).then((function(e){t.items_response=e.data,i?(t.items=e.data.data,t.pagination.current=e.data.current_page,t.pagination.total=e.data.last_page,t.hasMoreData()):t.items=e.data})).finally((function(){t.clear_selected(),t.loading=!1,t.$event.$emit("btnloading_off",!1)}))},fill_table_via_url:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;this.loading=!0;var r={page:this.pagination.current};e.includes("per_page")||(r.per_page=this.$store.getters["configs/general_page_limits"]),o["a"].get(e,{params:r}).then((function(e){t.items_response=e.data,i?(t.items=e.data.data,t.pagination.current=e.data.current_page,t.pagination.total=e.data.last_page,t.hasMoreData()):t.items=e.data,"function"===typeof n&&n(e)})).finally((function(){t.clear_selected(),t.loading=!1,t.$event.$emit("btnloading_off",!1)}))},load_more_on_table:function(e){var t=this;this.loading=!0;var i={page:this.pagination.current+1};s["a"][e]({params:i}).then((function(e){var i=e.data;t.items_response=i.data,i.data.forEach((function(e){t.items.push(e)})),t.pagination.current=i.current_page,t.pagination.total=i.last_page,t.hasMoreData()})).finally((function(){t.clear_selected(),t.loading=!1,t.scrollToBottom(),t.$event.$emit("btnloading_off",!1)}))},load_more_via_url:function(e,t){var i=this;this.loading=!0;var n={page:this.pagination.current+1};e.includes("per_page")||(n.per_page=this.$store.getters["configs/general_page_limits"]),o["a"].get(e,{params:n}).then((function(e){var n=e.data;i.items_response=n.data,n.data.forEach((function(e){i.items.push(e)})),i.pagination.current=n.current_page,i.pagination.total=n.last_page,i.hasMoreData(),"function"===typeof t&&t(n)})).finally((function(){i.clear_selected(),i.loading=!1,i.scrollToBottom(),i.$event.$emit("btnloading_off",!1)}))},fill_table_with_data:function(e){this.items=e},add_table_rows:function(e,t){this.items=e,this.items_response=t},changeSort:function(e){this.sort.sortBy===e?this.sort.descending=!this.sort.descending:(this.sort.sortBy=e,this.sort.descending=!1)},refresh_table:function(e){var t=this;s["a"][this.table_config.refresh_table_api_name](e).then((function(e){t.$event.$emit("open_snackbar",t.table_config.refresh_table_message),t.loading=!1,t.clear_selected(),t.items_response=e.data,t.items=e.data.data})).finally((function(){return t.$event.$emit("btnloading_off",!1)}))},update_table_actions:function(e){if(e.page&&(this.page=Number(e.page)),e.per_page&&(this.rows_per_page=Number(e.per_page)),e.search&&(this.search=e.search),e.sort){var t=e.sort.split("|");this.sort.sortBy=t[0],"asc"===t[1]?this.sort.descending=!1:"desc"===t[1]&&(this.sort.descending=!0)}},hasMoreData:function(){this.componentKey+=1,this.pagination.current>=this.pagination.total&&(this.noMoreData=!0)},toggleAll:function(){this.selected.length?this.clear_selected():this.selected=this.items.slice()},setPreferredView:function(e){window.localStorage.setItem("bzk_prefer_view",e),this.view=e},getPreferredView:function(){return window.localStorage.getItem("bzk_prefer_view")||"list"},scrollToBottom:function(){setTimeout((function(){var e=document.getElementsByClassName("v-data-table__wrapper")[0];e&&(e.scrollTop=e.scrollHeight)}),1)},debounce:a()((function(e){this.search=e}),500)}},c={mixins:[l],data:function(){return{edit_dialog:!1,add_dialog:!1,delete_dialog:!1,permissionDialog:!1,bulk_delete_dialog:!1,loading:!1,items:[],items_response:null,edit_item:{id:null,fields:null},delete_item_id:null,show_delete_selected:!1,selected_ids:[],selected:[],rows_per_page:null,page:1,sort:{sortBy:null,descending:!1},search:"",pagination:{current:1,total:0},noMoreData:!1,componentKey:1,view:"list",btnloading:!1}},watch:{selected_ids:function(e){e.length>0?this.show_delete_selected=!0:this.show_delete_selected=!1},api_query:function(e,t){var i=Number(this.extract_per_page(e)),n=Number(this.extract_per_page(t))||null;this.items_response&&this.rows_per_page===this.items.length&&i!==n||(this.$router.replace({name:this.table_config.route_name,query:{page:this.page,per_page:this.rows_per_page,search:this.search,sort:this.query_for_sorting}}),this.loading=!0,this.refresh_table(e))}}}},e3aa:function(e,t,i){"use strict";var n=i("d819"),r=i.n(n);r.a},e652:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e){return(0,n.withParams)({type:"requiredUnless",prop:e},(function(t,i){return!!(0,n.ref)(e,this,i)||(0,n.req)(t)}))};t.default=r},eb66:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e){return(0,n.withParams)({type:"minValue",min:e},(function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))};t.default=r},ec05:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("custom-dialog",{ref:"dialog",attrs:{title:e.title,open:e.opendialog,"button2-text":"Save"},on:{"update:open":function(t){e.opendialog=t},button1:e.clear_and_close}},[i("template",{slot:"content"},[i("v-card",{attrs:{flat:""}},[e.loading?i("v-progress-linear",{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):e._e(),i("v-card-text",[e.required_current_password?i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{color:"#667187",filled:"",dense:"","prepend-inner-icon":"mdi-lock","hide-details":"auto",disabled:e.disabled_all,error:e.$v.current_password.$error,"append-icon":e.show_current_password?"visibility_off":"visibility",label:"Current Password",type:e.show_current_password?"text":"password"},on:{blur:function(t){return e.on_blur_field("current_password")},"click:append":function(t){e.show_current_password=!e.show_current_password}},model:{value:e.current_password,callback:function(t){e.current_password="string"===typeof t?t.trim():t},expression:"current_password"}})],1):e._e(),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{color:"#667187",filled:"",dense:"","prepend-inner-icon":"mdi-onepassword","hide-details":"auto",disabled:e.disabled_all,error:e.$v.password.$error,"append-icon":e.show_password?"visibility_off":"visibility",label:"New Password",type:e.show_password?"text":"password"},on:{blur:function(t){return e.on_blur_field("password")},"click:append":function(t){e.show_password=!e.show_password}},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{color:"#667187",filled:"",dense:"","prepend-inner-icon":"mdi-onepassword","hide-details":"auto",disabled:e.disabled_all,error:e.$v.repeat_password.$error,"append-icon":e.show_repeat_password?"visibility_off":"visibility",label:"Repeat New Password",type:e.show_repeat_password?"text":"password"},on:{blur:function(t){return e.on_blur_field("repeat_password")},"click:append":function(t){e.show_repeat_password=!e.show_repeat_password}},model:{value:e.repeat_password,callback:function(t){e.repeat_password="string"===typeof t?t.trim():t},expression:"repeat_password"}})],1)],1)],1)],1),i("template",{slot:"button2"},[i("v-btn",{attrs:{disabled:e.$v.$invalid,loading:e.btnloading},on:{click:e.save}},[e._v(" Save ")])],1)],2)},r=[],a=(i("28a5"),i("b5ae")),s=i("8103"),o=i.n(s),l={validations:{current_password:{required:Object(a["requiredIf"])((function(){return this.required_current_password}))},password:{required:a["required"],minLength:Object(a["minLength"])(6),containsNumber:function(e){return!e||e.length<6||/\d/.test(e)}},repeat_password:{required:a["required"],matchPassword:function(e){return e===this.password}}},methods:{on_blur_field:function(e){if(this.$v[e].$touch(),this.$v[e].$invalid){var t=e.split("_").map(o.a).join(" ");this.$event.$emit("open_snackbar","".concat(t," is invalid"),"error")}},all_validations_passed:function(){return this.$v.$touch(),!this.$v.$invalid||(this.$event.$emit("open_snackbar","Please fill fields correctly!","error"),!1)}}},c=i("1be9"),d=i("57e5"),u={name:"UpdatePasswordDialog",mixins:[l],props:{title:String,isEditDialog:{type:Boolean,default:!1},fieldsToEdit:{type:Object,default:function(){}}},components:{CustomDialog:d["a"]},created:function(){var e=this;this.$event.$on("btnloading_off",(function(t){return e.btnloading=t}))},data:function(){return{btnloading:!1,opendialog:!1,current_password:"",password:"",repeat_password:"",required_current_password:!0,show_current_password:!1,show_password:!1,show_repeat_password:!1,loading:!1,disabled_all:!1}},computed:{initiator:function(){return this.$store.getters.user}},methods:{open:function(){this.opendialog=!0,this.initiator.is_admin&&this.initiator.id!==this.fieldsToEdit.id&&(this.required_current_password=!1),this.initiator.is_admin||this.initiator.id===this.fieldsToEdit.id||(this.disabled_all=!0),this.initiator.is_admin||this.initiator.id!==this.fieldsToEdit.id||(this.disabled_all=!1)},cancel:function(){this.opendialog=!1,this.btnloading=!1,this.$emit("close-dialog")},clear_and_close:function(){this.password=this.repeat_password=this.current_password="",this.cancel()},save:function(){var e=this;if(this.all_validations_passed()){this.btnloading=!0;var t=this.get_fields();c["a"].post("api/user/update-password",t).then((function(t){var i=t.data;e.fieldsToEdit.fields=i.data,e.clear_and_close(),e.$event.$emit("open_snackbar","Password updated")})).finally((function(){e.btnloading=!1}))}},get_fields:function(){var e={user_id:this.fieldsToEdit.id,password:this.password,password_confirmation:this.repeat_password,required_current_password:this.required_current_password};return this.required_current_password&&(e.current_password=this.current_password),e}}},f=u,p=(i("0e3c"),i("e3aa"),i("2877")),_=Object(p["a"])(f,n,r,!1,null,"15172b50",null);t["a"]=_.exports},ec11:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("78ef"),r=function(e,t){return(0,n.withParams)({type:"between",min:e,max:t},(function(i){return!(0,n.req)(i)||(!/\s/.test(i)||i instanceof Date)&&+e<=+i&&+t>=+i}))};t.default=r},f593:function(e,t,i){}}]);
//# sourceMappingURL=chunk-131a6d17.799320b9.js.map