(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f25cb06"],{"10fc":function(e,t,n){"use strict";var i=n("65a1"),a=n.n(i);a.a},"259d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breadcrumb-wrapper"},[n("v-breadcrumbs",{attrs:{items:e.paths},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[n("v-breadcrumbs-item",{staticClass:"page__title",attrs:{disabled:i.disabled}},[n("span",{on:{click:function(t){return e.navigate_from_breadcrumb(i)}}},[e._v(" "+e._s(i.text)+" ")])])]}}])},[n("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")])],1)],1)},a=[],o={name:"Breadcrumb",props:{paths:{type:Array,default:function(){return[]}}},methods:{navigate_from_breadcrumb:function(e){if(e.hasOwnProperty("path"))e.path&&this.$router.push({path:e.path});else{var t=e.router_name;t&&this.$router.push({name:t})}}}},s=o,r=(n("87d8"),n("10fc"),n("2877")),c=Object(r["a"])(s,i,a,!1,null,"14ca3542",null);t["a"]=c.exports},"29d6":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{staticClass:"table-header",attrs:{wrap:""}},[n("breadcrumb",{attrs:{paths:e.paths}}),n("v-flex",[e.noButton?e._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(t){return e.$emit("click")}}},[n("v-icon",[e._v("add")])],1),e.noSortButton?e._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(t){return e.$emit("click-sort-by")}}},[n("v-icon",[e._v("sort")])],1),e.noListButton?e._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(t){return e.$emit("click-list-view")}}},[n("v-icon",[e._v("list")])],1),e.noGridButton?e._e():n("v-btn",{staticClass:"add__btn mr-2",attrs:{fab:"",small:"",dark:"",color:"#3b589e"},on:{click:function(t){return e.$emit("click-grid-view")}}},[n("v-icon",[e._v("mdi-view-dashboard")])],1),e._t("form-btn")],2)],1)},a=[],o=n("259d"),s={name:"TableHeader",props:{paths:{type:Array,default:[]},noButton:{type:Boolean,default:!1},noListButton:{type:Boolean,default:!0},noGridButton:{type:Boolean,default:!0},noSortButton:{type:Boolean,default:!0}},data:function(){return{fab:!0}},components:{Breadcrumb:o["a"]}},r=s,c=(n("337a"),n("2877")),l=Object(c["a"])(r,i,a,!1,null,"b8bfd1cc",null);t["a"]=l.exports},"337a":function(e,t,n){"use strict";var i=n("9e25"),a=n.n(i);a.a},"382f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"invoice"},[n("table-header",{attrs:{paths:e.paths},on:{click:e.open_create_dialog}}),n("InvoiceDialog",{attrs:{type:"create"},on:{created:function(t){return e.items.unshift(t)}}}),n("InvoiceDialog",{attrs:{type:"edit"},on:{updated:e.invoice_updated}}),n("ViewInvoice",{ref:"view_invoice_dialog",attrs:{item:e.view_item,open:e.view_invoice_dialog},on:{close:function(t){e.view_invoice_dialog=!1}}}),n("delete-dialog",{attrs:{"open-dialog":e.delete_dialog,title:"Delete Invoice","text-content":"Are you sure you want to delete this invoice?"},on:{"update:openDialog":function(t){e.delete_dialog=t},"update:open-dialog":function(t){e.delete_dialog=t},delete:e.delete_invoice}}),n("delete-dialog",{attrs:{"open-dialog":e.bulk_delete_dialog,title:"Delete Invoices","text-content":"Are you sure you want to delete these invoices? This can't be undone."},on:{"update:openDialog":function(t){e.bulk_delete_dialog=t},"update:open-dialog":function(t){e.bulk_delete_dialog=t},delete:function(t){return e.bulk_delete("bulk_delete_invoices")}}}),n("VueTable",{key:e.componentKey,attrs:{items:e.items,headers:e.headers,showRowActions:!0,icon:"list",loading:e.loading,title:"Invoice",noMoreData:e.noMoreData,showSelect:!0},on:{"delete-selected":function(t){return e.open_bulk_delete_dialog(t)},"load-more":e.load_more},scopedSlots:e._u([{key:"row-slot",fn:function(t){var i=t.item;return[n("td",{on:{click:function(t){return e.open_view_dialog(i)}}},[e._v("#INV-"+e._s(i.id))]),n("td",{on:{click:function(t){return e.open_view_dialog(i)}}},[e._v(e._s(e._f("ucwords")(i.title)))]),n("td",[e._v(e._s(e._f("format")(i.due_date)))]),n("td",[n("v-avatar",{attrs:{size:"30",color:"teal"}},[n("v-img",{attrs:{src:i.billedTo.image_url,title:i.billedTo.fullname},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("span",{staticClass:"white--text headline"},[e._v("C")])]},proxy:!0}],null,!0)})],1),e._v(" "+e._s(e._f("ucwords")(i.billedTo.fullname))+" ")],1),n("td",[e._v(e._s(e._f("ucwords")(i.status)))]),n("td",[e._v("$ "+e._s(i.total_amount))]),n("Actions",{attrs:{item:i,permissions:e.$_permissions.get("invoices")},on:{delete:function(t){return e.open_delete_dialog(i)},edit:function(t){return e.open_edit_dialog(i)},view:function(t){return e.open_view_dialog(i)}}})]}},{key:"empty-slot",fn:function(){return[n("v-btn",{attrs:{dark:"",color:"#3b589e"},on:{click:e.open_create_dialog}},[e._v(" Add Invoice")])]},proxy:!0}])})],1)},a=[],o=(n("8e6e"),n("456d"),n("ac6a"),n("20d6"),n("96cf"),n("3b8d")),s=n("bd86"),r=n("e6d3"),c=n("e06e"),l=n("2f62"),d=n("0644"),u=n.n(d),_=n("579d"),f=n("29d6"),v=n("5b70"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"justify-center":""}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",{staticClass:"email__dialog"},[n("v-card-title",{staticClass:"dialog__header"},[n("span",{staticClass:"dialog__title"},[e._v("Send Invoice Options")]),n("v-btn",{staticClass:"close__dialog",attrs:{fab:"",small:""},on:{click:e.clear_and_close}},[n("v-icon",[e._v("close")])],1)],1),n("v-card-text",{staticClass:"dialog__body"},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-select",{staticClass:"dialog__selectfield",attrs:{label:"Status",items:e.status_items,solo:"","hide-details":"",color:"#657186"},model:{value:e.selected_status,callback:function(t){e.selected_status=t},expression:"selected_status"}})],1)],1)],1),n("v-card-actions",{staticClass:"dialog__actions"},[n("v-btn",{on:{click:e.clear_and_close}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.status_disabled},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)},b=[],g=n("1be9");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={name:"EmailDialog",props:{dialog:Boolean},data:function(){return{open:!1,status_items:[{id:1,text:"Once",value:"once"},{id:2,text:"Weekly",value:"weekly"},{id:3,text:"Monthly",value:"monthly"}],selected_status:null}},computed:m({},Object(l["c"])("invoice",["invoice_id"]),{status_disabled:function(){return!this.selected_status}}),watch:{dialog:function(e){this.open=e},open:function(e){this.$emit("update:dialog",e)}},methods:{clear_and_close:function(){this.$store.commit("invoice/set_invoice_id",null),Object.assign(this.$data,this.$options.data.apply(this)),this.open=!1},save:function(){g["a"].post("api/invoice/email",{invoice_id:this.invoice_id,iteration:this.selected_status}),this.clear_and_close()}}},w=y,O=(n("de01"),n("3c5c"),n("2877")),k=Object(O["a"])(w,p,b,!1,null,"b4785a44",null),j=k.exports,x=n("e93d"),D=n("9107"),I=n("ee09"),$=n("0ebe");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={name:"Invoice",mixins:[c["a"],_["a"]],components:{TableHeader:f["a"],InvoiceDialog:x["a"],VueTable:$["a"],EmailDialog:j,DeleteDialog:v["a"],ViewInvoice:D["a"],Actions:I["a"]},data:function(){return{view_invoice_dialog:!1,paths:[{text:"Dashboard",disabled:!1,router_name:"default-content"},{text:"Invoice",disabled:!0,router_name:null}],headers:[{text:"Invoice #",value:"id",sortable:!1},{text:"Title",value:"invoice",sortable:!1},{text:"Due Date",value:"due_date",sortable:!1},{text:"Client",value:"client",sortable:!1},{text:"Status",value:"Status",sortable:!1},{text:"Amount",value:"amount",sortable:!1},{text:"Action",value:"actions",sortable:!1,width:"140px",align:"center"}],view_item:null,table_config:{add_message:"New invoice added successfully!",update_message:"Invoice updated successfully!",delete_message:"Invoice deleted successfully!",refresh_table_message:"Table refreshed"}}},created:function(){this.fetch_data(),this.getInvoices()},beforeDestroy:function(){this.$store.commit("invoice/reset_state")},methods:P({},Object(l["d"])("invoice",["set_dialog","set_toolbar","set_projects","open_invoice_for_editing","set_selected_project"]),{open_create_dialog:function(){this.set_toolbar({title:"Create Invoice"}),this.set_dialog({type:"create",open:!0})},open_edit_dialog:function(e){this.set_toolbar({title:"Edit Dialog"}),this.open_invoice_for_editing(u()(e)),this.set_selected_project(e.project_id),this.set_dialog({type:"edit",open:!0})},open_view_dialog:function(e){this.view_item=e,this.view_invoice_dialog=!0},delete_invoice:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,this.delete_dialog=!1,e.next=4,r["a"].delete_invoice(this.delete_item_id);case 4:this.loading=!1,t=this.items.findIndex((function(e){return e.id===n.delete_item_id})),~t&&this.items.splice(t,1);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetch_data:function(){var e=this;r["a"].get_all_projects().then((function(t){e.set_projects(t.data)})).finally((function(){return e.loading=!1}))},invoice_updated:function(e){var t=this.items.findIndex((function(t){return t.id===e.id}));~t&&this.items.splice(t,1,e)},getInvoices:function(){var e=this;this.loading=!0,r["a"].get_invoices(this.pagination.current,this.rows_per_page).then((function(t){var n=t.data;e.items=n.data,e.pagination.current=n.current_page,e.pagination.total=n.last_page,e.hasMoreData()})).finally((function(){e.loading=!1,e.$event.$emit("btnloading_off",!1)}))},load_more:function(){var e=this;this.loading=!0,r["a"].get_invoices(this.pagination.current+1).then((function(t){var n=t.data;console.log(n.data),n.data.forEach((function(t){e.items.push(t)})),e.pagination.current=n.current_page,e.pagination.total=n.last_page,e.hasMoreData()})).finally((function(){e.loading=!1,e.$event.$emit("btnloading_off",!1)}))}})},S=B,E=(n("fb0e"),n("cf92"),Object(O["a"])(S,i,a,!1,null,"4390bcba",null));t["default"]=E.exports},"3c5c":function(e,t,n){"use strict";var i=n("a2ff"),a=n.n(i);a.a},"41f8":function(e,t,n){},"65a1":function(e,t,n){},"87d8":function(e,t,n){"use strict";var i=n("e403"),a=n.n(i);a.a},"9e25":function(e,t,n){},a2ff:function(e,t,n){},c415:function(e,t,n){},c676:function(e,t,n){},cf92:function(e,t,n){"use strict";var i=n("c676"),a=n.n(i);a.a},de01:function(e,t,n){"use strict";var i=n("c415"),a=n.n(i);a.a},e403:function(e,t,n){},fb0e:function(e,t,n){"use strict";var i=n("41f8"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-1f25cb06.25693911.js.map